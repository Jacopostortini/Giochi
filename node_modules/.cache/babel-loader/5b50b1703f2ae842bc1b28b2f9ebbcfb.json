{"remainingRequest":"C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\src\\modules\\renderer.js","dependencies":[{"path":"C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\src\\modules\\renderer.js","mtime":1615123502096},{"path":"C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1613722167369},{"path":"C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\node_modules\\babel-loader\\lib\\index.js","mtime":1613722166857},{"path":"C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\node_modules\\eslint-loader\\index.js","mtime":1613722172921}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIkM6L1VzZXJzL21hdHRlL0Rlc2t0b3AvcGFwZXJvL3Vuc2Vlbi5wYXBlcm8udGsvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOwoKdmFyIGhhc1Bvc2l0aW9uQ2hhbmdlZCA9IGZ1bmN0aW9uIGhhc1Bvc2l0aW9uQ2hhbmdlZChfcmVmKSB7CiAgdmFyIHBvcyA9IF9yZWYucG9zLAogICAgICBwcmV2UG9zID0gX3JlZi5wcmV2UG9zOwogIHJldHVybiBwb3MgIT09IHByZXZQb3M7Cn07Cgp2YXIgdmFsdWVJblJhbmdlID0gZnVuY3Rpb24gdmFsdWVJblJhbmdlKF9yZWYyKSB7CiAgdmFyIG1pblNjYWxlID0gX3JlZjIubWluU2NhbGUsCiAgICAgIG1heFNjYWxlID0gX3JlZjIubWF4U2NhbGUsCiAgICAgIHNjYWxlID0gX3JlZjIuc2NhbGU7CiAgcmV0dXJuIHNjYWxlIDw9IG1heFNjYWxlICYmIHNjYWxlID49IG1pblNjYWxlOwp9OwoKdmFyIGdldFRyYW5zbGF0ZSA9IGZ1bmN0aW9uIGdldFRyYW5zbGF0ZShfcmVmMykgewogIHZhciBtaW5TY2FsZSA9IF9yZWYzLm1pblNjYWxlLAogICAgICBtYXhTY2FsZSA9IF9yZWYzLm1heFNjYWxlLAogICAgICBzY2FsZSA9IF9yZWYzLnNjYWxlOwogIHJldHVybiBmdW5jdGlvbiAoX3JlZjQpIHsKICAgIHZhciBwb3MgPSBfcmVmNC5wb3MsCiAgICAgICAgcHJldlBvcyA9IF9yZWY0LnByZXZQb3MsCiAgICAgICAgdHJhbnNsYXRlID0gX3JlZjQudHJhbnNsYXRlOwogICAgcmV0dXJuIHZhbHVlSW5SYW5nZSh7CiAgICAgIG1pblNjYWxlOiBtaW5TY2FsZSwKICAgICAgbWF4U2NhbGU6IG1heFNjYWxlLAogICAgICBzY2FsZTogc2NhbGUKICAgIH0pICYmIGhhc1Bvc2l0aW9uQ2hhbmdlZCh7CiAgICAgIHBvczogcG9zLAogICAgICBwcmV2UG9zOiBwcmV2UG9zCiAgICB9KSA/IHRyYW5zbGF0ZSArIChwb3MgLSBwcmV2UG9zICogc2NhbGUpICogKDEgLSAxIC8gc2NhbGUpIDogdHJhbnNsYXRlOwogIH07Cn07Cgp2YXIgZ2V0U2NhbGUgPSBmdW5jdGlvbiBnZXRTY2FsZShfcmVmNSkgewogIHZhciBzY2FsZSA9IF9yZWY1LnNjYWxlLAogICAgICBtaW5TY2FsZSA9IF9yZWY1Lm1pblNjYWxlLAogICAgICBtYXhTY2FsZSA9IF9yZWY1Lm1heFNjYWxlLAogICAgICBzY2FsZVNlbnNpdGl2aXR5ID0gX3JlZjUuc2NhbGVTZW5zaXRpdml0eSwKICAgICAgZGVsdGFTY2FsZSA9IF9yZWY1LmRlbHRhU2NhbGU7CiAgdmFyIG5ld1NjYWxlID0gc2NhbGUgKyBkZWx0YVNjYWxlIC8gKHNjYWxlU2Vuc2l0aXZpdHkgLyBzY2FsZSk7CiAgbmV3U2NhbGUgPSBNYXRoLm1heChtaW5TY2FsZSwgTWF0aC5taW4obmV3U2NhbGUsIG1heFNjYWxlKSk7CiAgcmV0dXJuIFtzY2FsZSwgbmV3U2NhbGVdOwp9OwoKdmFyIGdldE1hdHJpeCA9IGZ1bmN0aW9uIGdldE1hdHJpeChfcmVmNikgewogIHZhciBzY2FsZSA9IF9yZWY2LnNjYWxlLAogICAgICB0cmFuc2xhdGVYID0gX3JlZjYudHJhbnNsYXRlWCwKICAgICAgdHJhbnNsYXRlWSA9IF9yZWY2LnRyYW5zbGF0ZVk7CiAgcmV0dXJuICJtYXRyaXgoIi5jb25jYXQoc2NhbGUsICIsIDAsIDAsICIpLmNvbmNhdChzY2FsZSwgIiwgIikuY29uY2F0KHRyYW5zbGF0ZVgsICIsICIpLmNvbmNhdCh0cmFuc2xhdGVZLCAiKSIpOwp9OwoKdmFyIHBhbiA9IGZ1bmN0aW9uIHBhbihfcmVmNykgewogIHZhciBzdGF0ZSA9IF9yZWY3LnN0YXRlLAogICAgICBvcmlnaW5YID0gX3JlZjcub3JpZ2luWCwKICAgICAgb3JpZ2luWSA9IF9yZWY3Lm9yaWdpblk7CiAgc3RhdGUudHJhbnNmb3JtYXRpb24udHJhbnNsYXRlWCArPSBvcmlnaW5YOwogIHN0YXRlLnRyYW5zZm9ybWF0aW9uLnRyYW5zbGF0ZVkgKz0gb3JpZ2luWTsKICBzdGF0ZS5lbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IGdldE1hdHJpeCh7CiAgICBzY2FsZTogc3RhdGUudHJhbnNmb3JtYXRpb24uc2NhbGUsCiAgICB0cmFuc2xhdGVYOiBzdGF0ZS50cmFuc2Zvcm1hdGlvbi50cmFuc2xhdGVYLAogICAgdHJhbnNsYXRlWTogc3RhdGUudHJhbnNmb3JtYXRpb24udHJhbnNsYXRlWQogIH0pOwp9OwoKdmFyIG1ha2VQYW4gPSBmdW5jdGlvbiBtYWtlUGFuKHN0YXRlKSB7CiAgcmV0dXJuIHsKICAgIHBhbkJ5OiBmdW5jdGlvbiBwYW5CeShfcmVmOCkgewogICAgICB2YXIgb3JpZ2luWCA9IF9yZWY4Lm9yaWdpblgsCiAgICAgICAgICBvcmlnaW5ZID0gX3JlZjgub3JpZ2luWTsKICAgICAgcmV0dXJuIHBhbih7CiAgICAgICAgc3RhdGU6IHN0YXRlLAogICAgICAgIG9yaWdpblg6IG9yaWdpblgsCiAgICAgICAgb3JpZ2luWTogb3JpZ2luWQogICAgICB9KTsKICAgIH0sCiAgICBwYW5UbzogZnVuY3Rpb24gcGFuVG8oX3JlZjkpIHsKICAgICAgdmFyIG9yaWdpblggPSBfcmVmOS5vcmlnaW5YLAogICAgICAgICAgb3JpZ2luWSA9IF9yZWY5Lm9yaWdpblksCiAgICAgICAgICBzY2FsZSA9IF9yZWY5LnNjYWxlOwogICAgICBzdGF0ZS50cmFuc2Zvcm1hdGlvbi5zY2FsZSA9IHNjYWxlOwogICAgICBwYW4oewogICAgICAgIHN0YXRlOiBzdGF0ZSwKICAgICAgICBvcmlnaW5YOiBvcmlnaW5YIC0gc3RhdGUudHJhbnNmb3JtYXRpb24udHJhbnNsYXRlWCwKICAgICAgICBvcmlnaW5ZOiBvcmlnaW5ZIC0gc3RhdGUudHJhbnNmb3JtYXRpb24udHJhbnNsYXRlWQogICAgICB9KTsKICAgIH0KICB9Owp9OwoKdmFyIG1ha2Vab29tID0gZnVuY3Rpb24gbWFrZVpvb20oc3RhdGUpIHsKICByZXR1cm4gewogICAgem9vbTogZnVuY3Rpb24gem9vbShfcmVmMTApIHsKICAgICAgdmFyIHggPSBfcmVmMTAueCwKICAgICAgICAgIHkgPSBfcmVmMTAueSwKICAgICAgICAgIGRlbHRhU2NhbGUgPSBfcmVmMTAuZGVsdGFTY2FsZTsKCiAgICAgIHZhciBfc3RhdGUkZWxlbWVudCRnZXRCb3UgPSBzdGF0ZS5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLAogICAgICAgICAgbGVmdCA9IF9zdGF0ZSRlbGVtZW50JGdldEJvdS5sZWZ0LAogICAgICAgICAgdG9wID0gX3N0YXRlJGVsZW1lbnQkZ2V0Qm91LnRvcDsKCiAgICAgIHZhciBtaW5TY2FsZSA9IHN0YXRlLm1pblNjYWxlLAogICAgICAgICAgbWF4U2NhbGUgPSBzdGF0ZS5tYXhTY2FsZSwKICAgICAgICAgIHNjYWxlU2Vuc2l0aXZpdHkgPSBzdGF0ZS5zY2FsZVNlbnNpdGl2aXR5OwoKICAgICAgdmFyIF9nZXRTY2FsZSA9IGdldFNjYWxlKHsKICAgICAgICBzY2FsZTogc3RhdGUudHJhbnNmb3JtYXRpb24uc2NhbGUsCiAgICAgICAgZGVsdGFTY2FsZTogZGVsdGFTY2FsZSwKICAgICAgICBtaW5TY2FsZTogbWluU2NhbGUsCiAgICAgICAgbWF4U2NhbGU6IG1heFNjYWxlLAogICAgICAgIHNjYWxlU2Vuc2l0aXZpdHk6IHNjYWxlU2Vuc2l0aXZpdHkKICAgICAgfSksCiAgICAgICAgICBfZ2V0U2NhbGUyID0gX3NsaWNlZFRvQXJyYXkoX2dldFNjYWxlLCAyKSwKICAgICAgICAgIHNjYWxlID0gX2dldFNjYWxlMlswXSwKICAgICAgICAgIG5ld1NjYWxlID0gX2dldFNjYWxlMlsxXTsKCiAgICAgIHZhciBvcmlnaW5YID0geCAtIGxlZnQ7CiAgICAgIHZhciBvcmlnaW5ZID0geSAtIHRvcDsKICAgICAgdmFyIG5ld09yaWdpblggPSBvcmlnaW5YIC8gc2NhbGU7CiAgICAgIHZhciBuZXdPcmlnaW5ZID0gb3JpZ2luWSAvIHNjYWxlOwogICAgICB2YXIgdHJhbnNsYXRlID0gZ2V0VHJhbnNsYXRlKHsKICAgICAgICBzY2FsZTogc2NhbGUsCiAgICAgICAgbWluU2NhbGU6IG1pblNjYWxlLAogICAgICAgIG1heFNjYWxlOiBtYXhTY2FsZQogICAgICB9KTsKICAgICAgdmFyIHRyYW5zbGF0ZVggPSB0cmFuc2xhdGUoewogICAgICAgIHBvczogb3JpZ2luWCwKICAgICAgICBwcmV2UG9zOiBzdGF0ZS50cmFuc2Zvcm1hdGlvbi5vcmlnaW5YLAogICAgICAgIHRyYW5zbGF0ZTogc3RhdGUudHJhbnNmb3JtYXRpb24udHJhbnNsYXRlWAogICAgICB9KTsKICAgICAgdmFyIHRyYW5zbGF0ZVkgPSB0cmFuc2xhdGUoewogICAgICAgIHBvczogb3JpZ2luWSwKICAgICAgICBwcmV2UG9zOiBzdGF0ZS50cmFuc2Zvcm1hdGlvbi5vcmlnaW5ZLAogICAgICAgIHRyYW5zbGF0ZTogc3RhdGUudHJhbnNmb3JtYXRpb24udHJhbnNsYXRlWQogICAgICB9KTsKICAgICAgc3RhdGUuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSAiIi5jb25jYXQobmV3T3JpZ2luWCwgInB4ICIpLmNvbmNhdChuZXdPcmlnaW5ZLCAicHgiKTsKICAgICAgc3RhdGUuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSBnZXRNYXRyaXgoewogICAgICAgIHNjYWxlOiBuZXdTY2FsZSwKICAgICAgICB0cmFuc2xhdGVYOiB0cmFuc2xhdGVYLAogICAgICAgIHRyYW5zbGF0ZVk6IHRyYW5zbGF0ZVkKICAgICAgfSk7CiAgICAgIHN0YXRlLnRyYW5zZm9ybWF0aW9uID0gewogICAgICAgIG9yaWdpblg6IG5ld09yaWdpblgsCiAgICAgICAgb3JpZ2luWTogbmV3T3JpZ2luWSwKICAgICAgICB0cmFuc2xhdGVYOiB0cmFuc2xhdGVYLAogICAgICAgIHRyYW5zbGF0ZVk6IHRyYW5zbGF0ZVksCiAgICAgICAgc2NhbGU6IG5ld1NjYWxlCiAgICAgIH07CiAgICB9CiAgfTsKfTsKCnZhciBtYWtlVG9EZWZhdWx0ID0gZnVuY3Rpb24gbWFrZVRvRGVmYXVsdChzdGF0ZSkgewogIHJldHVybiB7CiAgICB0b0RlZmF1bHQ6IGZ1bmN0aW9uIHRvRGVmYXVsdCgpIHsKICAgICAgc3RhdGUuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSAiMHB4IDBweCI7CiAgICAgIHN0YXRlLmVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gZ2V0TWF0cml4KHsKICAgICAgICBzY2FsZTogc3RhdGUuZGVmYXVsdFNjYWxlLAogICAgICAgIHRyYW5zbGF0ZVg6IDAsCiAgICAgICAgdHJhbnNsYXRlWTogMAogICAgICB9KTsKICAgICAgc3RhdGUudHJhbnNmb3JtYXRpb24gPSB7CiAgICAgICAgb3JpZ2luWDogMCwKICAgICAgICBvcmlnaW5ZOiAwLAogICAgICAgIHRyYW5zbGF0ZVg6IDAsCiAgICAgICAgdHJhbnNsYXRlWTogMCwKICAgICAgICBzY2FsZTogc3RhdGUuZGVmYXVsdFNjYWxlCiAgICAgIH07CiAgICB9CiAgfTsKfTsKCnZhciByZW5kZXJlciA9IGZ1bmN0aW9uIHJlbmRlcmVyKF9yZWYxMSkgewogIHZhciBtaW5TY2FsZSA9IF9yZWYxMS5taW5TY2FsZSwKICAgICAgbWF4U2NhbGUgPSBfcmVmMTEubWF4U2NhbGUsCiAgICAgIGVsZW1lbnQgPSBfcmVmMTEuZWxlbWVudCwKICAgICAgX3JlZjExJHNjYWxlU2Vuc2l0aXZpID0gX3JlZjExLnNjYWxlU2Vuc2l0aXZpdHksCiAgICAgIHNjYWxlU2Vuc2l0aXZpdHkgPSBfcmVmMTEkc2NhbGVTZW5zaXRpdmkgPT09IHZvaWQgMCA/IDEwIDogX3JlZjExJHNjYWxlU2Vuc2l0aXZpLAogICAgICBfcmVmMTEkZGVmYXVsdFNjYWxlID0gX3JlZjExLmRlZmF1bHRTY2FsZSwKICAgICAgZGVmYXVsdFNjYWxlID0gX3JlZjExJGRlZmF1bHRTY2FsZSA9PT0gdm9pZCAwID8gMSA6IF9yZWYxMSRkZWZhdWx0U2NhbGU7CiAgdmFyIHN0YXRlID0gewogICAgZWxlbWVudDogZWxlbWVudCwKICAgIG1pblNjYWxlOiBtaW5TY2FsZSwKICAgIG1heFNjYWxlOiBtYXhTY2FsZSwKICAgIHNjYWxlU2Vuc2l0aXZpdHk6IHNjYWxlU2Vuc2l0aXZpdHksCiAgICBkZWZhdWx0U2NhbGU6IGRlZmF1bHRTY2FsZSwKICAgIHRyYW5zZm9ybWF0aW9uOiB7CiAgICAgIG9yaWdpblg6IDAsCiAgICAgIG9yaWdpblk6IDAsCiAgICAgIHRyYW5zbGF0ZVg6IDAsCiAgICAgIHRyYW5zbGF0ZVk6IDAsCiAgICAgIHNjYWxlOiAxCiAgICB9CiAgfTsKICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgbWFrZVpvb20oc3RhdGUpLCBtYWtlUGFuKHN0YXRlKSwgbWFrZVRvRGVmYXVsdChzdGF0ZSkpOwp9OwoKZXhwb3J0IGRlZmF1bHQgcmVuZGVyZXI7"},{"version":3,"sources":["C:/Users/matte/Desktop/papero/unseen.papero.tk/src/modules/renderer.js"],"names":["hasPositionChanged","pos","prevPos","valueInRange","minScale","maxScale","scale","getTranslate","translate","getScale","scaleSensitivity","deltaScale","newScale","Math","max","min","getMatrix","translateX","translateY","pan","state","originX","originY","transformation","element","style","transform","makePan","panBy","panTo","makeZoom","zoom","x","y","getBoundingClientRect","left","top","newOriginX","newOriginY","transformOrigin","makeToDefault","toDefault","defaultScale","renderer","Object","assign"],"mappings":"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","sourcesContent":["const hasPositionChanged = ({ pos, prevPos }) => pos !== prevPos;\r\n\r\nconst valueInRange = ({ minScale, maxScale, scale }) => scale <= maxScale && scale >= minScale;\r\n\r\nconst getTranslate = ({ minScale, maxScale, scale }) => ({ pos, prevPos, translate }) =>\r\n    valueInRange({ minScale, maxScale, scale }) && hasPositionChanged({ pos, prevPos })\r\n        ? translate + (pos - prevPos * scale) * (1 - 1 / scale)\r\n        : translate;\r\n\r\nconst getScale = ({ scale, minScale, maxScale, scaleSensitivity, deltaScale }) => {\r\n    let newScale = scale + (deltaScale / (scaleSensitivity / scale));\r\n    newScale = Math.max(minScale, Math.min(newScale, maxScale));\r\n    return [scale, newScale];\r\n};\r\n\r\nconst getMatrix = ({ scale, translateX, translateY }) => `matrix(${scale}, 0, 0, ${scale}, ${translateX}, ${translateY})`;\r\n\r\nconst pan = ({ state, originX, originY }) => {\r\n    state.transformation.translateX += originX;\r\n    state.transformation.translateY += originY;\r\n    state.element.style.transform =\r\n        getMatrix({ scale: state.transformation.scale, translateX: state.transformation.translateX, translateY: state.transformation.translateY });\r\n};\r\n\r\nconst makePan = (state) => ({\r\n    panBy: ({ originX, originY }) => pan({ state, originX, originY }),\r\n    panTo: ({ originX, originY, scale }) => {\r\n        state.transformation.scale = scale;\r\n        pan({ state, originX: originX - state.transformation.translateX, originY: originY - state.transformation.translateY });\r\n    },\r\n});\r\n\r\nconst makeZoom = (state) => ({\r\n    zoom: ({ x, y, deltaScale }) => {\r\n        const { left, top } = state.element.getBoundingClientRect();\r\n        const { minScale, maxScale, scaleSensitivity } = state;\r\n        const [ scale, newScale ] = getScale({ scale: state.transformation.scale, deltaScale, minScale, maxScale, scaleSensitivity });\r\n        const originX = x - left;\r\n        const originY = y - top;\r\n        const newOriginX = originX / scale;\r\n        const newOriginY = originY / scale;\r\n        const translate = getTranslate({ scale, minScale, maxScale });\r\n        const translateX = translate({ pos: originX, prevPos: state.transformation.originX, translate: state.transformation.translateX });\r\n        const translateY = translate({ pos: originY, prevPos: state.transformation.originY, translate: state.transformation.translateY });\r\n\r\n        state.element.style.transformOrigin = `${newOriginX}px ${newOriginY}px`;\r\n        state.element.style.transform = getMatrix({ scale: newScale, translateX, translateY });\r\n        state.transformation = { originX: newOriginX, originY: newOriginY, translateX, translateY, scale: newScale };\r\n    }\r\n});\r\n\r\nconst makeToDefault = (state) => ({\r\n   toDefault: () => {\r\n       state.element.style.transformOrigin = \"0px 0px\";\r\n       state.element.style.transform = getMatrix({\r\n           scale: state.defaultScale,\r\n           translateX: 0,\r\n           translateY: 0\r\n       });\r\n       state.transformation = {\r\n           originX: 0,\r\n           originY: 0,\r\n           translateX: 0,\r\n           translateY: 0,\r\n           scale: state.defaultScale\r\n       };\r\n   }\r\n});\r\n\r\nconst renderer = ({ minScale, maxScale, element, scaleSensitivity = 10, defaultScale = 1 }) => {\r\n    const state = {\r\n        element,\r\n        minScale,\r\n        maxScale,\r\n        scaleSensitivity,\r\n        defaultScale,\r\n        transformation: {\r\n            originX: 0,\r\n            originY: 0,\r\n            translateX: 0,\r\n            translateY: 0,\r\n            scale: 1\r\n        },\r\n    };\r\n    return Object.assign({}, makeZoom(state), makePan(state), makeToDefault(state));\r\n};\r\n\r\nexport default renderer"]}]}