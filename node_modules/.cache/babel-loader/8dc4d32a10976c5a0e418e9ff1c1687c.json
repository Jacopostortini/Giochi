{"remainingRequest":"/media/jacopo/VolumeDati/Documenti/Giochi/node_modules/babel-loader/lib/index.js!/media/jacopo/VolumeDati/Documenti/Giochi/node_modules/cache-loader/dist/cjs.js??ref--0-0!/media/jacopo/VolumeDati/Documenti/Giochi/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/media/jacopo/VolumeDati/Documenti/Giochi/src/components/scotlandYardComponents/gamePhaseComponents/MapManager.vue?vue&type=script&lang=js","dependencies":[{"path":"/media/jacopo/VolumeDati/Documenti/Giochi/src/components/scotlandYardComponents/gamePhaseComponents/MapManager.vue","mtime":1611253627881},{"path":"/media/jacopo/VolumeDati/Documenti/Giochi/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/jacopo/VolumeDati/Documenti/Giochi/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/media/jacopo/VolumeDati/Documenti/Giochi/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/jacopo/VolumeDati/Documenti/Giochi/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgeyB6b29tRnVuY3Rpb25CYXNlLCBtb3VzZVdoZWVsUmVkdWN0aW9uRmFjdG9yLCBrZXlTY3JvbGxTcGVlZCB9IGZyb20gIi4uLy4uLy4uL2NvbnN0YW50cy9zY290bGFuZFlhcmRDb25zdGFudHMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk1hcE1hbmFnZXIiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkZWx0YVk6IDAsCiAgICAgIGRyYWdnaW5nOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHZlcnRpY2FsU2Nyb2xsOiBmdW5jdGlvbiB2ZXJ0aWNhbFNjcm9sbChudW1iZXIsIGVsZW1lbnQpIHsKICAgICAgZWxlbWVudC5zY3JvbGxUb3AgKz0gbnVtYmVyOwogICAgfSwKICAgIGhvcml6b250YWxTY3JvbGw6IGZ1bmN0aW9uIGhvcml6b250YWxTY3JvbGwobnVtYmVyLCBlbGVtZW50KSB7CiAgICAgIGVsZW1lbnQuc2Nyb2xsTGVmdCArPSBudW1iZXI7CiAgICB9LAogICAga2V5UHJlc3NlZDogZnVuY3Rpb24ga2V5UHJlc3NlZChldmVudCkgewogICAgICB2YXIgZWxlbWVudENsYXNzID0gIi5tYXAtbWFuYWdlcl9fbWFpbi1wYW5lbCI7CgogICAgICBzd2l0Y2ggKGV2ZW50LmtleS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkpIHsKICAgICAgICBjYXNlICJ3IjoKICAgICAgICAgIHRoaXMudmVydGljYWxTY3JvbGwoLWtleVNjcm9sbFNwZWVkLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW1lbnRDbGFzcykpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgImFycm93dXAiOgogICAgICAgICAgdGhpcy52ZXJ0aWNhbFNjcm9sbCgta2V5U2Nyb2xsU3BlZWQsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbWVudENsYXNzKSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiYSI6CiAgICAgICAgICB0aGlzLmhvcml6b250YWxTY3JvbGwoLWtleVNjcm9sbFNwZWVkLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW1lbnRDbGFzcykpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgImFycm93bGVmdCI6CiAgICAgICAgICB0aGlzLmhvcml6b250YWxTY3JvbGwoLWtleVNjcm9sbFNwZWVkLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW1lbnRDbGFzcykpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgInMiOgogICAgICAgICAgdGhpcy52ZXJ0aWNhbFNjcm9sbChrZXlTY3JvbGxTcGVlZCwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50Q2xhc3MpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJhcnJvd2Rvd24iOgogICAgICAgICAgdGhpcy52ZXJ0aWNhbFNjcm9sbChrZXlTY3JvbGxTcGVlZCwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50Q2xhc3MpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJkIjoKICAgICAgICAgIHRoaXMuaG9yaXpvbnRhbFNjcm9sbChrZXlTY3JvbGxTcGVlZCwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50Q2xhc3MpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJhcnJvd3JpZ2h0IjoKICAgICAgICAgIHRoaXMuaG9yaXpvbnRhbFNjcm9sbChrZXlTY3JvbGxTcGVlZCwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50Q2xhc3MpKTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9LAogICAgbW91c2VEb3duOiBmdW5jdGlvbiBtb3VzZURvd24oKSB7CiAgICAgIHRoaXMuZHJhZ2dpbmcgPSB0cnVlOwogICAgfSwKICAgIG1vdXNlTW92ZTogZnVuY3Rpb24gbW91c2VNb3ZlKGV2ZW50KSB7CiAgICAgIGlmICh0aGlzLmRyYWdnaW5nKSB7CiAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUuc3R5bGUuY3Vyc29yID0gIm1vdmUiOwogICAgICAgIGV2ZW50LnRhcmdldC5wYXJlbnROb2RlLnNjcm9sbExlZnQgLT0gZXZlbnQubW92ZW1lbnRYOwogICAgICAgIGV2ZW50LnRhcmdldC5wYXJlbnROb2RlLnNjcm9sbFRvcCAtPSBldmVudC5tb3ZlbWVudFk7CiAgICAgIH0KICAgIH0sCiAgICBtb3VzZVVwOiBmdW5jdGlvbiBtb3VzZVVwKGV2ZW50KSB7CiAgICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTsKICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUuc3R5bGUuY3Vyc29yID0gImF1dG8iOwogICAgfSwKICAgIHpvb206IGZ1bmN0aW9uIHpvb20oZXZlbnQpIHsKICAgICAgdmFyIHpvb21GYWN0b3IgPSAxOwoKICAgICAgaWYgKHRoaXMuZGVsdGFZICsgZXZlbnQuZGVsdGFZIDwgMCkgewogICAgICAgIHRoaXMuZGVsdGFZID0gMDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmRlbHRhWSArPSBldmVudC5kZWx0YVk7CiAgICAgICAgem9vbUZhY3RvciA9IE1hdGgucG93KHpvb21GdW5jdGlvbkJhc2UsIGV2ZW50LmRlbHRhWSAvIG1vdXNlV2hlZWxSZWR1Y3Rpb25GYWN0b3IpOwogICAgICB9CgogICAgICB2YXIgcGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIubWFwLW1hbmFnZXJfX21haW4tcGFuZWwiKTsKICAgICAgdmFyIHNMID0gZXZlbnQub2Zmc2V0WCAqICh6b29tRmFjdG9yIC0gMSkgKyBwYW5lbC5zY3JvbGxMZWZ0ICogem9vbUZhY3RvcjsKICAgICAgdmFyIHNUID0gZXZlbnQub2Zmc2V0WSAqICh6b29tRmFjdG9yIC0gMSkgKyBwYW5lbC5zY3JvbGxUb3AgKiB6b29tRmFjdG9yOwogICAgICBwYW5lbC5zY3JvbGxMZWZ0ID0gTWF0aC5yb3VuZChzTCk7CiAgICAgIHBhbmVsLnNjcm9sbFRvcCA9IE1hdGgucm91bmQoc1QpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGltZ1BlcmNlbnRhZ2U6IGZ1bmN0aW9uIGltZ1BlcmNlbnRhZ2UoKSB7CiAgICAgIHJldHVybiAxMDAgKiBNYXRoLnBvdyh6b29tRnVuY3Rpb25CYXNlLCB0aGlzLmRlbHRhWSAvIG1vdXNlV2hlZWxSZWR1Y3Rpb25GYWN0b3IpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgdGhpcy5rZXlQcmVzc2VkKTsKICB9Cn07"},{"version":3,"sources":["/media/jacopo/VolumeDati/Documenti/Giochi/src/components/scotlandYardComponents/gamePhaseComponents/MapManager.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"map-manager__main-panel\" @wheel.prevent=\"zoom\" @mousedown.prevent=\"mouseDown\" @mousemove.prevent=\"mouseMove\" @mouseup.prevent=\"mouseUp\">\n    <img src=\"/assets/map.jpeg\" class=\"map-manager__map\" :style=\"{width: imgPercentage+'%'}\">\n  </div>\n</template>\n\n<script>\nimport { zoomFunctionBase, mouseWheelReductionFactor, keyScrollSpeed } from \"../../../constants/scotlandYardConstants\";\nexport default {\n  name: \"MapManager\",\n  data(){\n    return {\n      deltaY: 0,\n      dragging: false\n    }\n  },\n  methods: {\n    verticalScroll(number, element) {\n      element.scrollTop += number;\n    },\n    horizontalScroll(number, element) {\n      element.scrollLeft += number;\n    },\n    keyPressed(event) {\n      let elementClass = \".map-manager__main-panel\";\n      switch (event.key.toString().toLowerCase()){\n        case \"w\":\n          this.verticalScroll(-keyScrollSpeed, document.querySelector(elementClass));\n          break;\n        case \"arrowup\":\n          this.verticalScroll(-keyScrollSpeed, document.querySelector(elementClass));\n          break;\n        case \"a\":\n          this.horizontalScroll(-keyScrollSpeed, document.querySelector(elementClass));\n          break;\n        case \"arrowleft\":\n          this.horizontalScroll(-keyScrollSpeed, document.querySelector(elementClass));\n          break;\n        case \"s\":\n          this.verticalScroll(keyScrollSpeed, document.querySelector(elementClass));\n          break;\n        case \"arrowdown\":\n          this.verticalScroll(keyScrollSpeed, document.querySelector(elementClass));\n          break;\n        case \"d\":\n          this.horizontalScroll(keyScrollSpeed, document.querySelector(elementClass));\n          break;\n        case \"arrowright\":\n          this.horizontalScroll(keyScrollSpeed, document.querySelector(elementClass));\n          break;\n      }\n    },\n    mouseDown() {\n      this.dragging = true;\n    },\n    mouseMove(event) {\n      if(this.dragging){\n        event.target.parentNode.style.cursor = \"move\";\n        event.target.parentNode.scrollLeft -= event.movementX;\n        event.target.parentNode.scrollTop -= event.movementY;\n      }\n    },\n    mouseUp(event) {\n      this.dragging = false;\n      event.target.parentNode.style.cursor = \"auto\";\n    },\n    zoom(event) {\n      let zoomFactor = 1;\n      if(this.deltaY+event.deltaY<0){\n        this.deltaY = 0;\n      } else {\n        this.deltaY += event.deltaY;\n        zoomFactor = Math.pow(zoomFunctionBase, event.deltaY/mouseWheelReductionFactor);\n      }\n      let panel = document.querySelector(\".map-manager__main-panel\");\n      let sL = event.offsetX*(zoomFactor-1)+panel.scrollLeft*zoomFactor;\n      let sT = event.offsetY*(zoomFactor-1)+panel.scrollTop*zoomFactor;\n      panel.scrollLeft = Math.round(sL);\n      panel.scrollTop = Math.round(sT);\n    }\n  },\n  computed: {\n    imgPercentage: function () {\n      return 100*Math.pow(zoomFunctionBase, this.deltaY/mouseWheelReductionFactor);\n    }\n  },\n  mounted() {\n    window.addEventListener(\"keydown\", this.keyPressed);\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.map-manager__main-panel{\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  border-radius: 0 20px 20px 0;\n  .map-manager__map{\n    vertical-align: top;\n  }\n}\n</style>"],"sourceRoot":""}]}