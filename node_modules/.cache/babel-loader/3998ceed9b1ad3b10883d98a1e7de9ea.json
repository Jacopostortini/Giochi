{"remainingRequest":"/media/jacopo/VolumeDati/Documenti/papero.tk/unseen.papero.tk/node_modules/thread-loader/dist/cjs.js!/media/jacopo/VolumeDati/Documenti/papero.tk/unseen.papero.tk/node_modules/babel-loader/lib/index.js!/media/jacopo/VolumeDati/Documenti/papero.tk/unseen.papero.tk/node_modules/cache-loader/dist/cjs.js??ref--0-0!/media/jacopo/VolumeDati/Documenti/papero.tk/unseen.papero.tk/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/media/jacopo/VolumeDati/Documenti/papero.tk/unseen.papero.tk/src/views/Game.vue?vue&type=script&lang=js","dependencies":[{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/unseen.papero.tk/src/views/Game.vue","mtime":1614672187917},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/unseen.papero.tk/node_modules/cache-loader/dist/cjs.js","mtime":1612540687717},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/unseen.papero.tk/node_modules/thread-loader/dist/cjs.js","mtime":1612540688605},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/unseen.papero.tk/node_modules/babel-loader/lib/index.js","mtime":1612540687689},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/unseen.papero.tk/node_modules/cache-loader/dist/cjs.js","mtime":1612540687717},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/unseen.papero.tk/node_modules/vue-loader-v16/dist/index.js","mtime":1612540688641}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCB7IGNvbG9yQ29ycmlzcGVjdGl2ZXMsIHdlYlNvY2tldFVybCB9IGZyb20gIi4uL2NvbnN0YW50cy9jb25zdGFudHMiOwppbXBvcnQgZXZlbnRzIGZyb20gIi4uL2NvbnN0YW50cy93ZWJTb2NrZXRFdmVudHMiOwppbXBvcnQgeyB1c2VSb3V0ZSB9IGZyb20gInZ1ZS1yb3V0ZXIiOwppbXBvcnQgaW8gZnJvbSAic29ja2V0LmlvLWNsaWVudCI7CmltcG9ydCB7IGRlZmluZUFzeW5jQ29tcG9uZW50IH0gZnJvbSAidnVlIjsKaW1wb3J0IFByZUdhbWVQaGFzZSBmcm9tICIuLi9jb21wb25lbnRzL1ByZUdhbWVQaGFzZSI7CmltcG9ydCBHYW1lUGhhc2UgZnJvbSAiLi4vY29tcG9uZW50cy9HYW1lUGhhc2UiOwppbXBvcnQgUG9zdEdhbWVQaGFzZSBmcm9tICIuLi9jb21wb25lbnRzL1Bvc3RHYW1lUGhhc2UiOwp2YXIgVXNlckhhbWJ1cmdlck1lbnUgPSBkZWZpbmVBc3luY0NvbXBvbmVudChmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGltcG9ydCgiLi4vY29tcG9uZW50cy9Vc2VySGFtYnVyZ2VyTWVudSIKICAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiAidXNlckhhbWJ1cmdlck1lbnUiICovCiAgKTsKfSk7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiR2FtZSIsCiAgY29tcG9uZW50czogewogICAgVXNlckhhbWJ1cmdlck1lbnU6IFVzZXJIYW1idXJnZXJNZW51LAogICAgUHJlR2FtZVBoYXNlOiBQcmVHYW1lUGhhc2UsCiAgICBHYW1lUGhhc2U6IEdhbWVQaGFzZSwKICAgIFBvc3RHYW1lUGhhc2U6IFBvc3RHYW1lUGhhc2UKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzb2NrZXQ6IG51bGwsCiAgICAgIGdhbWVJZDogdXNlUm91dGUoKS5wYXJhbXMuZ2FtZUlkLAogICAgICBzdGF0dXM6IHVuZGVmaW5lZCwKICAgICAgY3VycmVudFBsYXllcjogdW5kZWZpbmVkLAogICAgICBwbGF5ZXJzOiBbXSwKICAgICAgZ2FtZToge30sCiAgICAgIG1lc3NhZ2VzOiBbXSwKICAgICAgdW5yZWFkTWVzc2FnZXM6IGZhbHNlLAogICAgICBzaG93SGFtYnVyZ2VyTWVudTogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaGFtYnVyZ2VyTWVudUltYWdlOiBmdW5jdGlvbiBoYW1idXJnZXJNZW51SW1hZ2UoKSB7CiAgICAgIHN3aXRjaCAodGhpcy5zdGF0dXMpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICByZXR1cm4gcmVxdWlyZSgiQC9hc3NldHMvaGFtYnVyZ2VyX2ljb25fbGlnaHQucG5nIik7CgogICAgICAgIGNhc2UgMToKICAgICAgICAgIHJldHVybiByZXF1aXJlKCJAL2Fzc2V0cy9oYW1idXJnZXJfaWNvbl9kYXJrLnBuZyIpOwoKICAgICAgICBjYXNlIDI6CiAgICAgICAgICByZXR1cm4gcmVxdWlyZSgiQC9hc3NldHMvaGFtYnVyZ2VyX2ljb25fbGlnaHQucG5nIik7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gcmVxdWlyZSgiQC9hc3NldHMvaGFtYnVyZ2VyX2ljb25fbGlnaHQucG5nIik7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNldHVwRGF0YTogZnVuY3Rpb24gc2V0dXBEYXRhKGRhdGEpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICB0aGlzLnN0YXR1cyA9IGRhdGEuc3RhdHVzOwoKICAgICAgaWYgKGRhdGEueW91cl9sb2NhbF9pZCAhPSBudWxsKSB7CiAgICAgICAgZGF0YS5wbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24gKHBsYXllcikgewogICAgICAgICAgaWYgKHBsYXllci5sb2NhbF9pZCA9PT0gZGF0YS55b3VyX2xvY2FsX2lkKSB7CiAgICAgICAgICAgIF90aGlzLmN1cnJlbnRQbGF5ZXIgPSBwbGF5ZXI7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jdXJyZW50UGxheWVyID0gbnVsbDsKICAgICAgfQoKICAgICAgdGhpcy5wbGF5ZXJzID0gZGF0YS5wbGF5ZXJzOwogICAgICB0aGlzLmdhbWUgPSB7CiAgICAgICAgcGxheWluZ1BsYXllcjogZGF0YS5wbGF5ZXJzX3R1cm4sCiAgICAgICAgaXNSZXZlbGF0aW9uOiBkYXRhLmlzX3JldmVsYXRpb25fdHVybiwKICAgICAgICBsYXN0TWlzdGVyWEtub3duUG9zaXRpb246IGRhdGEubGFzdF9rbm93bl9wb3NpdGlvbiwKICAgICAgICBtaXN0ZXJYTW92ZXM6IGRhdGEubWlzdGVyX3hfbW92ZXMKICAgICAgfTsKICAgIH0sCiAgICBhcHBlbmRNZXNzYWdlOiBmdW5jdGlvbiBhcHBlbmRNZXNzYWdlKGRhdGEpIHsKICAgICAgdmFyIG1lc3NhZ2UgPSB7fTsKICAgICAgbWVzc2FnZS5sb2NhbElkID0gZGF0YS5fZnJvbTsKICAgICAgbWVzc2FnZS51c2VybmFtZSA9IHRoaXMuZmluZFVzZXJuYW1lQnlMb2NhbElkKGRhdGEuX2Zyb20pOwogICAgICBtZXNzYWdlLmJvZHkgPSBkYXRhLm1lc3NhZ2U7CiAgICAgIG1lc3NhZ2UuY29sb3IgPSB0aGlzLmZpbmRDb2xvckJ5TG9jYWxJZChkYXRhLl9mcm9tKTsKICAgICAgbWVzc2FnZS5mcm9tWW91ID0gZGF0YS5fZnJvbSA9PT0gdGhpcy5jdXJyZW50UGxheWVyLmxvY2FsX2lkOwogICAgICB0aGlzLm1lc3NhZ2VzLnB1c2gobWVzc2FnZSk7CiAgICAgIHZhciB0ID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBjaGF0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNoYXQtY29udGFpbmVyIik7CiAgICAgICAgY2hhdC5zY3JvbGxUb3AgPSBjaGF0LnNjcm9sbEhlaWdodDsKICAgICAgICBjbGVhckludGVydmFsKHQpOwogICAgICB9LCAxMDApOwogICAgfSwKICAgIGZpbmRVc2VybmFtZUJ5TG9jYWxJZDogZnVuY3Rpb24gZmluZFVzZXJuYW1lQnlMb2NhbElkKGlkKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wbGF5ZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHRoaXMucGxheWVyc1tpXS5sb2NhbF9pZCA9PT0gaWQpIHsKICAgICAgICAgIHJldHVybiB0aGlzLnBsYXllcnNbaV0udXNlcm5hbWU7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gbnVsbDsKICAgIH0sCiAgICBmaW5kQ29sb3JCeUxvY2FsSWQ6IGZ1bmN0aW9uIGZpbmRDb2xvckJ5TG9jYWxJZChpZCkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucGxheWVycy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0aGlzLnBsYXllcnNbaV0ubG9jYWxfaWQgPT09IGlkKSB7CiAgICAgICAgICByZXR1cm4gY29sb3JDb3JyaXNwZWN0aXZlc1t0aGlzLnBsYXllcnNbaV0uY29sb3JdOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9LAogICAgbWVzc2FnZVJlY2VpdmVkOiBmdW5jdGlvbiBtZXNzYWdlUmVjZWl2ZWQoZGF0YSkgewogICAgICB0aGlzLmFwcGVuZE1lc3NhZ2UoZGF0YSk7CiAgICAgIHRoaXMudW5yZWFkTWVzc2FnZXMgPSB0cnVlOwogICAgICBpZiAoZGF0YS5fZnJvbSA9PT0gLTEpIHRoaXMuJHRvYXN0LnNob3coZGF0YS5tZXNzYWdlLCB7CiAgICAgICAgZHVyYXRpb246IDMwMDAsCiAgICAgICAgbWF4VG9hc3RzOiA0LAogICAgICAgIGNsYXNzTmFtZTogInRvYXN0IgogICAgICB9KTsKICAgIH0sCiAgICBqb2luR2FtZTogZnVuY3Rpb24gam9pbkdhbWUoKSB7CiAgICAgIHRoaXMuc29ja2V0LmVtaXQoZXZlbnRzLkpPSU5fR0FNRSk7CiAgICB9LAogICAgcXVpdEdhbWU6IGZ1bmN0aW9uIHF1aXRHYW1lKCkgewogICAgICB0aGlzLnNvY2tldC5lbWl0KGV2ZW50cy5RVUlUX0dBTUUpOwogICAgfSwKICAgIGtpY2tQbGF5ZXI6IGZ1bmN0aW9uIGtpY2tQbGF5ZXIobG9jYWxJZCkgewogICAgICB0aGlzLnNvY2tldC5lbWl0KGV2ZW50cy5LSUNLX1BMQVlFUiwgbG9jYWxJZCk7CiAgICB9LAogICAgY2hhbmdlQ29sb3I6IGZ1bmN0aW9uIGNoYW5nZUNvbG9yKG5ld0NvbG9yKSB7CiAgICAgIHRoaXMuc29ja2V0LmVtaXQoZXZlbnRzLkNIQU5HRV9DT0xPUiwgbmV3Q29sb3IpOwogICAgfSwKICAgIHN0YXJ0R2FtZTogZnVuY3Rpb24gc3RhcnRHYW1lKCkgewogICAgICB0aGlzLnNvY2tldC5lbWl0KGV2ZW50cy5TVEFSVF9HQU1FKTsKICAgIH0sCiAgICBjaGFuZ2VNaXN0ZXJYOiBmdW5jdGlvbiBjaGFuZ2VNaXN0ZXJYKG5ld01pc3RlclgpIHsKICAgICAgdGhpcy5zb2NrZXQuZW1pdChldmVudHMuQ0hBTkdFX01JU1RFUl9YLCBuZXdNaXN0ZXJYKTsKICAgIH0sCiAgICBzZW5kTWVzc2FnZTogZnVuY3Rpb24gc2VuZE1lc3NhZ2UobWVzc2FnZSkgewogICAgICB2YXIgbXNnID0gbWVzc2FnZTsKICAgICAgbXNnLl9mcm9tID0gdGhpcy5jdXJyZW50UGxheWVyLmxvY2FsX2lkOwogICAgICB0aGlzLnNvY2tldC5lbWl0KGV2ZW50cy5DSEFULCBtc2cpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHRoaXMuc29ja2V0ID0gaW8od2ViU29ja2V0VXJsLCB7CiAgICAgIHBhdGg6ICIvdW5zZWVuL3NvY2tldC5pby8iCiAgICB9KTsKICAgIHRoaXMuc29ja2V0LmVtaXQoZXZlbnRzLkNPTk5FQ1RfVE9fR0FNRSwgewogICAgICBnYW1lX2lkOiB0aGlzLmdhbWVJZAogICAgfSk7CiAgICB0aGlzLnNvY2tldC5vbihldmVudHMuQ09OTkVDVF9UT19HQU1FLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICBfdGhpczIuc2V0dXBEYXRhKGRhdGEpOwogICAgfSk7CiAgICB0aGlzLnNvY2tldC5vbihldmVudHMuTE9CQllfTU9ESUZJRUQsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIF90aGlzMi5zZXR1cERhdGEoZGF0YSk7CiAgICB9KTsKICAgIHRoaXMuc29ja2V0Lm9uKGV2ZW50cy5TVEFSVF9HQU1FLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICBfdGhpczIuc2V0dXBEYXRhKGRhdGEpOwogICAgfSk7CiAgICB0aGlzLnNvY2tldC5vbihldmVudHMuQ0hBVCwgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgX3RoaXMyLm1lc3NhZ2VSZWNlaXZlZChkYXRhKTsKICAgIH0pOwogICAgLyp0aGlzLnN0YXR1cyA9IDE7CiAgICB0aGlzLmN1cnJlbnRQbGF5ZXIgPSB7CiAgICAgIGxvY2FsX2lkOiAwLAogICAgICBjb2xvcjogLTEsCiAgICAgIGlzX21pc3Rlcl94OiB0cnVlLAogICAgICBpc19hZG1pbjogdHJ1ZSwKICAgICAgdXNlcm5hbWU6ICJqYWNvcG8iLAogICAgICB1c2VkX3RheGk6IDAsCiAgICAgIHVzZWRfYnVzOiAwLAogICAgICB1c2VkX3VuZGVyZ3JvdW5kOiAwLAogICAgICB1c2VkX3NlY3JldF9tb3ZlczogMCwKICAgICAgdXNlZF9kb3VibGVfdHVybnM6IDAsCiAgICAgIG9ubGluZTogdHJ1ZQogICAgfQogICAgdGhpcy5wbGF5ZXJzID0gWwogICAgICB0aGlzLmN1cnJlbnRQbGF5ZXIsCiAgICAgIHsKICAgICAgICBsb2NhbF9pZDogMSwKICAgICAgICBjb2xvcjogMSwKICAgICAgICBpc19taXN0ZXJfeDogZmFsc2UsCiAgICAgICAgaXNfYWRtaW46IGZhbHNlLAogICAgICAgIHVzZXJuYW1lOiAibWF0dGVvIiwKICAgICAgICBvbmxpbmU6IHRydWUKICAgICAgfSwKICAgICAgewogICAgICAgIGxvY2FsX2lkOiAyLAogICAgICAgIGNvbG9yOiAyLAogICAgICAgIGlzX21pc3Rlcl94OiBmYWxzZSwKICAgICAgICBpc19hZG1pbjogZmFsc2UsCiAgICAgICAgdXNlcm5hbWU6ICJyYW1pIiwKICAgICAgICBvbmxpbmU6IGZhbHNlCiAgICAgIH0sCiAgICAgIHsKICAgICAgICBsb2NhbF9pZDogMywKICAgICAgICBjb2xvcjogMywKICAgICAgICBpc19taXN0ZXJfeDogZmFsc2UsCiAgICAgICAgaXNfYWRtaW46IGZhbHNlLAogICAgICAgIHVzZXJuYW1lOiAidGF2ZSIsCiAgICAgICAgb25saW5lOiB0cnVlCiAgICAgIH0KICAgIF0KICAgIHRoaXMuZ2FtZSA9IHsKICAgICAgcGxheWluZ1BsYXllcjogMAogICAgfQogICAgIHRoaXMubWVzc2FnZXMgPSBbCiAgICAgIHsKICAgICAgICBib2R5OiAiY2lhb29vIiwKICAgICAgICBsb2NhbF9pZDogMCwKICAgICAgICBmcm9tWW91OiB0cnVlLAogICAgICAgIHVzZXJuYW1lOiAiamFjb3BvIiwKICAgICAgICBjb2xvcjogImdyYXkiCiAgICAgIH0KICAgIF07Ki8KICB9Cn07"},{"version":3,"sources":["/media/jacopo/VolumeDati/Documenti/papero.tk/unseen.papero.tk/src/views/Game.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"game__main-panel\">\n    <UserHamburgerMenu :show-chat=\"true\"\n                       :messages=\"messages\"\n                       :disable-logout=\"true\"\n                       :unread-messages=\"unreadMessages\"\n                       :src=\"hamburgerMenuImage\"\n                       :show=\"showHamburgerMenu\"\n                       @chat-opened=\"unreadMessages=false\"\n                       @send-message=\"sendMessage\"\n                       @toggle-show=\"showHamburgerMenu=$event\"/>\n    <PreGamePhase v-if=\"status===0\"\n                  :players=\"players\"\n                  :current-player=\"currentPlayer\"\n                  @joingame=\"joinGame\"\n                  @quitgame=\"quitGame\"\n                  @kickplayer=\"kickPlayer\"\n                  @changecolor=\"changeColor\"\n                  @changemisterx=\"changeMisterX\"\n                  @startgame=\"startGame\"/>\n    <GamePhase v-else-if=\"status===1\"\n               :players=\"players\"\n               :current-player=\"currentPlayer\"\n               :game=\"game\"/>\n    <PostGamePhase v-else-if=\"status===2\"/>\n  </div>\n</template>\n\n<script>\nimport {colorCorrispectives, webSocketUrl} from \"../constants/constants\";\nimport events from \"../constants/webSocketEvents\";\nimport {useRoute} from \"vue-router\";\nimport io from \"socket.io-client\";\nimport {defineAsyncComponent} from \"vue\";\nimport PreGamePhase from \"../components/PreGamePhase\";\nimport GamePhase from \"../components/GamePhase\";\nimport PostGamePhase from \"../components/PostGamePhase\";\n\nconst UserHamburgerMenu = defineAsyncComponent(() => import(\"../components/UserHamburgerMenu\" /* webpackChunkName: \"userHamburgerMenu\" */));\n\nexport default {\n  name: \"Game\",\n  components: {\n    UserHamburgerMenu,\n    PreGamePhase,\n    GamePhase,\n    PostGamePhase\n  },\n  data(){\n    return {\n      socket: null,\n      gameId: useRoute().params.gameId,\n      status: undefined,\n      currentPlayer: undefined,\n      players: [],\n      game: {},\n      messages: [],\n      unreadMessages: false,\n      showHamburgerMenu: false\n    }\n  },\n  computed: {\n    hamburgerMenuImage: function () {\n      switch (this.status){\n        case 0:\n          return require(\"@/assets/hamburger_icon_light.png\");\n        case 1:\n          return require(\"@/assets/hamburger_icon_dark.png\");\n        case 2:\n          return require(\"@/assets/hamburger_icon_light.png\");\n        default:\n          return require(\"@/assets/hamburger_icon_light.png\");\n      }\n    }\n  },\n  methods: {\n    setupData(data) {\n      console.log(data);\n      this.status = data.status;\n      if(data.your_local_id!=null){\n        data.players.forEach(player => {\n          if(player.local_id===data.your_local_id){\n            this.currentPlayer = player;\n          }\n        })\n      } else {\n        this.currentPlayer = null;\n      }\n      this.players = data.players;\n      this.game = {\n        playingPlayer: data.players_turn,\n        isRevelation: data.is_revelation_turn,\n        lastMisterXKnownPosition: data.last_known_position,\n        misterXMoves: data.mister_x_moves\n      }\n    },\n    appendMessage(data){\n      let message = {};\n      message.localId = data._from;\n      message.username = this.findUsernameByLocalId(data._from);\n      message.body = data.message;\n      message.color = this.findColorByLocalId(data._from);\n      message.fromYou = data._from === this.currentPlayer.local_id;\n      this.messages.push(message);\n      let t = setInterval(()=>{\n        let chat = document.getElementById(\"chat-container\");\n        chat.scrollTop = chat.scrollHeight;\n        clearInterval(t);\n      }, 100)\n    },\n    findUsernameByLocalId(id){\n      for(let i = 0; i < this.players.length; i++){\n        if(this.players[i].local_id===id){\n          return this.players[i].username;\n        }\n      }\n      return null;\n    },\n    findColorByLocalId(id){\n      for(let i = 0; i < this.players.length; i++){\n        if(this.players[i].local_id===id){\n          return colorCorrispectives[this.players[i].color];\n        }\n      }\n      return null;\n    },\n    messageReceived(data){\n      this.appendMessage(data);\n      this.unreadMessages = true;\n      if(data._from === -1) this.$toast.show(data.message, {\n        duration: 3000,\n        maxToasts: 4,\n        className: \"toast\"\n      });\n    },\n    joinGame() {\n      this.socket.emit(events.JOIN_GAME);\n    },\n    quitGame() {\n      this.socket.emit(events.QUIT_GAME);\n    },\n    kickPlayer(localId){\n      this.socket.emit(events.KICK_PLAYER, localId);\n    },\n    changeColor(newColor){\n      this.socket.emit(events.CHANGE_COLOR, newColor);\n    },\n    startGame(){\n      this.socket.emit(events.START_GAME);\n    },\n    changeMisterX(newMisterX){\n      this.socket.emit(events.CHANGE_MISTER_X, newMisterX);\n    },\n    sendMessage(message){\n      let msg = message;\n      msg._from = this.currentPlayer.local_id;\n      this.socket.emit(events.CHAT, msg);\n    }\n  },\n  mounted() {\n    this.socket = io(webSocketUrl, {\n      path: \"/unseen/socket.io/\"\n    });\n\n    this.socket.emit(events.CONNECT_TO_GAME, {game_id: this.gameId});\n\n    this.socket.on(events.CONNECT_TO_GAME, (data) => {\n      this.setupData(data);\n    });\n\n    this.socket.on(events.LOBBY_MODIFIED, data => {\n      this.setupData(data);\n    });\n\n    this.socket.on(events.START_GAME, data => {\n      this.setupData(data);\n    });\n\n    this.socket.on(events.CHAT, data => {\n      this.messageReceived(data);\n    });\n\n    /*this.status = 1;\n    this.currentPlayer = {\n      local_id: 0,\n      color: -1,\n      is_mister_x: true,\n      is_admin: true,\n      username: \"jacopo\",\n      used_taxi: 0,\n      used_bus: 0,\n      used_underground: 0,\n      used_secret_moves: 0,\n      used_double_turns: 0,\n      online: true\n    }\n    this.players = [\n      this.currentPlayer,\n      {\n        local_id: 1,\n        color: 1,\n        is_mister_x: false,\n        is_admin: false,\n        username: \"matteo\",\n        online: true\n      },\n      {\n        local_id: 2,\n        color: 2,\n        is_mister_x: false,\n        is_admin: false,\n        username: \"rami\",\n        online: false\n      },\n      {\n        local_id: 3,\n        color: 3,\n        is_mister_x: false,\n        is_admin: false,\n        username: \"tave\",\n        online: true\n      }\n    ]\n    this.game = {\n      playingPlayer: 0\n    }\n\n    this.messages = [\n      {\n        body: \"ciaooo\",\n        local_id: 0,\n        fromYou: true,\n        username: \"jacopo\",\n        color: \"gray\"\n      }\n    ];*/\n\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import \"../styles/global\";\n\n.game__main-panel{\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n\nbutton {\n  color: white;\n  padding: 1%;\n  background: transparent;\n  border: 2px solid white;\n  transition: all 0.5s;\n  margin: 1%;\n\n  &:hover{\n    background-color: white;\n    color: $theme-color-dark;\n  }\n\n  &:focus{\n    outline: none;\n  }\n}\n\n.toast{\n  display: grid;\n  align-items: center;\n  animation-duration: 150ms;\n  margin: 0.5em 0;\n  border-radius: 0.5em;\n  pointer-events: auto;\n  color: #fff;\n  background-color: orange;\n  min-height: 3em;\n  cursor: pointer;\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  padding: 0.5em 2em;\n  word-break: break-word;\n  width: fit-content;\n  align-self: flex-end;\n\n}\n</style>"],"sourceRoot":""}]}