{"remainingRequest":"C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\src\\views\\Game.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\src\\views\\Game.vue","mtime":1615797974966},{"path":"C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615312359986},{"path":"C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1615312383663},{"path":"C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\node_modules\\babel-loader\\lib\\index.js","mtime":1615312359489},{"path":"C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615312359986},{"path":"C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1615312384341}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOi9Vc2Vycy9tYXR0ZS9EZXNrdG9wL3BhcGVyby91bnNlZW4ucGFwZXJvLnRrL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IG1pdHQgZnJvbSAibWl0dCI7CmltcG9ydCB7IGNvbG9yQ29ycmlzcGVjdGl2ZXMsIGNyZWF0ZUxvY2FsQWNjb3VudFVybCwgZ2V0TG9naW5JbmZvVXJsLCB3ZWJTb2NrZXRVcmwgfSBmcm9tICIuLi9jb25zdGFudHMvY29uc3RhbnRzIjsKaW1wb3J0IGV2ZW50cyBmcm9tICIuLi9jb25zdGFudHMvd2ViU29ja2V0RXZlbnRzIjsKaW1wb3J0IHsgdXNlUm91dGUgfSBmcm9tICJ2dWUtcm91dGVyIjsKaW1wb3J0IGlvIGZyb20gInNvY2tldC5pby1jbGllbnQiOwppbXBvcnQgeyBkZWZpbmVBc3luY0NvbXBvbmVudCB9IGZyb20gInZ1ZSI7CmltcG9ydCBQcmVHYW1lUGhhc2UgZnJvbSAiLi4vY29tcG9uZW50cy9QcmVHYW1lUGhhc2UiOwppbXBvcnQgR2FtZVBoYXNlIGZyb20gIi4uL2NvbXBvbmVudHMvR2FtZVBoYXNlIjsKaW1wb3J0IFBvc3RHYW1lUGhhc2UgZnJvbSAiLi4vY29tcG9uZW50cy9Qb3N0R2FtZVBoYXNlIjsKaW1wb3J0IHN0b3JlIGZyb20gIi4uL3N0b3JlIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKd2luZG93Lm1pdHQgPSB3aW5kb3cubWl0dCB8fCBuZXcgbWl0dCgpOwp2YXIgVXNlckhhbWJ1cmdlck1lbnUgPSBkZWZpbmVBc3luY0NvbXBvbmVudChmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGltcG9ydCgiLi4vY29tcG9uZW50cy9Vc2VySGFtYnVyZ2VyTWVudSIKICAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiAidXNlckhhbWJ1cmdlck1lbnUiICovCiAgKTsKfSk7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiR2FtZSIsCiAgY29tcG9uZW50czogewogICAgVXNlckhhbWJ1cmdlck1lbnU6IFVzZXJIYW1idXJnZXJNZW51LAogICAgUHJlR2FtZVBoYXNlOiBQcmVHYW1lUGhhc2UsCiAgICBHYW1lUGhhc2U6IEdhbWVQaGFzZSwKICAgIFBvc3RHYW1lUGhhc2U6IFBvc3RHYW1lUGhhc2UKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzb2NrZXQ6IG51bGwsCiAgICAgIGdhbWVJZDogdXNlUm91dGUoKS5wYXJhbXMuZ2FtZUlkLAogICAgICBzdGF0dXM6IHVuZGVmaW5lZCwKICAgICAgY3VycmVudFBsYXllcjogdW5kZWZpbmVkLAogICAgICBwbGF5ZXJzOiBbXSwKICAgICAgZ2FtZToge30sCiAgICAgIG1lc3NhZ2VzOiBbXSwKICAgICAgdW5yZWFkTWVzc2FnZXM6IGZhbHNlLAogICAgICBzaG93SGFtYnVyZ2VyTWVudTogZmFsc2UsCiAgICAgIGNoYW5nZWRTdGF0dXNQYW5lbDogewogICAgICAgIHRpdGxlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiBudWxsLAogICAgICAgIHNob3c6IGZhbHNlCiAgICAgIH0sCiAgICAgIGhhbWJ1cmdlck1lbnVJbWFnZTogcmVxdWlyZSgiQC9hc3NldHMvaGFtYnVyZ2VyX2ljb25fZGFyay5wbmciKSwKICAgICAgZ2FtZVJlc3RhcnRlZDogbnVsbAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNldHVwRGF0YTogZnVuY3Rpb24gc2V0dXBEYXRhKGRhdGEpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICB2YXIgd2FzWW91clR1cm47CiAgICAgIGlmICh0aGlzLmN1cnJlbnRQbGF5ZXIpIHdhc1lvdXJUdXJuID0gdGhpcy5nYW1lLnBsYXlpbmdQbGF5ZXIgPT09IHRoaXMuY3VycmVudFBsYXllci5sb2NhbF9pZDsKICAgICAgdmFyIHdhc1JldmVsYXRpb24gPSB0aGlzLmdhbWUuaXNSZXZlbGF0aW9uOwogICAgICB0aGlzLnN0YXR1cyA9IGRhdGEuc3RhdHVzOwoKICAgICAgaWYgKGRhdGEueW91cl9sb2NhbF9pZCAhPSBudWxsKSB7CiAgICAgICAgZGF0YS5wbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24gKHBsYXllcikgewogICAgICAgICAgaWYgKHBsYXllci5sb2NhbF9pZCA9PT0gZGF0YS55b3VyX2xvY2FsX2lkKSB7CiAgICAgICAgICAgIF90aGlzLmN1cnJlbnRQbGF5ZXIgPSBwbGF5ZXI7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jdXJyZW50UGxheWVyID0gbnVsbDsKICAgICAgfQoKICAgICAgdGhpcy5wbGF5ZXJzID0gZGF0YS5wbGF5ZXJzOwogICAgICB0aGlzLmdhbWUgPSB7CiAgICAgICAgcGxheWluZ1BsYXllcjogZGF0YS5wbGF5ZXJzX3R1cm4sCiAgICAgICAgaXNSZXZlbGF0aW9uOiBkYXRhLmlzX3JldmVsYXRpb25fdHVybiwKICAgICAgICBsYXN0TWlzdGVyWEtub3duUG9zaXRpb246IGRhdGEubGFzdF9rbm93bl9wb3NpdGlvbiwKICAgICAgICBtaXN0ZXJYTW92ZXM6IGRhdGEubWlzdGVyX3hfbW92ZXMsCiAgICAgICAgbWlzdGVyWFdvbjogZGF0YS5taXN0ZXJfeF93b24KICAgICAgfTsKCiAgICAgIGlmICh0aGlzLmN1cnJlbnRQbGF5ZXIpIHsKICAgICAgICB2YXIgaXNZb3VyVHVybiA9IHRoaXMuZ2FtZS5wbGF5aW5nUGxheWVyID09PSB0aGlzLmN1cnJlbnRQbGF5ZXIubG9jYWxfaWQ7CiAgICAgICAgaWYgKCF3YXNZb3VyVHVybiAmJiBpc1lvdXJUdXJuKSB0aGlzLmhhbmRsZVlvdXJUdXJuKCk7CiAgICAgIH0KCiAgICAgIHZhciBpc1JldmVsYXRpb24gPSB0aGlzLmdhbWUuaXNSZXZlbGF0aW9uOwoKICAgICAgaWYgKCF3YXNSZXZlbGF0aW9uICYmIGlzUmV2ZWxhdGlvbikgewogICAgICAgIHRoaXMuaGFuZGxlUmV2ZWxhdGlvbigpOwogICAgICB9CgogICAgICB3aW5kb3cubWl0dC5lbWl0KCJ1cGRhdGUtcGF3bnMiLCB0aGlzLnBsYXllcnMpOwogICAgfSwKICAgIGFwcGVuZE1lc3NhZ2U6IGZ1bmN0aW9uIGFwcGVuZE1lc3NhZ2UoZGF0YSkgewogICAgICB0aGlzLnVucmVhZE1lc3NhZ2VzID0gdHJ1ZTsKICAgICAgdmFyIG1lc3NhZ2UgPSB7fTsKICAgICAgbWVzc2FnZS5sb2NhbElkID0gZGF0YS5fZnJvbTsKICAgICAgbWVzc2FnZS51c2VybmFtZSA9IHRoaXMuZmluZFVzZXJuYW1lQnlMb2NhbElkKGRhdGEuX2Zyb20pOwogICAgICBtZXNzYWdlLmJvZHkgPSBkYXRhLm1lc3NhZ2U7CiAgICAgIG1lc3NhZ2UuY29sb3IgPSB0aGlzLmZpbmRDb2xvckJ5TG9jYWxJZChkYXRhLl9mcm9tKTsKICAgICAgbWVzc2FnZS5mcm9tWW91ID0gZGF0YS5fZnJvbSA9PT0gdGhpcy5jdXJyZW50UGxheWVyLmxvY2FsX2lkOwogICAgICB0aGlzLm1lc3NhZ2VzLnB1c2gobWVzc2FnZSk7CiAgICAgIGlmICghbWVzc2FnZS5mcm9tWW91KSB0aGlzLiR0b2FzdC5zaG93KG1lc3NhZ2UuYm9keSwgewogICAgICAgIGR1cmF0aW9uOiAyMDAwLAogICAgICAgIG1heFRvYXN0czogNCwKICAgICAgICBjbGFzc05hbWU6ICJ0b2FzdCAiICsgbWVzc2FnZS5jb2xvcgogICAgICB9KTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGNoYXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hhdC1jb250YWluZXIiKTsKICAgICAgICBjaGF0LnNjcm9sbFRvcCA9IGNoYXQuc2Nyb2xsSGVpZ2h0OwogICAgICB9LCAxMDApOwogICAgfSwKICAgIGZpbmRVc2VybmFtZUJ5TG9jYWxJZDogZnVuY3Rpb24gZmluZFVzZXJuYW1lQnlMb2NhbElkKGlkKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wbGF5ZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHRoaXMucGxheWVyc1tpXS5sb2NhbF9pZCA9PT0gaWQpIHsKICAgICAgICAgIHJldHVybiB0aGlzLnBsYXllcnNbaV0udXNlcm5hbWU7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gbnVsbDsKICAgIH0sCiAgICBmaW5kQ29sb3JCeUxvY2FsSWQ6IGZ1bmN0aW9uIGZpbmRDb2xvckJ5TG9jYWxJZChpZCkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucGxheWVycy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0aGlzLnBsYXllcnNbaV0ubG9jYWxfaWQgPT09IGlkKSB7CiAgICAgICAgICByZXR1cm4gY29sb3JDb3JyaXNwZWN0aXZlc1t0aGlzLnBsYXllcnNbaV0uY29sb3IgKyAxXTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfSwKICAgIGpvaW5HYW1lOiBmdW5jdGlvbiBqb2luR2FtZSgpIHsKICAgICAgdGhpcy5zb2NrZXQuZW1pdChldmVudHMuSk9JTl9HQU1FKTsKICAgIH0sCiAgICBxdWl0R2FtZTogZnVuY3Rpb24gcXVpdEdhbWUoKSB7CiAgICAgIHRoaXMuc29ja2V0LmVtaXQoZXZlbnRzLlFVSVRfR0FNRSk7CiAgICB9LAogICAga2lja1BsYXllcjogZnVuY3Rpb24ga2lja1BsYXllcihsb2NhbElkKSB7CiAgICAgIHRoaXMuc29ja2V0LmVtaXQoZXZlbnRzLktJQ0tfUExBWUVSLCBsb2NhbElkKTsKICAgIH0sCiAgICBjaGFuZ2VDb2xvcjogZnVuY3Rpb24gY2hhbmdlQ29sb3IobmV3Q29sb3IpIHsKICAgICAgdGhpcy5zb2NrZXQuZW1pdChldmVudHMuQ0hBTkdFX0NPTE9SLCBuZXdDb2xvcik7CiAgICB9LAogICAgc3RhcnRHYW1lOiBmdW5jdGlvbiBzdGFydEdhbWUoKSB7CiAgICAgIHRoaXMuc29ja2V0LmVtaXQoZXZlbnRzLlNUQVJUX0dBTUUpOwogICAgfSwKICAgIGNoYW5nZU1pc3Rlclg6IGZ1bmN0aW9uIGNoYW5nZU1pc3RlclgobmV3TWlzdGVyWCkgewogICAgICB0aGlzLnNvY2tldC5lbWl0KGV2ZW50cy5DSEFOR0VfTUlTVEVSX1gsIG5ld01pc3RlclgpOwogICAgfSwKICAgIHNlbmRNZXNzYWdlOiBmdW5jdGlvbiBzZW5kTWVzc2FnZShtZXNzYWdlKSB7CiAgICAgIHZhciBtc2cgPSBtZXNzYWdlOwogICAgICBtc2cuX2Zyb20gPSB0aGlzLmN1cnJlbnRQbGF5ZXIubG9jYWxfaWQ7CiAgICAgIHRoaXMuc29ja2V0LmVtaXQoZXZlbnRzLkNIQVQsIG1zZyk7CiAgICB9LAogICAgbW92ZTogZnVuY3Rpb24gbW92ZShldmVudCkgewogICAgICB0aGlzLnNvY2tldC5lbWl0KGV2ZW50cy5NT1ZFLCBldmVudCk7CiAgICB9LAogICAgdXNlRG91YmxlVHVybjogZnVuY3Rpb24gdXNlRG91YmxlVHVybigpIHsKICAgICAgdGhpcy5zb2NrZXQuZW1pdChldmVudHMuVVNFX0RPVUJMRV9UVVJOKTsKICAgIH0sCiAgICByZXN0YXJ0R2FtZTogZnVuY3Rpb24gcmVzdGFydEdhbWUoZXZlbnQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAoZXZlbnQpIHRoaXMuc29ja2V0LmVtaXQoZXZlbnRzLlJFU1RBUlRfR0FNRSwgZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5zb2NrZXQuZW1pdChldmVudHMuR0VUX0dBTUUpOwogICAgICB9KTtlbHNlIHRoaXMuc29ja2V0LmVtaXQoZXZlbnRzLkdFVF9HQU1FKTsKICAgIH0sCiAgICBoYW5kbGVFdmVudHM6IGZ1bmN0aW9uIGhhbmRsZUV2ZW50cyh0aXRsZSwgZGVzY3JpcHRpb24sIHRpbWUpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLmNoYW5nZWRTdGF0dXNQYW5lbC50aXRsZSA9IHRpdGxlOwogICAgICB0aGlzLmNoYW5nZWRTdGF0dXNQYW5lbC5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uOwogICAgICB0aGlzLmNoYW5nZWRTdGF0dXNQYW5lbC5zaG93ID0gdHJ1ZTsKCiAgICAgIHZhciBzaG93ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmNoYW5nZWRTdGF0dXNQYW5lbC5zaG93ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIH0sIHRpbWUpOwoKICAgICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICB9KSk7CgogICAgICAgIHJldHVybiBmdW5jdGlvbiBzaG93KCkgewogICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCk7CgogICAgICBzaG93KCk7CiAgICB9LAogICAgaGFuZGxlWW91clR1cm46IGZ1bmN0aW9uIGhhbmRsZVlvdXJUdXJuKCkgewogICAgICB0aGlzLiR0b2FzdC5zaG93KCJJdCdzIHlvdXIgdHVybiIsIHsKICAgICAgICBkdXJhdGlvbjogNDAwMCwKICAgICAgICBtYXhUb2FzdHM6IDQsCiAgICAgICAgY2xhc3NOYW1lOiAidG9hc3QgdHVybi1ub3RpZmljYXRpb24iLAogICAgICAgIHBvc2l0aW9uOiAidG9wIgogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVSZXZlbGF0aW9uOiBmdW5jdGlvbiBoYW5kbGVSZXZlbGF0aW9uKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHZhciB0aXRsZSA9ICJSZXZlbGF0aW9uIjsKICAgICAgdmFyIGRlc2NyaXB0aW9uOwoKICAgICAgaWYgKHRoaXMuY3VycmVudFBsYXllci5pc19taXN0ZXJfeCkgewogICAgICAgIGRlc2NyaXB0aW9uID0gIllvdXIgcG9zaXRpb24gd2FzIHJldmVhbGVkISBCZSBjYXJlZnVsISI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZGVzY3JpcHRpb24gPSAiTWlzdGVyIFgncyBwb3NpdGlvbiBpcyAiICsgdGhpcy5nYW1lLmxhc3RNaXN0ZXJYS25vd25Qb3NpdGlvbiArICIhIEdvIGNhdGNoIGhpbSEiOwogICAgICB9CgogICAgICB0aGlzLmhhbmRsZUV2ZW50cyh0aXRsZSwgZGVzY3JpcHRpb24sIDQwMDApOwogICAgICB3aW5kb3cubWl0dC5lbWl0KCJ6b29tLXRvLWRlZmF1bHQiKTsKICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24gKHBsYXllcikgewogICAgICAgIGlmIChwbGF5ZXIuaXNfbWlzdGVyX3gpIHsKICAgICAgICAgIHBsYXllci5wb3NpdGlvbiA9IF90aGlzNC5nYW1lLmxhc3RNaXN0ZXJYS25vd25Qb3NpdGlvbjsKICAgICAgICAgIHdpbmRvdy5taXR0LmVtaXQoInpvb20tdG8tcGF3biIsIHBsYXllcik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVEb3VibGVUdXJuOiBmdW5jdGlvbiBoYW5kbGVEb3VibGVUdXJuKCkgewogICAgICBpZiAoIXRoaXMuY3VycmVudFBsYXllci5pc19taXN0ZXJfeCkgewogICAgICAgIHRoaXMuaGFuZGxlRXZlbnRzKCJEb3VibGUgdHVybiIsICJPaCBubyEgTWlzdGVyIFggcGxheWVkIGEgZG91YmxlIHR1cm4gY2FyZCwgeW91IHdlcmUgY2xvc2UhIiwgNDAwMCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jdXJyZW50UGxheWVyLnVzZWRfZG91YmxlX3R1cm5zKys7CiAgICAgICAgdGhpcy5oYW5kbGVFdmVudHMoIkRvdWJsZSB0dXJuIiwgIldlbGwgcGxheWVkISBOb3cgeW91IGNhbiBtb3ZlIHR3aWNlLCB0aGV5IHdpbGwgc3VyZWx5IGxvc2UgeW91ciB0cmFjayEiLCA0MDAwKTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgIHRoaXMuc29ja2V0ID0gaW8od2ViU29ja2V0VXJsLCB7CiAgICAgIHBhdGg6ICIvdW5zZWVuL3NvY2tldC5pby8iCiAgICB9KTsKICAgIHRoaXMuc29ja2V0LmVtaXQoZXZlbnRzLkNPTk5FQ1RfVE9fR0FNRSwgewogICAgICBnYW1lX2lkOiB0aGlzLmdhbWVJZAogICAgfSk7CiAgICB0aGlzLnNvY2tldC5vbihldmVudHMuQ09OTkVDVF9UT19HQU1FLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICBfdGhpczUuc2V0dXBEYXRhKGRhdGEpOwogICAgfSk7CiAgICB0aGlzLnNvY2tldC5vbihldmVudHMuTE9CQllfTU9ESUZJRUQsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIF90aGlzNS5zZXR1cERhdGEoZGF0YSk7CiAgICB9KTsKICAgIHRoaXMuc29ja2V0Lm9uKGV2ZW50cy5TVEFSVF9HQU1FLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICBfdGhpczUuc2V0dXBEYXRhKGRhdGEpOwogICAgfSk7CiAgICB0aGlzLnNvY2tldC5vbihldmVudHMuR0FNRV9NT0RJRklFRCwgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgX3RoaXM1LnNldHVwRGF0YShkYXRhKTsKICAgIH0pOwogICAgdGhpcy5zb2NrZXQub24oZXZlbnRzLlVTRV9ET1VCTEVfVFVSTiwgdGhpcy5oYW5kbGVEb3VibGVUdXJuKTsKICAgIHRoaXMuc29ja2V0Lm9uKGV2ZW50cy5DSEFULCBmdW5jdGlvbiAoZGF0YSkgewogICAgICBfdGhpczUuYXBwZW5kTWVzc2FnZShkYXRhKTsKICAgIH0pOwogICAgdGhpcy5zb2NrZXQub24oZXZlbnRzLkVORF9HQU1FLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICBfdGhpczUuaGFuZGxlRXZlbnRzKCJHYW1lIE92ZXIiLCAiVGhlIGdhbWUgZmluaXNoZWQiLCA0MDAwKTsKCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNS5zZXR1cERhdGEoZGF0YSk7CiAgICAgIH0sIDQwMDApOwogICAgfSk7CiAgICB0aGlzLnNvY2tldC5vbihldmVudHMuUkVTVEFSVF9HQU1FLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzNS5nYW1lUmVzdGFydGVkID0gdHJ1ZTsKICAgIH0pOwogICAgdGhpcy5zb2NrZXQub24oZXZlbnRzLkdFVF9HQU1FLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICBfdGhpczUuc2V0dXBEYXRhKGRhdGEpOwogICAgfSk7CiAgICB0aGlzLnN0YXR1cyA9IDA7CiAgICB0aGlzLmN1cnJlbnRQbGF5ZXIgPSB7CiAgICAgIGxvY2FsX2lkOiAwLAogICAgICBjb2xvcjogMSwKICAgICAgaXNfbWlzdGVyX3g6IGZhbHNlLAogICAgICBpc19hZG1pbjogdHJ1ZSwKICAgICAgdXNlcm5hbWU6ICJqYWNvcG8iLAogICAgICB1c2VkX3RheGk6IDAsCiAgICAgIHVzZWRfYnVzOiAwLAogICAgICB1c2VkX3VuZGVyZ3JvdW5kOiAwLAogICAgICB1c2VkX3NlY3JldF9tb3ZlczogMiwKICAgICAgdXNlZF9kb3VibGVfdHVybnM6IDAsCiAgICAgIG9ubGluZTogdHJ1ZSwKICAgICAgcG9zaXRpb246IDEsCiAgICAgIGF2YWlsYWJsZV9tb3ZlczogewogICAgICAgIHRheGk6IFs4XSwKICAgICAgICBidXM6IFs0NywgNTldLAogICAgICAgIHVuZGVyZ3JvdW5kOiBbNDddCiAgICAgIH0KICAgIH07CiAgICB0aGlzLnBsYXllcnMgPSBbdGhpcy5jdXJyZW50UGxheWVyLCB7CiAgICAgIGxvY2FsX2lkOiAxLAogICAgICBjb2xvcjogLTEsCiAgICAgIGlzX21pc3Rlcl94OiB0cnVlLAogICAgICBpc19hZG1pbjogZmFsc2UsCiAgICAgIHVzZXJuYW1lOiAibWF0dGVvIiwKICAgICAgb25saW5lOiB0cnVlLAogICAgICBwb3NpdGlvbjogMgogICAgfSwgewogICAgICBsb2NhbF9pZDogMiwKICAgICAgY29sb3I6IDIsCiAgICAgIGlzX21pc3Rlcl94OiBmYWxzZSwKICAgICAgaXNfYWRtaW46IGZhbHNlLAogICAgICB1c2VybmFtZTogInJhbWkiLAogICAgICBvbmxpbmU6IGZhbHNlLAogICAgICBwb3NpdGlvbjogMwogICAgfSwgewogICAgICBsb2NhbF9pZDogMywKICAgICAgY29sb3I6IDMsCiAgICAgIGlzX21pc3Rlcl94OiBmYWxzZSwKICAgICAgaXNfYWRtaW46IGZhbHNlLAogICAgICB1c2VybmFtZTogInRhdmUiLAogICAgICBvbmxpbmU6IHRydWUsCiAgICAgIHBvc2l0aW9uOiA0CiAgICB9XTsKICAgIHRoaXMuZ2FtZSA9IHsKICAgICAgcGxheWluZ1BsYXllcjogMCwKICAgICAgbGFzdE1pc3RlclhLbm93blBvc2l0aW9uOiBudWxsLAogICAgICBtaXN0ZXJYTW92ZXM6IFt7CiAgICAgICAgdHJhbnNwb3J0OiAwLAogICAgICAgIHBvc2l0aW9uOiAyMAogICAgICB9LCB7CiAgICAgICAgdHJhbnNwb3J0OiAxLAogICAgICAgIHBvc2l0aW9uOiAyMgogICAgICB9LCB7CiAgICAgICAgdHJhbnNwb3J0OiAyLAogICAgICAgIHBvc2l0aW9uOiAzMAogICAgICB9LCB7CiAgICAgICAgdHJhbnNwb3J0OiAzLAogICAgICAgIHBvc2l0aW9uOiA1NQogICAgICB9XQogICAgfTsKICAgIHRoaXMubWVzc2FnZXMgPSBbewogICAgICBib2R5OiAiY2lhb29vIiwKICAgICAgbG9jYWxfaWQ6IDAsCiAgICAgIGZyb21Zb3U6IHRydWUsCiAgICAgIHVzZXJuYW1lOiAiamFjb3BvIiwKICAgICAgY29sb3I6ICJncmF5IgogICAgfSwgewogICAgICBib2R5OiAiY2lhb29vIiwKICAgICAgbG9jYWxfaWQ6IDAsCiAgICAgIGZyb21Zb3U6IHRydWUsCiAgICAgIHVzZXJuYW1lOiAiamFjb3BvIiwKICAgICAgY29sb3I6ICJncmF5IgogICAgfSwgewogICAgICBib2R5OiAiY2lhb29vIiwKICAgICAgbG9jYWxfaWQ6IDAsCiAgICAgIGZyb21Zb3U6IHRydWUsCiAgICAgIHVzZXJuYW1lOiAiamFjb3BvIiwKICAgICAgY29sb3I6ICJncmF5IgogICAgfSwgewogICAgICBib2R5OiAiY2lhb29vIiwKICAgICAgbG9jYWxfaWQ6IDAsCiAgICAgIGZyb21Zb3U6IHRydWUsCiAgICAgIHVzZXJuYW1lOiAiamFjb3BvIiwKICAgICAgY29sb3I6ICJncmF5IgogICAgfSwgewogICAgICBib2R5OiAiY2lhb29vIiwKICAgICAgbG9jYWxfaWQ6IDAsCiAgICAgIGZyb21Zb3U6IHRydWUsCiAgICAgIHVzZXJuYW1lOiAiamFjb3BvIiwKICAgICAgY29sb3I6ICJncmF5IgogICAgfSwgewogICAgICBib2R5OiAiY2lhb29vIiwKICAgICAgbG9jYWxfaWQ6IDAsCiAgICAgIGZyb21Zb3U6IHRydWUsCiAgICAgIHVzZXJuYW1lOiAiamFjb3BvIiwKICAgICAgY29sb3I6ICJncmF5IgogICAgfSwgewogICAgICBib2R5OiAiY2lhb29vIiwKICAgICAgbG9jYWxfaWQ6IDAsCiAgICAgIGZyb21Zb3U6IHRydWUsCiAgICAgIHVzZXJuYW1lOiAiamFjb3BvIiwKICAgICAgY29sb3I6ICJncmF5IgogICAgfSwgewogICAgICBib2R5OiAiY2lhb29vIiwKICAgICAgbG9jYWxfaWQ6IDAsCiAgICAgIGZyb21Zb3U6IHRydWUsCiAgICAgIHVzZXJuYW1lOiAiamFjb3BvIiwKICAgICAgY29sb3I6ICJncmF5IgogICAgfSwgewogICAgICBib2R5OiAiY2lhb29vIiwKICAgICAgbG9jYWxfaWQ6IDAsCiAgICAgIGZyb21Zb3U6IHRydWUsCiAgICAgIHVzZXJuYW1lOiAiamFjb3BvIiwKICAgICAgY29sb3I6ICJncmF5IgogICAgfSwgewogICAgICBib2R5OiAiY2lhb29vIiwKICAgICAgbG9jYWxfaWQ6IDAsCiAgICAgIGZyb21Zb3U6IHRydWUsCiAgICAgIHVzZXJuYW1lOiAiamFjb3BvIiwKICAgICAgY29sb3I6ICJncmF5IgogICAgfSwgewogICAgICBib2R5OiAiY2lhb29vIiwKICAgICAgbG9jYWxfaWQ6IDAsCiAgICAgIGZyb21Zb3U6IHRydWUsCiAgICAgIHVzZXJuYW1lOiAiamFjb3BvIiwKICAgICAgY29sb3I6ICJncmF5IgogICAgfSwgewogICAgICBib2R5OiAiY2lhb29vIiwKICAgICAgbG9jYWxfaWQ6IDAsCiAgICAgIGZyb21Zb3U6IHRydWUsCiAgICAgIHVzZXJuYW1lOiAiamFjb3BvIiwKICAgICAgY29sb3I6ICJncmF5IgogICAgfSwgewogICAgICBib2R5OiAiY2lhb29vIiwKICAgICAgbG9jYWxfaWQ6IDAsCiAgICAgIGZyb21Zb3U6IHRydWUsCiAgICAgIHVzZXJuYW1lOiAiamFjb3BvIiwKICAgICAgY29sb3I6ICJncmF5IgogICAgfSwgewogICAgICBib2R5OiAiY2lhb29vIiwKICAgICAgbG9jYWxfaWQ6IDAsCiAgICAgIGZyb21Zb3U6IHRydWUsCiAgICAgIHVzZXJuYW1lOiAiamFjb3BvIiwKICAgICAgY29sb3I6ICJncmF5IgogICAgfSwgewogICAgICBib2R5OiAiY2lhb29vIiwKICAgICAgbG9jYWxfaWQ6IDAsCiAgICAgIGZyb21Zb3U6IHRydWUsCiAgICAgIHVzZXJuYW1lOiAiamFjb3BvIiwKICAgICAgY29sb3I6ICJncmF5IgogICAgfSwgewogICAgICBib2R5OiAiY2lhb29vIiwKICAgICAgbG9jYWxfaWQ6IDAsCiAgICAgIGZyb21Zb3U6IHRydWUsCiAgICAgIHVzZXJuYW1lOiAiamFjb3BvIiwKICAgICAgY29sb3I6ICJncmF5IgogICAgfSwgewogICAgICBib2R5OiAiY2lhb29vIiwKICAgICAgbG9jYWxfaWQ6IDAsCiAgICAgIGZyb21Zb3U6IHRydWUsCiAgICAgIHVzZXJuYW1lOiAiamFjb3BvIiwKICAgICAgY29sb3I6ICJncmF5IgogICAgfSwgewogICAgICBib2R5OiAiY2lhb29vIiwKICAgICAgbG9jYWxfaWQ6IDAsCiAgICAgIGZyb21Zb3U6IHRydWUsCiAgICAgIHVzZXJuYW1lOiAiamFjb3BvIiwKICAgICAgY29sb3I6ICJncmF5IgogICAgfSwgewogICAgICBib2R5OiAiY2lhb29vIiwKICAgICAgbG9jYWxfaWQ6IDAsCiAgICAgIGZyb21Zb3U6IHRydWUsCiAgICAgIHVzZXJuYW1lOiAiamFjb3BvIiwKICAgICAgY29sb3I6ICJncmF5IgogICAgfV07CiAgfSwKICBiZWZvcmVSb3V0ZUVudGVyOiBmdW5jdGlvbiBiZWZvcmVSb3V0ZUVudGVyKHRvLCBmcm9tLCBuZXh0KSB7CiAgICB2YXIgaWQgPSB0by5wYXJhbXMuZ2FtZUlkOwogICAgdmFyIHJlZ2V4ID0gUmVnRXhwKCJbJCYrLDo7PT9AI3wnPD4uLV4qKCklIcOgw6jDqcOsw7LDucKwXCIvwqPDp8Kne33CucKywrPCvMK9wqxcXHNdIiwgImciKTsKCiAgICBpZiAocmVnZXgudGVzdChpZC50b0xvd2VyQ2FzZSgpKSkgewogICAgICBuZXh0KHsKICAgICAgICBuYW1lOiB0by5uYW1lLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgZ2FtZUlkOiBpZC5yZXBsYWNlQWxsKHJlZ2V4LCAiIikudG9Mb3dlckNhc2UoKQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB2YXIgY3JlYXRlTG9jYWxBY2NvdW50ID0gZnVuY3Rpb24gY3JlYXRlTG9jYWxBY2NvdW50KCkgewogICAgICBheGlvcy5nZXQoY3JlYXRlTG9jYWxBY2NvdW50VXJsKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHN0b3JlLmRpc3BhdGNoKCJzZXRVc2VybmFtZSIsIHJlc3BvbnNlLmRhdGEudXNlcm5hbWUpOwogICAgICAgIHN0b3JlLmRpc3BhdGNoKCJzZXRMb2dnZWQiLCBmYWxzZSk7CiAgICAgICAgbmV4dCgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgbG9jYXRpb24uaHJlZiA9IGxvY2F0aW9uLm9yaWdpbiArICIvZXJyb3I/ZnJvbT0iICsgbG9jYXRpb24ucGF0aG5hbWU7CiAgICAgIH0pOwogICAgfTsKCiAgICBpZiAoc3RvcmUuc3RhdGUudXNlcm5hbWUgPT09ICIiICYmIHN0b3JlLnN0YXRlLmxvZ2dlZCA9PT0gLTEpIHsKICAgICAgLy9zZSBub24gw6ggYW5jb3JhIHN0YXRvIHRyb3ZhdG8gaWwgbG9nZ2VkCiAgICAgIGF4aW9zLmdldChnZXRMb2dpbkluZm9VcmwpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgIC8vc2Ugw6ggbG9nZ2F0byBpbiBxdWFsY2hlIG1vZG8KICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCJzZXRMb2dnZWQiLCByZXNwb25zZS5kYXRhLmdvb2dsZV9zaWduZWRfaW4pOwogICAgICAgICAgc3RvcmUuZGlzcGF0Y2goInNldFVzZXJuYW1lIiwgZGVjb2RlVVJJQ29tcG9uZW50KHJlc3BvbnNlLmRhdGEudXNlcm5hbWUpKTsKICAgICAgICAgIG5leHQoKTsgLy9zZSDDqCBsb2dnYXRvIGluIHF1YWxjaGUgbW9kbyBwdcOyIGFuZGFyZSBkb3ZlIHZ1b2xlCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vc2Ugbm9uIMOoIGxvZ2dhdG8KICAgICAgICAgIGNyZWF0ZUxvY2FsQWNjb3VudCgpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIGxvY2F0aW9uLmhyZWYgPSBsb2NhdGlvbi5vcmlnaW4gKyAiL2Vycm9yP2Zyb209IiArIGxvY2F0aW9uLnBhdGhuYW1lOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIGlmIChzdG9yZS5zdGF0ZS51c2VybmFtZSA9PT0gbnVsbCkgewogICAgICAgIC8vc2Ugbm9uIMOoIGxvZ2dhdG8KICAgICAgICBjcmVhdGVMb2NhbEFjY291bnQoKTsKICAgICAgfSBlbHNlIG5leHQoKTsgLy9zZSDDqCBsb2dnYXRvCgogICAgfQogIH0KfTs="},{"version":3,"sources":["C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\src\\views\\Game.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"game__main-panel\">\r\n    <div class=\"hamburger-menu__wrapper\" :class=\"{'hidden': !showHamburgerMenu}\">\r\n      <UserHamburgerMenu :show-chat=\"true\"\r\n                         :messages=\"messages\"\r\n                         :disable-logout=\"true\"\r\n                         :unread-messages=\"unreadMessages\"\r\n                         :src=\"hamburgerMenuImage\"\r\n                         :show=\"showHamburgerMenu\"\r\n                         @chat-opened=\"unreadMessages=false\"\r\n                         @send-message=\"sendMessage\"\r\n                         @toggle-show=\"showHamburgerMenu=$event\"/>\r\n    </div>\r\n    <PreGamePhase v-if=\"status===0\"\r\n                  :players=\"players\"\r\n                  :current-player=\"currentPlayer\"\r\n                  @joingame=\"joinGame\"\r\n                  @quitgame=\"quitGame\"\r\n                  @kickplayer=\"kickPlayer\"\r\n                  @changecolor=\"changeColor\"\r\n                  @changemisterx=\"changeMisterX\"\r\n                  @startgame=\"startGame\"/>\r\n    <GamePhase v-else-if=\"status===1\"\r\n               :players=\"players\"\r\n               :current-player=\"currentPlayer\"\r\n               :game=\"game\"\r\n               :changed-status-panel=\"changedStatusPanel\"\r\n               @move=\"move\"\r\n               @close-status-changed-panel=\"changedStatusPanel.show=false\"\r\n               @use-double-turn=\"useDoubleTurn\"/>\r\n    <PostGamePhase v-else-if=\"status===2\"\r\n                   :players=\"players\"\r\n                   :current-player=\"currentPlayer\"\r\n                   :game=\"game\"\r\n                   :game-restarted=\"gameRestarted\"\r\n                   @restart-game=\"restartGame\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport mitt from \"mitt\";\r\nimport {colorCorrispectives, createLocalAccountUrl, getLoginInfoUrl, webSocketUrl} from \"../constants/constants\";\r\nimport events from \"../constants/webSocketEvents\";\r\nimport {useRoute} from \"vue-router\";\r\nimport io from \"socket.io-client\";\r\nimport {defineAsyncComponent} from \"vue\";\r\nimport PreGamePhase from \"../components/PreGamePhase\";\r\nimport GamePhase from \"../components/GamePhase\";\r\nimport PostGamePhase from \"../components/PostGamePhase\";\r\nimport store from \"../store\";\r\nimport axios from \"axios\";\r\n\r\nwindow.mitt = window.mitt || new mitt();\r\n\r\nconst UserHamburgerMenu = defineAsyncComponent(() => import(\"../components/UserHamburgerMenu\" /* webpackChunkName: \"userHamburgerMenu\" */));\r\n\r\nexport default {\r\n  name: \"Game\",\r\n  components: {\r\n    UserHamburgerMenu,\r\n    PreGamePhase,\r\n    GamePhase,\r\n    PostGamePhase\r\n  },\r\n  data(){\r\n    return {\r\n      socket: null,\r\n      gameId: useRoute().params.gameId,\r\n      status: undefined,\r\n      currentPlayer: undefined,\r\n      players: [],\r\n      game: {},\r\n      messages: [],\r\n      unreadMessages: false,\r\n      showHamburgerMenu: false,\r\n      changedStatusPanel: {\r\n        title: null,\r\n        description: null,\r\n        show: false\r\n      },\r\n      hamburgerMenuImage: require(\"@/assets/hamburger_icon_dark.png\"),\r\n      gameRestarted: null\r\n    }\r\n  },\r\n  methods: {\r\n    setupData(data) {\r\n      console.log(data);\r\n      let wasYourTurn;\r\n      if(this.currentPlayer) wasYourTurn = this.game.playingPlayer === this.currentPlayer.local_id;\r\n      let wasRevelation = this.game.isRevelation;\r\n      this.status = data.status;\r\n      if(data.your_local_id!=null){\r\n        data.players.forEach(player => {\r\n          if(player.local_id===data.your_local_id){\r\n            this.currentPlayer = player;\r\n          }\r\n        })\r\n      } else {\r\n        this.currentPlayer = null;\r\n      }\r\n      this.players = data.players;\r\n      this.game = {\r\n        playingPlayer: data.players_turn,\r\n        isRevelation: data.is_revelation_turn,\r\n        lastMisterXKnownPosition: data.last_known_position,\r\n        misterXMoves: data.mister_x_moves,\r\n        misterXWon: data.mister_x_won\r\n      }\r\n      if(this.currentPlayer) {\r\n        let isYourTurn = this.game.playingPlayer === this.currentPlayer.local_id;\r\n        if ( !wasYourTurn && isYourTurn ) this.handleYourTurn();\r\n      }\r\n\r\n      let isRevelation = this.game.isRevelation;\r\n      if(!wasRevelation && isRevelation) {\r\n        this.handleRevelation();\r\n      }\r\n      window.mitt.emit(\"update-pawns\", this.players);\r\n    },\r\n    appendMessage(data){\r\n      this.unreadMessages = true;\r\n      let message = {};\r\n      message.localId = data._from;\r\n      message.username = this.findUsernameByLocalId(data._from);\r\n      message.body = data.message;\r\n      message.color = this.findColorByLocalId(data._from);\r\n      message.fromYou = data._from === this.currentPlayer.local_id;\r\n      this.messages.push(message);\r\n      if(!message.fromYou) this.$toast.show(message.body, {\r\n        duration: 2000,\r\n        maxToasts: 4,\r\n        className: \"toast \"+message.color\r\n      });\r\n      setTimeout(()=>{\r\n        let chat = document.getElementById(\"chat-container\");\r\n        chat.scrollTop = chat.scrollHeight;\r\n      }, 100)\r\n    },\r\n    findUsernameByLocalId(id){\r\n      for(let i = 0; i < this.players.length; i++){\r\n        if(this.players[i].local_id===id){\r\n          return this.players[i].username;\r\n        }\r\n      }\r\n      return null;\r\n    },\r\n    findColorByLocalId(id){\r\n      for(let i = 0; i < this.players.length; i++){\r\n        if(this.players[i].local_id===id){\r\n          return colorCorrispectives[this.players[i].color+1];\r\n        }\r\n      }\r\n      return null;\r\n    },\r\n    joinGame() {\r\n      this.socket.emit(events.JOIN_GAME);\r\n    },\r\n    quitGame() {\r\n      this.socket.emit(events.QUIT_GAME);\r\n    },\r\n    kickPlayer(localId){\r\n      this.socket.emit(events.KICK_PLAYER, localId);\r\n    },\r\n    changeColor(newColor){\r\n      this.socket.emit(events.CHANGE_COLOR, newColor);\r\n    },\r\n    startGame(){\r\n      this.socket.emit(events.START_GAME);\r\n    },\r\n    changeMisterX(newMisterX){\r\n      this.socket.emit(events.CHANGE_MISTER_X, newMisterX);\r\n    },\r\n    sendMessage(message){\r\n      let msg = message;\r\n      msg._from = this.currentPlayer.local_id;\r\n      this.socket.emit(events.CHAT, msg);\r\n    },\r\n    move(event){\r\n      this.socket.emit(events.MOVE, event);\r\n    },\r\n    useDoubleTurn(){\r\n      this.socket.emit(events.USE_DOUBLE_TURN);\r\n    },\r\n    restartGame(event){\r\n      if(event) this.socket.emit(events.RESTART_GAME, ()=>{\r\n        this.socket.emit(events.GET_GAME);\r\n      });\r\n      else this.socket.emit(events.GET_GAME);\r\n    },\r\n    handleEvents (title, description, time){\r\n      this.changedStatusPanel.title = title;\r\n      this.changedStatusPanel.description = description;\r\n      this.changedStatusPanel.show = true;\r\n      const show = async () => {\r\n        setTimeout(()=>{\r\n          this.changedStatusPanel.show = false;\r\n        }, time)\r\n      }\r\n      show();\r\n    },\r\n    handleYourTurn(){\r\n      this.$toast.show(\r\n          \"It's your turn\",\r\n          {\r\n            duration: 4000,\r\n            maxToasts: 4,\r\n            className: \"toast turn-notification\",\r\n            position: \"top\"\r\n          }\r\n      );\r\n    },\r\n    handleRevelation(){\r\n      let title = \"Revelation\";\r\n      let description;\r\n      if(this.currentPlayer.is_mister_x){\r\n        description = \"Your position was revealed! Be careful!\";\r\n      } else {\r\n        description = \"Mister X's position is \" + this.game.lastMisterXKnownPosition+\"! Go catch him!\";\r\n      }\r\n      this.handleEvents(title,\r\n          description,\r\n          4000);\r\n      window.mitt.emit(\"zoom-to-default\");\r\n      this.players.forEach(player => {\r\n        if(player.is_mister_x) {\r\n          player.position = this.game.lastMisterXKnownPosition;\r\n          window.mitt.emit(\"zoom-to-pawn\", player);\r\n        }\r\n      });\r\n    },\r\n    handleDoubleTurn(){\r\n      if(!this.currentPlayer.is_mister_x){\r\n        this.handleEvents(\"Double turn\",\r\n            \"Oh no! Mister X played a double turn card, you were close!\",\r\n            4000);\r\n      } else {\r\n        this.currentPlayer.used_double_turns++;\r\n        this.handleEvents(\"Double turn\",\r\n            \"Well played! Now you can move twice, they will surely lose your track!\",\r\n            4000);\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.socket = io(webSocketUrl, {\r\n      path: \"/unseen/socket.io/\"\r\n    });\r\n\r\n    this.socket.emit(events.CONNECT_TO_GAME, {game_id: this.gameId});\r\n\r\n    this.socket.on(events.CONNECT_TO_GAME, (data) => {\r\n      this.setupData(data);\r\n    });\r\n\r\n    this.socket.on(events.LOBBY_MODIFIED, data => {\r\n      this.setupData(data);\r\n    });\r\n\r\n    this.socket.on(events.START_GAME, data => {\r\n      this.setupData(data);\r\n    });\r\n\r\n    this.socket.on(events.GAME_MODIFIED, data => {\r\n      this.setupData(data);\r\n    });\r\n\r\n    this.socket.on(events.USE_DOUBLE_TURN, this.handleDoubleTurn);\r\n\r\n    this.socket.on(events.CHAT, data => {\r\n      this.appendMessage(data);\r\n    });\r\n\r\n    this.socket.on(events.END_GAME, (data)=>{\r\n      this.handleEvents(\"Game Over\", \"The game finished\", 4000);\r\n      setTimeout(()=>{\r\n        this.setupData(data);\r\n      }, 4000)\r\n    });\r\n\r\n    this.socket.on(events.RESTART_GAME, ()=>{\r\n      this.gameRestarted = true;\r\n    });\r\n\r\n    this.socket.on(events.GET_GAME, (data)=>{\r\n      this.setupData(data);\r\n    });\r\n    this.status = 0;\r\n    this.currentPlayer = {\r\n      local_id: 0,\r\n      color: 1,\r\n      is_mister_x: false,\r\n      is_admin: true,\r\n      username: \"jacopo\",\r\n      used_taxi: 0,\r\n      used_bus: 0,\r\n      used_underground: 0,\r\n      used_secret_moves: 2,\r\n      used_double_turns: 0,\r\n      online: true,\r\n      position: 1,\r\n      available_moves: {\r\n        taxi: [8],\r\n        bus: [47, 59],\r\n        underground: [47]\r\n      }\r\n    }\r\n    this.players = [\r\n      this.currentPlayer,\r\n      {\r\n        local_id: 1,\r\n        color: -1,\r\n        is_mister_x: true,\r\n        is_admin: false,\r\n        username: \"matteo\",\r\n        online: true,\r\n        position: 2\r\n      },\r\n      {\r\n        local_id: 2,\r\n        color: 2,\r\n        is_mister_x: false,\r\n        is_admin: false,\r\n        username: \"rami\",\r\n        online: false,\r\n        position: 3\r\n      },\r\n      {\r\n        local_id: 3,\r\n        color: 3,\r\n        is_mister_x: false,\r\n        is_admin: false,\r\n        username: \"tave\",\r\n        online: true,\r\n        position: 4\r\n      }\r\n    ]\r\n    this.game = {\r\n      playingPlayer: 0,\r\n      lastMisterXKnownPosition: null,\r\n      misterXMoves: [\r\n        {\r\n          transport: 0,\r\n          position: 20\r\n        },\r\n        {\r\n          transport: 1,\r\n          position: 22\r\n        },\r\n        {\r\n          transport: 2,\r\n          position: 30\r\n        },\r\n        {\r\n          transport: 3,\r\n          position: 55\r\n        }\r\n      ]\r\n    }\r\n\r\n    this.messages = [\r\n      {\r\n        body: \"ciaooo\",\r\n        local_id: 0,\r\n        fromYou: true,\r\n        username: \"jacopo\",\r\n        color: \"gray\"\r\n      },\r\n      {\r\n        body: \"ciaooo\",\r\n        local_id: 0,\r\n        fromYou: true,\r\n        username: \"jacopo\",\r\n        color: \"gray\"\r\n      },\r\n      {\r\n        body: \"ciaooo\",\r\n        local_id: 0,\r\n        fromYou: true,\r\n        username: \"jacopo\",\r\n        color: \"gray\"\r\n      },\r\n      {\r\n        body: \"ciaooo\",\r\n        local_id: 0,\r\n        fromYou: true,\r\n        username: \"jacopo\",\r\n        color: \"gray\"\r\n      },\r\n      {\r\n        body: \"ciaooo\",\r\n        local_id: 0,\r\n        fromYou: true,\r\n        username: \"jacopo\",\r\n        color: \"gray\"\r\n      },\r\n      {\r\n        body: \"ciaooo\",\r\n        local_id: 0,\r\n        fromYou: true,\r\n        username: \"jacopo\",\r\n        color: \"gray\"\r\n      },\r\n      {\r\n        body: \"ciaooo\",\r\n        local_id: 0,\r\n        fromYou: true,\r\n        username: \"jacopo\",\r\n        color: \"gray\"\r\n      },\r\n      {\r\n        body: \"ciaooo\",\r\n        local_id: 0,\r\n        fromYou: true,\r\n        username: \"jacopo\",\r\n        color: \"gray\"\r\n      },\r\n      {\r\n        body: \"ciaooo\",\r\n        local_id: 0,\r\n        fromYou: true,\r\n        username: \"jacopo\",\r\n        color: \"gray\"\r\n      },\r\n      {\r\n        body: \"ciaooo\",\r\n        local_id: 0,\r\n        fromYou: true,\r\n        username: \"jacopo\",\r\n        color: \"gray\"\r\n      },\r\n      {\r\n        body: \"ciaooo\",\r\n        local_id: 0,\r\n        fromYou: true,\r\n        username: \"jacopo\",\r\n        color: \"gray\"\r\n      },\r\n      {\r\n        body: \"ciaooo\",\r\n        local_id: 0,\r\n        fromYou: true,\r\n        username: \"jacopo\",\r\n        color: \"gray\"\r\n      },\r\n      {\r\n        body: \"ciaooo\",\r\n        local_id: 0,\r\n        fromYou: true,\r\n        username: \"jacopo\",\r\n        color: \"gray\"\r\n      },\r\n      {\r\n        body: \"ciaooo\",\r\n        local_id: 0,\r\n        fromYou: true,\r\n        username: \"jacopo\",\r\n        color: \"gray\"\r\n      },{\r\n        body: \"ciaooo\",\r\n        local_id: 0,\r\n        fromYou: true,\r\n        username: \"jacopo\",\r\n        color: \"gray\"\r\n      },\r\n      {\r\n        body: \"ciaooo\",\r\n        local_id: 0,\r\n        fromYou: true,\r\n        username: \"jacopo\",\r\n        color: \"gray\"\r\n      },\r\n      {\r\n        body: \"ciaooo\",\r\n        local_id: 0,\r\n        fromYou: true,\r\n        username: \"jacopo\",\r\n        color: \"gray\"\r\n      },\r\n      {\r\n        body: \"ciaooo\",\r\n        local_id: 0,\r\n        fromYou: true,\r\n        username: \"jacopo\",\r\n        color: \"gray\"\r\n      },\r\n      {\r\n        body: \"ciaooo\",\r\n        local_id: 0,\r\n        fromYou: true,\r\n        username: \"jacopo\",\r\n        color: \"gray\"\r\n      }\r\n    ];\r\n  },\r\n  beforeRouteEnter(to, from, next){\r\n    let id = to.params.gameId;\r\n    const regex = RegExp(\"[$&+,:;=?@#|'<>.-^*()%!àèéìòù°\\\"/£ç§{}¹²³¼½¬\\\\s]\", \"g\");\r\n    if(regex.test(id.toLowerCase())) {\r\n      next({name: to.name, params: {gameId: id.replaceAll(regex, \"\").toLowerCase()}});\r\n      return;\r\n    }\r\n    const createLocalAccount = ()=>{\r\n      axios\r\n          .get(createLocalAccountUrl)\r\n          .then((response) => {\r\n            store.dispatch(\"setUsername\", response.data.username);\r\n            store.dispatch(\"setLogged\", false);\r\n            next();\r\n          })\r\n          .catch(() => {\r\n            location.href = location.origin+\"/error?from=\"+location.pathname;\r\n          });\r\n    }\r\n    if(store.state.username === \"\" && store.state.logged === -1) { //se non è ancora stato trovato il logged\r\n      axios\r\n          .get(getLoginInfoUrl)\r\n          .then((response) => {\r\n            if (response.data) { //se è loggato in qualche modo\r\n              store.dispatch(\"setLogged\", response.data.google_signed_in);\r\n              store.dispatch(\"setUsername\", decodeURIComponent(response.data.username));\r\n\r\n              next(); //se è loggato in qualche modo può andare dove vuole\r\n\r\n            } else { //se non è loggato\r\n              createLocalAccount();\r\n            }\r\n          })\r\n          .catch(() => {\r\n            location.href = location.origin+\"/error?from=\"+location.pathname;\r\n          });\r\n    } else {\r\n      if(store.state.username === null){ //se non è loggato\r\n        createLocalAccount();\r\n      } else next(); //se è loggato\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"../styles/global\";\r\n\r\n.game__main-panel{\r\n  background-image: url(\"../assets/background_image.jpg\");\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-position: bottom;\r\n\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow-y: hidden;\r\n  @media (max-width: 700px) {\r\n    overflow: scroll;\r\n  }\r\n\r\n\r\n  .hamburger-menu__wrapper{\r\n    transition: all 0.5s;\r\n    height: 100%;\r\n    position: absolute;\r\n    z-index: 5;\r\n    width: 25%;\r\n    @media (max-width: 500px) {\r\n      width: 70% !important;\r\n    }\r\n    @media (max-width: 700px) {\r\n      width: 40%;\r\n    }\r\n\r\n    &.hidden{\r\n      transform: translateX(-100%);\r\n    }\r\n\r\n  }\r\n}\r\n\r\nbutton {\r\n  color: white;\r\n  padding: 1%;\r\n  background: transparent;\r\n  border: 2px solid white;\r\n  transition: all 0.5s;\r\n  margin: 1%;\r\n\r\n  &:hover{\r\n    background-color: white;\r\n    color: $theme-color-dark;\r\n  }\r\n\r\n  &:focus{\r\n    outline: none;\r\n  }\r\n}\r\n\r\n.toast{\r\n  display: grid;\r\n  align-items: center;\r\n  animation-duration: 150ms;\r\n  margin: 0.5em 0;\r\n  border-radius: 0.5em;\r\n  pointer-events: auto;\r\n  color: #fff;\r\n  background-color: orange;\r\n  min-height: 3em;\r\n  cursor: pointer;\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  padding: 0.5em 2em;\r\n  word-break: break-word;\r\n  width: fit-content;\r\n  align-self: flex-end;\r\n\r\n  &.turn-notification {\r\n    background-color: black;\r\n    align-self: center;\r\n    justify-content: start;\r\n  }\r\n\r\n  &.black{background-color: #323232;}\r\n\r\n  &.red{background-color: red;}\r\n\r\n  &.blue{background-color: blue;}\r\n\r\n  &.green{background-color: green;}\r\n\r\n  &.pink{background-color: deeppink;}\r\n\r\n  &.gray{\r\n    background-color: #c8c8c8;\r\n    color: black;\r\n  }\r\n}\r\n</style>"],"sourceRoot":""}]}