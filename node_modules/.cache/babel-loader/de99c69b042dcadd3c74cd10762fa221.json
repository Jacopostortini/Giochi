{"remainingRequest":"C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\src\\views\\Game.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\src\\views\\Game.vue","mtime":1616228096252},{"path":"C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615312359986},{"path":"C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1615312383663},{"path":"C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\node_modules\\babel-loader\\lib\\index.js","mtime":1615312359489},{"path":"C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615312359986},{"path":"C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1615312384341}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOi9Vc2Vycy9tYXR0ZS9EZXNrdG9wL3BhcGVyby91bnNlZW4ucGFwZXJvLnRrL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IG1pdHQgZnJvbSAibWl0dCI7CmltcG9ydCB7IGNvbG9ycywgdXJscyB9IGZyb20gIi4uL2NvbnN0YW50cy9jb25zdGFudHMiOwppbXBvcnQgZXZlbnRzIGZyb20gIi4uL2NvbnN0YW50cy93ZWJTb2NrZXRFdmVudHMiOwppbXBvcnQgeyB1c2VSb3V0ZSB9IGZyb20gInZ1ZS1yb3V0ZXIiOwppbXBvcnQgaW8gZnJvbSAic29ja2V0LmlvLWNsaWVudCI7CmltcG9ydCB7IGRlZmluZUFzeW5jQ29tcG9uZW50IH0gZnJvbSAidnVlIjsKaW1wb3J0IFByZUdhbWVQaGFzZSBmcm9tICIuLi9jb21wb25lbnRzL1ByZUdhbWVQaGFzZSI7CmltcG9ydCBHYW1lUGhhc2UgZnJvbSAiLi4vY29tcG9uZW50cy9HYW1lUGhhc2UiOwppbXBvcnQgUG9zdEdhbWVQaGFzZSBmcm9tICIuLi9jb21wb25lbnRzL1Bvc3RHYW1lUGhhc2UiOwppbXBvcnQgc3RvcmUgZnJvbSAiLi4vc3RvcmUiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwp3aW5kb3cubWl0dCA9IHdpbmRvdy5taXR0IHx8IG5ldyBtaXR0KCk7CnZhciBVc2VySGFtYnVyZ2VyTWVudSA9IGRlZmluZUFzeW5jQ29tcG9uZW50KGZ1bmN0aW9uICgpIHsKICByZXR1cm4gaW1wb3J0KCIuLi9jb21wb25lbnRzL1VzZXJIYW1idXJnZXJNZW51IgogIC8qIHdlYnBhY2tDaHVua05hbWU6ICJ1c2VySGFtYnVyZ2VyTWVudSIgKi8KICApOwp9KTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJHYW1lIiwKICBjb21wb25lbnRzOiB7CiAgICBVc2VySGFtYnVyZ2VyTWVudTogVXNlckhhbWJ1cmdlck1lbnUsCiAgICBQcmVHYW1lUGhhc2U6IFByZUdhbWVQaGFzZSwKICAgIEdhbWVQaGFzZTogR2FtZVBoYXNlLAogICAgUG9zdEdhbWVQaGFzZTogUG9zdEdhbWVQaGFzZQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNvY2tldDogbnVsbCwKICAgICAgZ2FtZUlkOiB1c2VSb3V0ZSgpLnBhcmFtcy5nYW1lSWQsCiAgICAgIHN0YXR1czogdW5kZWZpbmVkLAogICAgICBjdXJyZW50UGxheWVyOiB1bmRlZmluZWQsCiAgICAgIHBsYXllcnM6IFtdLAogICAgICBnYW1lOiB7fSwKICAgICAgbWVzc2FnZXM6IFtdLAogICAgICB1bnJlYWRNZXNzYWdlczogZmFsc2UsCiAgICAgIHNob3dIYW1idXJnZXJNZW51OiBmYWxzZSwKICAgICAgY2hhbmdlZFN0YXR1c1BhbmVsOiB7CiAgICAgICAgdGl0bGU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246IG51bGwsCiAgICAgICAgc2hvdzogZmFsc2UKICAgICAgfSwKICAgICAgaGFtYnVyZ2VyTWVudUltYWdlOiByZXF1aXJlKCJAL2Fzc2V0cy9oYW1idXJnZXJfaWNvbl9kYXJrLnBuZyIpLAogICAgICBnYW1lUmVzdGFydGVkOiBudWxsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc2V0dXBEYXRhOiBmdW5jdGlvbiBzZXR1cERhdGEoZGF0YSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgIHZhciB3YXNZb3VyVHVybjsKICAgICAgaWYgKHRoaXMuY3VycmVudFBsYXllcikgd2FzWW91clR1cm4gPSB0aGlzLmdhbWUucGxheWluZ1BsYXllciA9PT0gdGhpcy5jdXJyZW50UGxheWVyLmxvY2FsX2lkOwogICAgICB2YXIgd2FzUmV2ZWxhdGlvbiA9IHRoaXMuZ2FtZS5pc1JldmVsYXRpb247CiAgICAgIHRoaXMuc3RhdHVzID0gZGF0YS5zdGF0dXM7CgogICAgICBpZiAoZGF0YS55b3VyX2xvY2FsX2lkICE9IG51bGwpIHsKICAgICAgICBkYXRhLnBsYXllcnMuZm9yRWFjaChmdW5jdGlvbiAocGxheWVyKSB7CiAgICAgICAgICBpZiAocGxheWVyLmxvY2FsX2lkID09PSBkYXRhLnlvdXJfbG9jYWxfaWQpIHsKICAgICAgICAgICAgX3RoaXMuY3VycmVudFBsYXllciA9IHBsYXllcjsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmN1cnJlbnRQbGF5ZXIgPSBudWxsOwogICAgICB9CgogICAgICB0aGlzLnBsYXllcnMgPSBkYXRhLnBsYXllcnM7CiAgICAgIHRoaXMuZ2FtZSA9IHsKICAgICAgICBwbGF5aW5nUGxheWVyOiBkYXRhLnBsYXllcnNfdHVybiwKICAgICAgICBpc1JldmVsYXRpb246IGRhdGEuaXNfcmV2ZWxhdGlvbl90dXJuLAogICAgICAgIGxhc3RNaXN0ZXJYS25vd25Qb3NpdGlvbjogZGF0YS5sYXN0X2tub3duX3Bvc2l0aW9uLAogICAgICAgIG1pc3RlclhNb3ZlczogZGF0YS5taXN0ZXJfeF9tb3ZlcywKICAgICAgICBtaXN0ZXJYV29uOiBkYXRhLm1pc3Rlcl94X3dvbgogICAgICB9OwoKICAgICAgaWYgKHRoaXMuY3VycmVudFBsYXllcikgewogICAgICAgIHZhciBpc1lvdXJUdXJuID0gdGhpcy5nYW1lLnBsYXlpbmdQbGF5ZXIgPT09IHRoaXMuY3VycmVudFBsYXllci5sb2NhbF9pZDsKICAgICAgICBpZiAoIXdhc1lvdXJUdXJuICYmIGlzWW91clR1cm4pIHRoaXMuaGFuZGxlWW91clR1cm4oKTsKICAgICAgfQoKICAgICAgdmFyIGlzUmV2ZWxhdGlvbiA9IHRoaXMuZ2FtZS5pc1JldmVsYXRpb247CgogICAgICBpZiAoIXdhc1JldmVsYXRpb24gJiYgaXNSZXZlbGF0aW9uKSB7CiAgICAgICAgdGhpcy5oYW5kbGVSZXZlbGF0aW9uKCk7CiAgICAgIH0KCiAgICAgIHdpbmRvdy5taXR0LmVtaXQoInVwZGF0ZS1wYXducyIsIHRoaXMucGxheWVycyk7CiAgICB9LAogICAgYXBwZW5kTWVzc2FnZTogZnVuY3Rpb24gYXBwZW5kTWVzc2FnZShkYXRhKSB7CiAgICAgIHRoaXMudW5yZWFkTWVzc2FnZXMgPSB0cnVlOwogICAgICB2YXIgbWVzc2FnZSA9IHt9OwogICAgICBtZXNzYWdlLmxvY2FsSWQgPSBkYXRhLl9mcm9tOwoKICAgICAgdmFyIF90aGlzJGZpbmRJbmZvQnlMb2NhbCA9IHRoaXMuZmluZEluZm9CeUxvY2FsSWQoZGF0YS5fZnJvbSksCiAgICAgICAgICB1c2VybmFtZSA9IF90aGlzJGZpbmRJbmZvQnlMb2NhbC51c2VybmFtZSwKICAgICAgICAgIGNvbG9yID0gX3RoaXMkZmluZEluZm9CeUxvY2FsLmNvbG9yLAogICAgICAgICAgY3NzVG9hc3RDbGFzcyA9IF90aGlzJGZpbmRJbmZvQnlMb2NhbC5jc3NUb2FzdENsYXNzOwoKICAgICAgbWVzc2FnZS51c2VybmFtZSA9IHVzZXJuYW1lOwogICAgICBtZXNzYWdlLmJvZHkgPSBkYXRhLm1lc3NhZ2U7CiAgICAgIG1lc3NhZ2UuY29sb3IgPSBjb2xvcjsKICAgICAgbWVzc2FnZS5jc3NUb2FzdENsYXNzID0gY3NzVG9hc3RDbGFzczsKICAgICAgbWVzc2FnZS5mcm9tWW91ID0gdGhpcy5jdXJyZW50UGxheWVyID8gZGF0YS5fZnJvbSA9PT0gdGhpcy5jdXJyZW50UGxheWVyLmxvY2FsX2lkIDogZmFsc2U7CiAgICAgIHRoaXMubWVzc2FnZXMucHVzaChtZXNzYWdlKTsKICAgICAgaWYgKCFtZXNzYWdlLmZyb21Zb3UpIHRoaXMuJHRvYXN0LnNob3cobWVzc2FnZS5ib2R5LCB7CiAgICAgICAgZHVyYXRpb246IDQwMDAsCiAgICAgICAgbWF4VG9hc3RzOiA1LAogICAgICAgIGNsYXNzTmFtZTogInRvYXN0ICIgKyBtZXNzYWdlLmNzc1RvYXN0Q2xhc3MKICAgICAgfSk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBjaGF0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNoYXQtY29udGFpbmVyIik7CiAgICAgICAgaWYgKGNoYXQpIGNoYXQuc2Nyb2xsVG9wID0gY2hhdC5zY3JvbGxIZWlnaHQ7CiAgICAgIH0sIDEwMCk7CiAgICB9LAogICAgZmluZEluZm9CeUxvY2FsSWQ6IGZ1bmN0aW9uIGZpbmRJbmZvQnlMb2NhbElkKGlkKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wbGF5ZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHRoaXMucGxheWVyc1tpXS5sb2NhbF9pZCA9PT0gaWQpIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnBsYXllcnNbaV0udXNlcm5hbWUsCiAgICAgICAgICAgIGNvbG9yOiBjb2xvcnMuY3NzQ29sb3JzW3RoaXMucGxheWVyc1tpXS5jb2xvciArIDFdLAogICAgICAgICAgICBjc3NUb2FzdENsYXNzOiBjb2xvcnMuY3NzVG9hc3RDbGFzc1t0aGlzLnBsYXllcnNbaV0uY29sb3IgKyAxXQogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB7fTsKICAgIH0sCiAgICBqb2luR2FtZTogZnVuY3Rpb24gam9pbkdhbWUoKSB7CiAgICAgIHRoaXMuc29ja2V0LmVtaXQoZXZlbnRzLkpPSU5fR0FNRSk7CiAgICB9LAogICAgcXVpdEdhbWU6IGZ1bmN0aW9uIHF1aXRHYW1lKCkgewogICAgICB0aGlzLnNvY2tldC5lbWl0KGV2ZW50cy5RVUlUX0dBTUUpOwogICAgfSwKICAgIGtpY2tQbGF5ZXI6IGZ1bmN0aW9uIGtpY2tQbGF5ZXIobG9jYWxJZCkgewogICAgICB0aGlzLnNvY2tldC5lbWl0KGV2ZW50cy5LSUNLX1BMQVlFUiwgbG9jYWxJZCk7CiAgICB9LAogICAgY2hhbmdlQ29sb3I6IGZ1bmN0aW9uIGNoYW5nZUNvbG9yKG5ld0NvbG9yKSB7CiAgICAgIHRoaXMuc29ja2V0LmVtaXQoZXZlbnRzLkNIQU5HRV9DT0xPUiwgbmV3Q29sb3IpOwogICAgfSwKICAgIHN0YXJ0R2FtZTogZnVuY3Rpb24gc3RhcnRHYW1lKCkgewogICAgICB0aGlzLnNvY2tldC5lbWl0KGV2ZW50cy5TVEFSVF9HQU1FKTsKICAgIH0sCiAgICBjaGFuZ2VNaXN0ZXJYOiBmdW5jdGlvbiBjaGFuZ2VNaXN0ZXJYKG5ld01pc3RlclgpIHsKICAgICAgdGhpcy5zb2NrZXQuZW1pdChldmVudHMuQ0hBTkdFX01JU1RFUl9YLCBuZXdNaXN0ZXJYKTsKICAgIH0sCiAgICBzZW5kTWVzc2FnZTogZnVuY3Rpb24gc2VuZE1lc3NhZ2UobWVzc2FnZSkgewogICAgICB2YXIgbXNnID0gbWVzc2FnZTsKICAgICAgbXNnLl9mcm9tID0gdGhpcy5jdXJyZW50UGxheWVyLmxvY2FsX2lkOwogICAgICB0aGlzLnNvY2tldC5lbWl0KGV2ZW50cy5DSEFULCBtc2cpOwogICAgfSwKICAgIG1vdmU6IGZ1bmN0aW9uIG1vdmUoZXZlbnQpIHsKICAgICAgdGhpcy5zb2NrZXQuZW1pdChldmVudHMuTU9WRSwgZXZlbnQpOwogICAgfSwKICAgIHVzZURvdWJsZVR1cm46IGZ1bmN0aW9uIHVzZURvdWJsZVR1cm4oKSB7CiAgICAgIHRoaXMuc29ja2V0LmVtaXQoZXZlbnRzLlVTRV9ET1VCTEVfVFVSTik7CiAgICB9LAogICAgcmVzdGFydEdhbWU6IGZ1bmN0aW9uIHJlc3RhcnRHYW1lKGV2ZW50KSB7CiAgICAgIGlmIChldmVudCkgdGhpcy5zb2NrZXQuZW1pdChldmVudHMuUkVTVEFSVF9HQU1FKTtlbHNlIHRoaXMuc29ja2V0LmVtaXQoZXZlbnRzLkdFVF9HQU1FKTsKICAgIH0sCiAgICBoYW5kbGVFdmVudHM6IGZ1bmN0aW9uIGhhbmRsZUV2ZW50cyh0aXRsZSwgZGVzY3JpcHRpb24sIHRpbWUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmNoYW5nZWRTdGF0dXNQYW5lbC50aXRsZSA9IHRpdGxlOwogICAgICB0aGlzLmNoYW5nZWRTdGF0dXNQYW5lbC5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uOwogICAgICB0aGlzLmNoYW5nZWRTdGF0dXNQYW5lbC5zaG93ID0gdHJ1ZTsKCiAgICAgIHZhciBzaG93ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmNoYW5nZWRTdGF0dXNQYW5lbC5zaG93ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIH0sIHRpbWUpOwoKICAgICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICB9KSk7CgogICAgICAgIHJldHVybiBmdW5jdGlvbiBzaG93KCkgewogICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCk7CgogICAgICBzaG93KCk7CiAgICB9LAogICAgaGFuZGxlWW91clR1cm46IGZ1bmN0aW9uIGhhbmRsZVlvdXJUdXJuKCkgewogICAgICB0aGlzLiR0b2FzdC5zaG93KCJJdCdzIHlvdXIgdHVybiIsIHsKICAgICAgICBkdXJhdGlvbjogNDAwMCwKICAgICAgICBtYXhUb2FzdHM6IDQsCiAgICAgICAgY2xhc3NOYW1lOiAidG9hc3QgdHVybi1ub3RpZmljYXRpb24iLAogICAgICAgIHBvc2l0aW9uOiAidG9wIgogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVSZXZlbGF0aW9uOiBmdW5jdGlvbiBoYW5kbGVSZXZlbGF0aW9uKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciB0aXRsZSA9ICJSZXZlbGF0aW9uIjsKICAgICAgdmFyIGRlc2NyaXB0aW9uOwoKICAgICAgaWYgKCF0aGlzLmN1cnJlbnRQbGF5ZXIpIHsKICAgICAgICBkZXNjcmlwdGlvbiA9ICJNaXN0ZXIgWCdzIHBvc2l0aW9uIGlzICIgKyB0aGlzLmdhbWUubGFzdE1pc3RlclhLbm93blBvc2l0aW9uICsgIiEiOwogICAgICB9IGVsc2UgaWYgKHRoaXMuY3VycmVudFBsYXllci5pc19taXN0ZXJfeCkgewogICAgICAgIGRlc2NyaXB0aW9uID0gIllvdXIgcG9zaXRpb24gd2FzIHJldmVhbGVkISBCZSBjYXJlZnVsISI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZGVzY3JpcHRpb24gPSAiTWlzdGVyIFgncyBwb3NpdGlvbiBpcyAiICsgdGhpcy5nYW1lLmxhc3RNaXN0ZXJYS25vd25Qb3NpdGlvbiArICIhIEdvIGNhdGNoIGhpbSEiOwogICAgICB9CgogICAgICB0aGlzLmhhbmRsZUV2ZW50cyh0aXRsZSwgZGVzY3JpcHRpb24sIDQwMDApOwogICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChmdW5jdGlvbiAocGxheWVyKSB7CiAgICAgICAgaWYgKHBsYXllci5pc19taXN0ZXJfeCkgewogICAgICAgICAgcGxheWVyLnBvc2l0aW9uID0gX3RoaXMzLmdhbWUubGFzdE1pc3RlclhLbm93blBvc2l0aW9uOwogICAgICAgICAgd2luZG93Lm1pdHQuZW1pdCgiem9vbS10by1kZWZhdWx0Iik7CiAgICAgICAgICB3aW5kb3cubWl0dC5lbWl0KCJ6b29tLXRvLXBhd24iLCBwbGF5ZXIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlRG91YmxlVHVybjogZnVuY3Rpb24gaGFuZGxlRG91YmxlVHVybigpIHsKICAgICAgdmFyIHRpdGxlID0gIkRvdWJsZSB0dXJuIjsKICAgICAgdmFyIGRlc2NyaXB0aW9uOwoKICAgICAgaWYgKCF0aGlzLmN1cnJlbnRQbGF5ZXIpIHsKICAgICAgICBkZXNjcmlwdGlvbiA9ICJNaXN0ZXIgWCBwbGF5ZWQgYSBkb3VibGUgdHVybiBjYXJkIjsKICAgICAgfSBlbHNlIGlmICghdGhpcy5jdXJyZW50UGxheWVyLmlzX21pc3Rlcl94KSB7CiAgICAgICAgZGVzY3JpcHRpb24gPSAiT2ggbm8hIE1pc3RlciBYIHBsYXllZCBhIGRvdWJsZSB0dXJuIGNhcmQsIHlvdSB3ZXJlIGNsb3NlISI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jdXJyZW50UGxheWVyLnVzZWRfZG91YmxlX3R1cm5zKys7CiAgICAgICAgZGVzY3JpcHRpb24gPSAiV2VsbCBwbGF5ZWQhIE5vdyB5b3UgY2FuIG1vdmUgdHdpY2UsIHRoZXkgd2lsbCBzdXJlbHkgbG9zZSB5b3VyIHRyYWNrISI7CiAgICAgIH0KCiAgICAgIHRoaXMuaGFuZGxlRXZlbnRzKHRpdGxlLCBkZXNjcmlwdGlvbiwgNDAwMCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgdGhpcy5zb2NrZXQgPSBpbyh1cmxzLndlYlNvY2tldFVybCwgewogICAgICBwYXRoOiAiL3Vuc2Vlbi9zb2NrZXQuaW8vIgogICAgfSk7CiAgICB0aGlzLnNvY2tldC5vbigiY29ubmVjdCIsIGZ1bmN0aW9uICgpIHsKICAgICAgY29uc29sZS5sb2coImNvbm5lY3RlZCIpOwoKICAgICAgX3RoaXM0LnNvY2tldC5lbWl0KGV2ZW50cy5DT05ORUNUX1RPX0dBTUUsIHsKICAgICAgICBnYW1lX2lkOiBfdGhpczQuZ2FtZUlkCiAgICAgIH0pOwogICAgfSk7CiAgICB0aGlzLnNvY2tldC5vbihldmVudHMuQ09OTkVDVF9UT19HQU1FLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICBfdGhpczQuc2V0dXBEYXRhKGRhdGEpOwogICAgfSk7CiAgICB0aGlzLnNvY2tldC5vbihldmVudHMuTE9CQllfTU9ESUZJRUQsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIF90aGlzNC5zZXR1cERhdGEoZGF0YSk7CiAgICB9KTsKICAgIHRoaXMuc29ja2V0Lm9uKGV2ZW50cy5TVEFSVF9HQU1FLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICBfdGhpczQuc2V0dXBEYXRhKGRhdGEpOwogICAgfSk7CiAgICB0aGlzLnNvY2tldC5vbihldmVudHMuR0FNRV9NT0RJRklFRCwgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgX3RoaXM0LnNldHVwRGF0YShkYXRhKTsKICAgIH0pOwogICAgdGhpcy5zb2NrZXQub24oZXZlbnRzLlVTRV9ET1VCTEVfVFVSTiwgdGhpcy5oYW5kbGVEb3VibGVUdXJuKTsKICAgIHRoaXMuc29ja2V0Lm9uKGV2ZW50cy5DSEFULCBmdW5jdGlvbiAoZGF0YSkgewogICAgICBfdGhpczQuYXBwZW5kTWVzc2FnZShkYXRhKTsKICAgIH0pOwogICAgdGhpcy5zb2NrZXQub24oZXZlbnRzLkVORF9HQU1FLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICB2YXIgZGVzY3JpcHRpb247CgogICAgICBpZiAoZGF0YS5taXN0ZXJfeF93b24pIHsKICAgICAgICBkZXNjcmlwdGlvbiA9IF90aGlzNC5jdXJyZW50UGxheWVyICYmIF90aGlzNC5jdXJyZW50UGxheWVyLmlzX21pc3Rlcl94ID8gIllvdSB3b24hIiA6ICJPaCBubyEgTWlzdGVyIFggd29uISI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZGVzY3JpcHRpb24gPSBfdGhpczQuY3VycmVudFBsYXllciAmJiBfdGhpczQuY3VycmVudFBsYXllci5pc19taXN0ZXJfeCA/ICJPaCBubyEgVGhlIGRldGVjdGl2ZXMgd29uISIgOiAiWW91IHdvbiEiOwogICAgICB9CgogICAgICBfdGhpczQuaGFuZGxlRXZlbnRzKCJHYW1lIE92ZXIiLCBkZXNjcmlwdGlvbiwgNDAwMCk7CgogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczQuc2V0dXBEYXRhKGRhdGEpOwogICAgICB9LCA0MDAwKTsKICAgIH0pOwogICAgdGhpcy5zb2NrZXQub24oZXZlbnRzLlJFU1RBUlRfR0FNRSwgZnVuY3Rpb24gKCkgewogICAgICBfdGhpczQuZ2FtZVJlc3RhcnRlZCA9IHRydWU7CiAgICB9KTsKICAgIHRoaXMuc29ja2V0Lm9uKGV2ZW50cy5HRVRfR0FNRSwgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgX3RoaXM0LnNldHVwRGF0YShkYXRhKTsKICAgIH0pOwogICAgLyoNCiAgICAgICAgdGhpcy5zdGF0dXMgPSAxOw0KICAgICAgICB0aGlzLmN1cnJlbnRQbGF5ZXIgPSBudWxsLyEqew0KICAgICAgICAgIGxvY2FsX2lkOiAwLA0KICAgICAgICAgIGNvbG9yOiAxLA0KICAgICAgICAgIGlzX21pc3Rlcl94OiBmYWxzZSwNCiAgICAgICAgICBpc19hZG1pbjogdHJ1ZSwNCiAgICAgICAgICB1c2VybmFtZTogImphY29wbyIsDQogICAgICAgICAgdXNlZF90YXhpOiAwLA0KICAgICAgICAgIHVzZWRfYnVzOiAwLA0KICAgICAgICAgIHVzZWRfdW5kZXJncm91bmQ6IDAsDQogICAgICAgICAgdXNlZF9zZWNyZXRfbW92ZXM6IDIsDQogICAgICAgICAgdXNlZF9kb3VibGVfdHVybnM6IDAsDQogICAgICAgICAgb25saW5lOiB0cnVlLA0KICAgICAgICAgIHBvc2l0aW9uOiAxLA0KICAgICAgICAgIGF2YWlsYWJsZV9tb3Zlczogew0KICAgICAgICAgICAgdGF4aTogWzhdLA0KICAgICAgICAgICAgYnVzOiBbNDcsIDU5XSwNCiAgICAgICAgICAgIHVuZGVyZ3JvdW5kOiBbNDddDQogICAgICAgICAgfQ0KICAgICAgICB9KiEvDQogICAgICAgIHRoaXMucGxheWVycyA9IFsNCiAgICAgICAgICAvL3RoaXMuY3VycmVudFBsYXllciwNCiAgICAgICAgICB7DQogICAgICAgICAgICBsb2NhbF9pZDogMSwNCiAgICAgICAgICAgIGNvbG9yOiAtMSwNCiAgICAgICAgICAgIGlzX21pc3Rlcl94OiB0cnVlLA0KICAgICAgICAgICAgaXNfYWRtaW46IHRydWUsDQogICAgICAgICAgICB1c2VybmFtZTogIm1hdHRlbyIsDQogICAgICAgICAgICBvbmxpbmU6IHRydWUsDQogICAgICAgICAgICBwb3NpdGlvbjogMg0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgbG9jYWxfaWQ6IDIsDQogICAgICAgICAgICBjb2xvcjogMiwNCiAgICAgICAgICAgIGlzX21pc3Rlcl94OiBmYWxzZSwNCiAgICAgICAgICAgIGlzX2FkbWluOiBmYWxzZSwNCiAgICAgICAgICAgIHVzZXJuYW1lOiAicmFtaSIsDQogICAgICAgICAgICBvbmxpbmU6IGZhbHNlLA0KICAgICAgICAgICAgcG9zaXRpb246IDMNCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIGxvY2FsX2lkOiAzLA0KICAgICAgICAgICAgY29sb3I6IDMsDQogICAgICAgICAgICBpc19taXN0ZXJfeDogZmFsc2UsDQogICAgICAgICAgICBpc19hZG1pbjogZmFsc2UsDQogICAgICAgICAgICB1c2VybmFtZTogInRhdmUiLA0KICAgICAgICAgICAgb25saW5lOiB0cnVlLA0KICAgICAgICAgICAgcG9zaXRpb246IDQNCiAgICAgICAgICB9DQogICAgICAgIF0NCiAgICAgICAgdGhpcy5nYW1lID0gew0KICAgICAgICAgIHBsYXlpbmdQbGF5ZXI6IDAsDQogICAgICAgICAgbGFzdE1pc3RlclhLbm93blBvc2l0aW9uOiBudWxsLA0KICAgICAgICAgIG1pc3RlclhNb3ZlczogWw0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICB0cmFuc3BvcnQ6IDAsDQogICAgICAgICAgICAgIHBvc2l0aW9uOiAyMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgdHJhbnNwb3J0OiAxLA0KICAgICAgICAgICAgICBwb3NpdGlvbjogMjINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgIHRyYW5zcG9ydDogMiwNCiAgICAgICAgICAgICAgcG9zaXRpb246IDMwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICB0cmFuc3BvcnQ6IDMsDQogICAgICAgICAgICAgIHBvc2l0aW9uOiA1NQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIF0NCiAgICAgICAgfQ0KICAgIA0KICAgICAgICB0aGlzLm1lc3NhZ2VzID0gWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIGJvZHk6ICJjaWFvb28iLA0KICAgICAgICAgICAgbG9jYWxfaWQ6IDAsDQogICAgICAgICAgICBmcm9tWW91OiBmYWxzZSwNCiAgICAgICAgICAgIHVzZXJuYW1lOiAiamFjb3BvIiwNCiAgICAgICAgICAgIGNvbG9yOiAiZ3JheSINCiAgICAgICAgICB9DQogICAgICAgIF07Ki8KICB9LAogIGJlZm9yZVJvdXRlRW50ZXI6IGZ1bmN0aW9uIGJlZm9yZVJvdXRlRW50ZXIodG8sIGZyb20sIG5leHQpIHsKICAgIHZhciBpZCA9IHRvLnBhcmFtcy5nYW1lSWQ7CiAgICB2YXIgcmVnZXggPSBSZWdFeHAoIlskJissOjs9P0AjfCc8Pi4tXiooKSUhw6DDqMOpw6zDssO5wrBcIi/Co8Onwqd7fcK5wrLCs8K8wr3CrFxcc10iLCAiZyIpOwoKICAgIGlmIChyZWdleC50ZXN0KGlkLnRvTG93ZXJDYXNlKCkpKSB7CiAgICAgIG5leHQoewogICAgICAgIG5hbWU6IHRvLm5hbWUsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBnYW1lSWQ6IGlkLnJlcGxhY2VBbGwocmVnZXgsICIiKS50b0xvd2VyQ2FzZSgpCiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuOwogICAgfSAvL25leHQoKTsKCgogICAgdmFyIGNyZWF0ZUxvY2FsQWNjb3VudCA9IGZ1bmN0aW9uIGNyZWF0ZUxvY2FsQWNjb3VudCgpIHsKICAgICAgYXhpb3MuZ2V0KHVybHMuY3JlYXRlTG9jYWxBY2NvdW50VXJsKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHN0b3JlLmRpc3BhdGNoKCJzZXRVc2VybmFtZSIsIHJlc3BvbnNlLmRhdGEudXNlcm5hbWUpOwogICAgICAgIHN0b3JlLmRpc3BhdGNoKCJzZXRMb2dnZWQiLCBmYWxzZSk7CiAgICAgICAgbmV4dCgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgbG9jYXRpb24uaHJlZiA9IGxvY2F0aW9uLm9yaWdpbiArICIvZXJyb3I/ZnJvbT0iICsgbG9jYXRpb24ucGF0aG5hbWU7CiAgICAgIH0pOwogICAgfTsKCiAgICBpZiAoc3RvcmUuc3RhdGUudXNlcm5hbWUgPT09ICIiICYmIHN0b3JlLnN0YXRlLmxvZ2dlZCA9PT0gLTEpIHsKICAgICAgLy9zZSBub24gw6ggYW5jb3JhIHN0YXRvIHRyb3ZhdG8gaWwgbG9nZ2VkCiAgICAgIGF4aW9zLmdldCh1cmxzLmdldExvZ2luSW5mb1VybCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgLy9zZSDDqCBsb2dnYXRvIGluIHF1YWxjaGUgbW9kbwogICAgICAgICAgc3RvcmUuZGlzcGF0Y2goInNldExvZ2dlZCIsIHJlc3BvbnNlLmRhdGEuZ29vZ2xlX3NpZ25lZF9pbik7CiAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgic2V0VXNlcm5hbWUiLCBkZWNvZGVVUklDb21wb25lbnQocmVzcG9uc2UuZGF0YS51c2VybmFtZSkpOwogICAgICAgICAgbmV4dCgpOyAvL3NlIMOoIGxvZ2dhdG8gaW4gcXVhbGNoZSBtb2RvIHB1w7IgYW5kYXJlIGRvdmUgdnVvbGUKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy9zZSBub24gw6ggbG9nZ2F0bwogICAgICAgICAgY3JlYXRlTG9jYWxBY2NvdW50KCk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgbG9jYXRpb24uaHJlZiA9IGxvY2F0aW9uLm9yaWdpbiArICIvZXJyb3I/ZnJvbT0iICsgbG9jYXRpb24ucGF0aG5hbWU7CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgaWYgKHN0b3JlLnN0YXRlLnVzZXJuYW1lID09PSBudWxsKSB7CiAgICAgICAgLy9zZSBub24gw6ggbG9nZ2F0bwogICAgICAgIGNyZWF0ZUxvY2FsQWNjb3VudCgpOwogICAgICB9IGVsc2UgbmV4dCgpOyAvL3NlIMOoIGxvZ2dhdG8KCiAgICB9CiAgfSwKICB1bm1vdW50ZWQ6IGZ1bmN0aW9uIHVubW91bnRlZCgpIHsKICAgIHRoaXMuc29ja2V0LmNsb3NlKCk7CiAgfQp9Ow=="},{"version":3,"sources":["C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\src\\views\\Game.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"game__main-panel\">\r\n    <UserHamburgerMenu :show-chat=\"!!currentPlayer\"\r\n                       :messages=\"messages\"\r\n                       :disable-logout=\"true\"\r\n                       :unread-messages=\"unreadMessages\"\r\n                       :src=\"hamburgerMenuImage\"\r\n                       :show=\"showHamburgerMenu\"\r\n                       @chat-opened=\"unreadMessages=false\"\r\n                       @send-message=\"sendMessage\"\r\n                       @toggle-show=\"showHamburgerMenu=$event\"/>\r\n    <PreGamePhase v-if=\"status===0\"\r\n                  :players=\"players\"\r\n                  :current-player=\"currentPlayer\"\r\n                  @joingame=\"joinGame\"\r\n                  @quitgame=\"quitGame\"\r\n                  @kickplayer=\"kickPlayer\"\r\n                  @changecolor=\"changeColor\"\r\n                  @changemisterx=\"changeMisterX\"\r\n                  @startgame=\"startGame\"/>\r\n    <GamePhase v-else-if=\"status===1\"\r\n               :players=\"players\"\r\n               :current-player=\"currentPlayer\"\r\n               :game=\"game\"\r\n               :changed-status-panel=\"changedStatusPanel\"\r\n               @move=\"move\"\r\n               @close-status-changed-panel=\"changedStatusPanel.show=false\"\r\n               @use-double-turn=\"useDoubleTurn\"/>\r\n    <PostGamePhase v-else-if=\"status===2\"\r\n                   :players=\"players\"\r\n                   :current-player=\"currentPlayer\"\r\n                   :game=\"game\"\r\n                   :game-restarted=\"gameRestarted\"\r\n                   @restart-game=\"restartGame\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport mitt from \"mitt\";\r\nimport {colors, urls} from \"../constants/constants\";\r\nimport events from \"../constants/webSocketEvents\";\r\nimport {useRoute} from \"vue-router\";\r\nimport io from \"socket.io-client\";\r\nimport {defineAsyncComponent} from \"vue\";\r\nimport PreGamePhase from \"../components/PreGamePhase\";\r\nimport GamePhase from \"../components/GamePhase\";\r\nimport PostGamePhase from \"../components/PostGamePhase\";\r\nimport store from \"../store\";\r\nimport axios from \"axios\";\r\n\r\nwindow.mitt = window.mitt || new mitt();\r\n\r\nconst UserHamburgerMenu = defineAsyncComponent(() => import(\"../components/UserHamburgerMenu\" /* webpackChunkName: \"userHamburgerMenu\" */));\r\n\r\nexport default {\r\n  name: \"Game\",\r\n  components: {\r\n    UserHamburgerMenu,\r\n    PreGamePhase,\r\n    GamePhase,\r\n    PostGamePhase\r\n  },\r\n  data(){\r\n    return {\r\n      socket: null,\r\n      gameId: useRoute().params.gameId,\r\n      status: undefined,\r\n      currentPlayer: undefined,\r\n      players: [],\r\n      game: {},\r\n      messages: [],\r\n      unreadMessages: false,\r\n      showHamburgerMenu: false,\r\n      changedStatusPanel: {\r\n        title: null,\r\n        description: null,\r\n        show: false\r\n      },\r\n      hamburgerMenuImage: require(\"@/assets/hamburger_icon_dark.png\"),\r\n      gameRestarted: null\r\n    }\r\n  },\r\n  methods: {\r\n    setupData(data) {\r\n      console.log(data);\r\n      let wasYourTurn;\r\n      if(this.currentPlayer) wasYourTurn = this.game.playingPlayer === this.currentPlayer.local_id;\r\n      let wasRevelation = this.game.isRevelation;\r\n      this.status = data.status;\r\n      if(data.your_local_id!=null){\r\n        data.players.forEach(player => {\r\n          if(player.local_id===data.your_local_id){\r\n            this.currentPlayer = player;\r\n          }\r\n        })\r\n      } else {\r\n        this.currentPlayer = null;\r\n      }\r\n      this.players = data.players;\r\n      this.game = {\r\n        playingPlayer: data.players_turn,\r\n        isRevelation: data.is_revelation_turn,\r\n        lastMisterXKnownPosition: data.last_known_position,\r\n        misterXMoves: data.mister_x_moves,\r\n        misterXWon: data.mister_x_won\r\n      }\r\n      if(this.currentPlayer) {\r\n        let isYourTurn = this.game.playingPlayer === this.currentPlayer.local_id;\r\n        if ( !wasYourTurn && isYourTurn ) this.handleYourTurn();\r\n      }\r\n\r\n      let isRevelation = this.game.isRevelation;\r\n      if(!wasRevelation && isRevelation) {\r\n        this.handleRevelation();\r\n      }\r\n      window.mitt.emit(\"update-pawns\", this.players);\r\n    },\r\n    appendMessage(data){\r\n      this.unreadMessages = true;\r\n      let message = {};\r\n      message.localId = data._from;\r\n      let {username, color, cssToastClass} = this.findInfoByLocalId(data._from);\r\n      message.username = username;\r\n      message.body = data.message;\r\n      message.color = color;\r\n      message.cssToastClass = cssToastClass;\r\n      message.fromYou = this.currentPlayer ? data._from === this.currentPlayer.local_id : false;\r\n      this.messages.push(message);\r\n      if(!message.fromYou) this.$toast.show(message.body, {\r\n        duration: 4000,\r\n        maxToasts: 5,\r\n        className: \"toast \"+message.cssToastClass\r\n      });\r\n      setTimeout(()=>{\r\n        let chat = document.getElementById(\"chat-container\");\r\n        if(chat) chat.scrollTop = chat.scrollHeight;\r\n      }, 100)\r\n    },\r\n    findInfoByLocalId(id){\r\n      for(let i = 0; i < this.players.length; i++){\r\n        if(this.players[i].local_id===id){\r\n          return {\r\n            username: this.players[i].username,\r\n            color: colors.cssColors[this.players[i].color+1],\r\n            cssToastClass: colors.cssToastClass[this.players[i].color+1]\r\n          }\r\n        }\r\n      }\r\n      return {};\r\n    },\r\n    joinGame() {\r\n      this.socket.emit(events.JOIN_GAME);\r\n    },\r\n    quitGame() {\r\n      this.socket.emit(events.QUIT_GAME);\r\n    },\r\n    kickPlayer(localId){\r\n      this.socket.emit(events.KICK_PLAYER, localId);\r\n    },\r\n    changeColor(newColor){\r\n      this.socket.emit(events.CHANGE_COLOR, newColor);\r\n    },\r\n    startGame(){\r\n      this.socket.emit(events.START_GAME);\r\n    },\r\n    changeMisterX(newMisterX){\r\n      this.socket.emit(events.CHANGE_MISTER_X, newMisterX);\r\n    },\r\n    sendMessage(message){\r\n      let msg = message;\r\n      msg._from = this.currentPlayer.local_id;\r\n      this.socket.emit(events.CHAT, msg);\r\n    },\r\n    move(event){\r\n      this.socket.emit(events.MOVE, event);\r\n    },\r\n    useDoubleTurn(){\r\n      this.socket.emit(events.USE_DOUBLE_TURN);\r\n    },\r\n    restartGame(event){\r\n      if(event) this.socket.emit(events.RESTART_GAME);\r\n      else this.socket.emit(events.GET_GAME);\r\n    },\r\n    handleEvents (title, description, time){\r\n      this.changedStatusPanel.title = title;\r\n      this.changedStatusPanel.description = description;\r\n      this.changedStatusPanel.show = true;\r\n      const show = async () => {\r\n        setTimeout(()=>{\r\n          this.changedStatusPanel.show = false;\r\n        }, time)\r\n      }\r\n      show();\r\n    },\r\n    handleYourTurn(){\r\n      this.$toast.show(\r\n          \"It's your turn\",\r\n          {\r\n            duration: 4000,\r\n            maxToasts: 4,\r\n            className: \"toast turn-notification\",\r\n            position: \"top\"\r\n          }\r\n      );\r\n    },\r\n    handleRevelation(){\r\n      let title = \"Revelation\";\r\n      let description;\r\n      if(!this.currentPlayer){\r\n        description = \"Mister X's position is \" + this.game.lastMisterXKnownPosition+\"!\";\r\n      } else if(this.currentPlayer.is_mister_x){\r\n        description = \"Your position was revealed! Be careful!\";\r\n      } else {\r\n        description = \"Mister X's position is \" + this.game.lastMisterXKnownPosition+\"! Go catch him!\";\r\n      }\r\n      this.handleEvents(title,\r\n          description,\r\n          4000);\r\n      this.players.forEach(player => {\r\n        if(player.is_mister_x) {\r\n          player.position = this.game.lastMisterXKnownPosition;\r\n          window.mitt.emit(\"zoom-to-default\");\r\n          window.mitt.emit(\"zoom-to-pawn\", player);\r\n        }\r\n      });\r\n    },\r\n    handleDoubleTurn(){\r\n      let title = \"Double turn\";\r\n      let description;\r\n      if(!this.currentPlayer){\r\n        description = \"Mister X played a double turn card\";\r\n      } else if(!this.currentPlayer.is_mister_x){\r\n        description = \"Oh no! Mister X played a double turn card, you were close!\";\r\n      } else {\r\n        this.currentPlayer.used_double_turns++;\r\n        description = \"Well played! Now you can move twice, they will surely lose your track!\";\r\n      }\r\n      this.handleEvents(title, description, 4000);\r\n    }\r\n  },\r\n  mounted() {\r\n    this.socket = io(urls.webSocketUrl, {\r\n      path: \"/unseen/socket.io/\"\r\n    });\r\n\r\n    this.socket.on(\"connect\", ()=>{\r\n      console.log(\"connected\");\r\n      this.socket.emit(events.CONNECT_TO_GAME, {game_id: this.gameId});\r\n    });\r\n\r\n    this.socket.on(events.CONNECT_TO_GAME, (data) => {\r\n      this.setupData(data);\r\n    });\r\n\r\n    this.socket.on(events.LOBBY_MODIFIED, data => {\r\n      this.setupData(data);\r\n    });\r\n\r\n    this.socket.on(events.START_GAME, data => {\r\n      this.setupData(data);\r\n    });\r\n\r\n    this.socket.on(events.GAME_MODIFIED, data => {\r\n      this.setupData(data);\r\n    });\r\n\r\n    this.socket.on(events.USE_DOUBLE_TURN, this.handleDoubleTurn);\r\n\r\n    this.socket.on(events.CHAT, data => {\r\n      this.appendMessage(data);\r\n    });\r\n\r\n    this.socket.on(events.END_GAME, (data)=>{\r\n      let description;\r\n      if(data.mister_x_won){\r\n        description = this.currentPlayer && this.currentPlayer.is_mister_x ? \"You won!\" : \"Oh no! Mister X won!\"\r\n      } else {\r\n        description = this.currentPlayer && this.currentPlayer.is_mister_x ? \"Oh no! The detectives won!\" : \"You won!\"\r\n      }\r\n      this.handleEvents(\"Game Over\",  description, 4000);\r\n      setTimeout(()=>{\r\n        this.setupData(data);\r\n      }, 4000)\r\n    });\r\n\r\n    this.socket.on(events.RESTART_GAME, ()=>{\r\n      this.gameRestarted = true;\r\n    });\r\n\r\n    this.socket.on(events.GET_GAME, (data)=>{\r\n      this.setupData(data);\r\n    });\r\n\r\n/*\r\n    this.status = 1;\r\n    this.currentPlayer = null/!*{\r\n      local_id: 0,\r\n      color: 1,\r\n      is_mister_x: false,\r\n      is_admin: true,\r\n      username: \"jacopo\",\r\n      used_taxi: 0,\r\n      used_bus: 0,\r\n      used_underground: 0,\r\n      used_secret_moves: 2,\r\n      used_double_turns: 0,\r\n      online: true,\r\n      position: 1,\r\n      available_moves: {\r\n        taxi: [8],\r\n        bus: [47, 59],\r\n        underground: [47]\r\n      }\r\n    }*!/\r\n    this.players = [\r\n      //this.currentPlayer,\r\n      {\r\n        local_id: 1,\r\n        color: -1,\r\n        is_mister_x: true,\r\n        is_admin: true,\r\n        username: \"matteo\",\r\n        online: true,\r\n        position: 2\r\n      },\r\n      {\r\n        local_id: 2,\r\n        color: 2,\r\n        is_mister_x: false,\r\n        is_admin: false,\r\n        username: \"rami\",\r\n        online: false,\r\n        position: 3\r\n      },\r\n      {\r\n        local_id: 3,\r\n        color: 3,\r\n        is_mister_x: false,\r\n        is_admin: false,\r\n        username: \"tave\",\r\n        online: true,\r\n        position: 4\r\n      }\r\n    ]\r\n    this.game = {\r\n      playingPlayer: 0,\r\n      lastMisterXKnownPosition: null,\r\n      misterXMoves: [\r\n        {\r\n          transport: 0,\r\n          position: 20\r\n        },\r\n        {\r\n          transport: 1,\r\n          position: 22\r\n        },\r\n        {\r\n          transport: 2,\r\n          position: 30\r\n        },\r\n        {\r\n          transport: 3,\r\n          position: 55\r\n        }\r\n      ]\r\n    }\r\n\r\n    this.messages = [\r\n      {\r\n        body: \"ciaooo\",\r\n        local_id: 0,\r\n        fromYou: false,\r\n        username: \"jacopo\",\r\n        color: \"gray\"\r\n      }\r\n    ];*/\r\n  },\r\n  beforeRouteEnter(to, from, next){\r\n    let id = to.params.gameId;\r\n    const regex = RegExp(\"[$&+,:;=?@#|'<>.-^*()%!àèéìòù°\\\"/£ç§{}¹²³¼½¬\\\\s]\", \"g\");\r\n    if(regex.test(id.toLowerCase())) {\r\n      next({name: to.name, params: {gameId: id.replaceAll(regex, \"\").toLowerCase()}});\r\n      return;\r\n    }\r\n    //next();\r\n    const createLocalAccount = ()=>{\r\n      axios\r\n          .get(urls.createLocalAccountUrl)\r\n          .then((response) => {\r\n            store.dispatch(\"setUsername\", response.data.username);\r\n            store.dispatch(\"setLogged\", false);\r\n            next();\r\n          })\r\n          .catch(() => {\r\n            location.href = location.origin+\"/error?from=\"+location.pathname;\r\n          });\r\n    }\r\n    if(store.state.username === \"\" && store.state.logged === -1) { //se non è ancora stato trovato il logged\r\n      axios\r\n          .get(urls.getLoginInfoUrl)\r\n          .then((response) => {\r\n            if (response.data) { //se è loggato in qualche modo\r\n              store.dispatch(\"setLogged\", response.data.google_signed_in);\r\n              store.dispatch(\"setUsername\", decodeURIComponent(response.data.username));\r\n\r\n              next(); //se è loggato in qualche modo può andare dove vuole\r\n\r\n            } else { //se non è loggato\r\n              createLocalAccount();\r\n            }\r\n          })\r\n          .catch(() => {\r\n            location.href = location.origin+\"/error?from=\"+location.pathname;\r\n          });\r\n    } else {\r\n      if(store.state.username === null){ //se non è loggato\r\n        createLocalAccount();\r\n      } else next(); //se è loggato\r\n    }\r\n  },\r\n  unmounted() {\r\n    this.socket.close();\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"../styles/global\";\r\n\r\n.game__main-panel{\r\n  background-image: url(\"../assets/background_image.jpg\");\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-position: bottom;\r\n\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow-y: hidden;\r\n  @media (max-width: 700px) {\r\n    overflow: scroll;\r\n  }\r\n}\r\n\r\nbutton {\r\n  color: white;\r\n  padding: 1%;\r\n  background: transparent;\r\n  border: 2px solid white;\r\n  transition: all 0.5s;\r\n  margin: 1%;\r\n\r\n  &:hover{\r\n    background-color: white;\r\n    color: $theme-color-dark;\r\n  }\r\n\r\n  &:focus{\r\n    outline: none;\r\n  }\r\n}\r\n\r\n.toast{\r\n  display: grid;\r\n  align-items: center;\r\n  animation-duration: 150ms;\r\n  margin: 0.5em 0;\r\n  border-radius: 0.5em;\r\n  pointer-events: auto;\r\n  color: #fff;\r\n  background-color: orange;\r\n  min-height: 3em;\r\n  cursor: pointer;\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  padding: 0.5em 2em;\r\n  word-break: break-word;\r\n  width: fit-content;\r\n  align-self: flex-end;\r\n\r\n  &.turn-notification {\r\n    background-color: black;\r\n    align-self: center;\r\n    justify-content: start;\r\n  }\r\n\r\n  &.t0{background-color: #323232;}\r\n\r\n  &.t1{background-color: #ff3c00;}\r\n\r\n  &.t2{background-color: #0073ff;}\r\n\r\n  &.t3{background-color: #00c600;}\r\n\r\n  &.t4{background-color: #ff1493;}\r\n\r\n  &.t5{background-color: #ffbf00;}\r\n}\r\n</style>"],"sourceRoot":""}]}