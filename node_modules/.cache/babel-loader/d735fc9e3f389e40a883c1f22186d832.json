{"remainingRequest":"C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\src\\modules\\renderer.js","dependencies":[{"path":"C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\src\\modules\\renderer.js","mtime":1615793205242},{"path":"C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615312359986},{"path":"C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1615312383663},{"path":"C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\node_modules\\babel-loader\\lib\\index.js","mtime":1615312359489},{"path":"C:\\Users\\matte\\Desktop\\papero\\unseen.papero.tk\\node_modules\\eslint-loader\\index.js","mtime":1615312366243}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIkM6L1VzZXJzL21hdHRlL0Rlc2t0b3AvcGFwZXJvL3Vuc2Vlbi5wYXBlcm8udGsvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOwoKdmFyIGhhc1Bvc2l0aW9uQ2hhbmdlZCA9IGZ1bmN0aW9uIGhhc1Bvc2l0aW9uQ2hhbmdlZChfcmVmKSB7CiAgdmFyIHBvcyA9IF9yZWYucG9zLAogICAgICBwcmV2UG9zID0gX3JlZi5wcmV2UG9zOwogIHJldHVybiBwb3MgIT09IHByZXZQb3M7Cn07Cgp2YXIgdmFsdWVJblJhbmdlID0gZnVuY3Rpb24gdmFsdWVJblJhbmdlKF9yZWYyKSB7CiAgdmFyIG1pblNjYWxlID0gX3JlZjIubWluU2NhbGUsCiAgICAgIG1heFNjYWxlID0gX3JlZjIubWF4U2NhbGUsCiAgICAgIHNjYWxlID0gX3JlZjIuc2NhbGU7CiAgcmV0dXJuIHNjYWxlIDw9IG1heFNjYWxlICYmIHNjYWxlID49IG1pblNjYWxlOwp9OwoKdmFyIGdldFRyYW5zbGF0ZSA9IGZ1bmN0aW9uIGdldFRyYW5zbGF0ZShfcmVmMykgewogIHZhciBtaW5TY2FsZSA9IF9yZWYzLm1pblNjYWxlLAogICAgICBtYXhTY2FsZSA9IF9yZWYzLm1heFNjYWxlLAogICAgICBzY2FsZSA9IF9yZWYzLnNjYWxlOwogIHJldHVybiBmdW5jdGlvbiAoX3JlZjQpIHsKICAgIHZhciBwb3MgPSBfcmVmNC5wb3MsCiAgICAgICAgcHJldlBvcyA9IF9yZWY0LnByZXZQb3MsCiAgICAgICAgdHJhbnNsYXRlID0gX3JlZjQudHJhbnNsYXRlOwogICAgcmV0dXJuIHZhbHVlSW5SYW5nZSh7CiAgICAgIG1pblNjYWxlOiBtaW5TY2FsZSwKICAgICAgbWF4U2NhbGU6IG1heFNjYWxlLAogICAgICBzY2FsZTogc2NhbGUKICAgIH0pICYmIGhhc1Bvc2l0aW9uQ2hhbmdlZCh7CiAgICAgIHBvczogcG9zLAogICAgICBwcmV2UG9zOiBwcmV2UG9zCiAgICB9KSA/IHRyYW5zbGF0ZSArIChwb3MgLSBwcmV2UG9zICogc2NhbGUpICogKDEgLSAxIC8gc2NhbGUpIDogdHJhbnNsYXRlOwogIH07Cn07Cgp2YXIgZ2V0U2NhbGUgPSBmdW5jdGlvbiBnZXRTY2FsZShfcmVmNSkgewogIHZhciBzY2FsZSA9IF9yZWY1LnNjYWxlLAogICAgICBtaW5TY2FsZSA9IF9yZWY1Lm1pblNjYWxlLAogICAgICBtYXhTY2FsZSA9IF9yZWY1Lm1heFNjYWxlLAogICAgICBzY2FsZVNlbnNpdGl2aXR5ID0gX3JlZjUuc2NhbGVTZW5zaXRpdml0eSwKICAgICAgZGVsdGFTY2FsZSA9IF9yZWY1LmRlbHRhU2NhbGU7CiAgdmFyIG5ld1NjYWxlID0gc2NhbGUgKyBkZWx0YVNjYWxlIC8gKHNjYWxlU2Vuc2l0aXZpdHkgLyBzY2FsZSk7CiAgbmV3U2NhbGUgPSBNYXRoLm1heChtaW5TY2FsZSwgTWF0aC5taW4obmV3U2NhbGUsIG1heFNjYWxlKSk7CiAgcmV0dXJuIFtzY2FsZSwgbmV3U2NhbGVdOwp9OwoKdmFyIGdldE1hdHJpeCA9IGZ1bmN0aW9uIGdldE1hdHJpeChfcmVmNikgewogIHZhciBzY2FsZSA9IF9yZWY2LnNjYWxlLAogICAgICB0cmFuc2xhdGVYID0gX3JlZjYudHJhbnNsYXRlWCwKICAgICAgdHJhbnNsYXRlWSA9IF9yZWY2LnRyYW5zbGF0ZVk7CiAgcmV0dXJuICJtYXRyaXgoIi5jb25jYXQoc2NhbGUsICIsIDAsIDAsICIpLmNvbmNhdChzY2FsZSwgIiwgIikuY29uY2F0KHRyYW5zbGF0ZVgsICIsICIpLmNvbmNhdCh0cmFuc2xhdGVZLCAiKSIpOwp9OwoKdmFyIHBhbiA9IGZ1bmN0aW9uIHBhbihfcmVmNykgewogIHZhciBzdGF0ZSA9IF9yZWY3LnN0YXRlLAogICAgICBvcmlnaW5YID0gX3JlZjcub3JpZ2luWCwKICAgICAgb3JpZ2luWSA9IF9yZWY3Lm9yaWdpblksCiAgICAgIF9yZWY3JGNvbnRyb2xzID0gX3JlZjcuY29udHJvbHMsCiAgICAgIGNvbnRyb2xzID0gX3JlZjckY29udHJvbHMgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmNyRjb250cm9sczsKCiAgdmFyIF9zdGF0ZSRlbGVtZW50JGdldEJvdSA9IHN0YXRlLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksCiAgICAgIGxlZnQgPSBfc3RhdGUkZWxlbWVudCRnZXRCb3UubGVmdCwKICAgICAgdG9wID0gX3N0YXRlJGVsZW1lbnQkZ2V0Qm91LnRvcCwKICAgICAgd2lkdGggPSBfc3RhdGUkZWxlbWVudCRnZXRCb3Uud2lkdGgsCiAgICAgIGhlaWdodCA9IF9zdGF0ZSRlbGVtZW50JGdldEJvdS5oZWlnaHQ7CgogIHZhciBwYXJlbnRXaWR0aCA9IHN0YXRlLmNvbnRhaW5lckRpbWVuc2lvbi53aWR0aDsKICB2YXIgcGFyZW50SGVpZ2h0ID0gc3RhdGUuY29udGFpbmVyRGltZW5zaW9uLmhlaWdodDsKICB2YXIgbWluU2NhbGUgPSBzdGF0ZS5taW5TY2FsZSwKICAgICAgbWF4U2NhbGUgPSBzdGF0ZS5tYXhTY2FsZSwKICAgICAgc2NhbGUgPSBzdGF0ZS5zY2FsZTsKICB2YXIgdHJhbnNsYXRlID0gZ2V0VHJhbnNsYXRlKHsKICAgIG1pblNjYWxlOiBtaW5TY2FsZSwKICAgIG1heFNjYWxlOiBtYXhTY2FsZSwKICAgIHNjYWxlOiBzY2FsZQogIH0pOwoKICBpZiAoKGxlZnQgKyBvcmlnaW5YIDw9IDAgfHwgb3JpZ2luWCA8IDApICYmIChsZWZ0ICsgd2lkdGggKyBvcmlnaW5YID49IHBhcmVudFdpZHRoIHx8IG9yaWdpblggPiAwKSB8fCAhY29udHJvbHMpIHsKICAgIHN0YXRlLnRyYW5zZm9ybWF0aW9uLnRyYW5zbGF0ZVggKz0gb3JpZ2luWDsKICB9IGVsc2UgewogICAgc3RhdGUudHJhbnNmb3JtYXRpb24udHJhbnNsYXRlWCA9IHRyYW5zbGF0ZSh7CiAgICAgIHBvczogMCwKICAgICAgcHJldlBvczogc3RhdGUudHJhbnNmb3JtYXRpb24ub3JpZ2luWCwKICAgICAgdHJhbnNsYXRlOiBzdGF0ZS50cmFuc2Zvcm1hdGlvbi50cmFuc2xhdGVYCiAgICB9KTsKICB9CgogIGlmICgodG9wICsgb3JpZ2luWSA8PSAwIHx8IG9yaWdpblkgPCAwKSAmJiAodG9wICsgaGVpZ2h0ICsgb3JpZ2luWSA+PSBwYXJlbnRIZWlnaHQgfHwgb3JpZ2luWSA+IDApIHx8ICFjb250cm9scykgewogICAgc3RhdGUudHJhbnNmb3JtYXRpb24udHJhbnNsYXRlWSArPSBvcmlnaW5ZOwogIH0gZWxzZSB7CiAgICBzdGF0ZS50cmFuc2Zvcm1hdGlvbi50cmFuc2xhdGVZID0gdHJhbnNsYXRlKHsKICAgICAgcG9zOiAwLAogICAgICBwcmV2UG9zOiBzdGF0ZS50cmFuc2Zvcm1hdGlvbi5vcmlnaW5ZLAogICAgICB0cmFuc2xhdGU6IHN0YXRlLnRyYW5zZm9ybWF0aW9uLnRyYW5zbGF0ZVkKICAgIH0pOwogIH0KCiAgc3RhdGUuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSBnZXRNYXRyaXgoewogICAgc2NhbGU6IHN0YXRlLnRyYW5zZm9ybWF0aW9uLnNjYWxlLAogICAgdHJhbnNsYXRlWDogc3RhdGUudHJhbnNmb3JtYXRpb24udHJhbnNsYXRlWCwKICAgIHRyYW5zbGF0ZVk6IHN0YXRlLnRyYW5zZm9ybWF0aW9uLnRyYW5zbGF0ZVkKICB9KTsKICBzdGF0ZS50b0RlZmF1bHQgPSBmYWxzZTsKfTsKCnZhciBtYWtlUGFuID0gZnVuY3Rpb24gbWFrZVBhbihzdGF0ZSkgewogIHJldHVybiB7CiAgICBwYW5CeTogZnVuY3Rpb24gcGFuQnkoX3JlZjgpIHsKICAgICAgdmFyIG9yaWdpblggPSBfcmVmOC5vcmlnaW5YLAogICAgICAgICAgb3JpZ2luWSA9IF9yZWY4Lm9yaWdpblk7CiAgICAgIHJldHVybiBwYW4oewogICAgICAgIHN0YXRlOiBzdGF0ZSwKICAgICAgICBvcmlnaW5YOiBvcmlnaW5YLAogICAgICAgIG9yaWdpblk6IG9yaWdpblkKICAgICAgfSk7CiAgICB9LAogICAgcGFuTm9Db250cm9sczogZnVuY3Rpb24gcGFuTm9Db250cm9scyhfcmVmOSkgewogICAgICB2YXIgb3JpZ2luWCA9IF9yZWY5Lm9yaWdpblgsCiAgICAgICAgICBvcmlnaW5ZID0gX3JlZjkub3JpZ2luWTsKICAgICAgcmV0dXJuIHBhbih7CiAgICAgICAgc3RhdGU6IHN0YXRlLAogICAgICAgIG9yaWdpblg6IG9yaWdpblgsCiAgICAgICAgb3JpZ2luWTogb3JpZ2luWSwKICAgICAgICBjb250cm9sczogZmFsc2UKICAgICAgfSk7CiAgICB9CiAgfTsKfTsKCnZhciBtYWtlWm9vbSA9IGZ1bmN0aW9uIG1ha2Vab29tKHN0YXRlKSB7CiAgcmV0dXJuIHsKICAgIHpvb206IGZ1bmN0aW9uIHpvb20oX3JlZjEwKSB7CiAgICAgIHZhciB4ID0gX3JlZjEwLngsCiAgICAgICAgICB5ID0gX3JlZjEwLnksCiAgICAgICAgICBkZWx0YVNjYWxlID0gX3JlZjEwLmRlbHRhU2NhbGU7CgogICAgICB2YXIgX3N0YXRlJGVsZW1lbnQkZ2V0Qm91MiA9IHN0YXRlLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksCiAgICAgICAgICBsZWZ0ID0gX3N0YXRlJGVsZW1lbnQkZ2V0Qm91Mi5sZWZ0LAogICAgICAgICAgdG9wID0gX3N0YXRlJGVsZW1lbnQkZ2V0Qm91Mi50b3A7CgogICAgICB2YXIgbWluU2NhbGUgPSBzdGF0ZS5taW5TY2FsZSwKICAgICAgICAgIG1heFNjYWxlID0gc3RhdGUubWF4U2NhbGUsCiAgICAgICAgICBzY2FsZVNlbnNpdGl2aXR5ID0gc3RhdGUuc2NhbGVTZW5zaXRpdml0eTsKCiAgICAgIHZhciBfZ2V0U2NhbGUgPSBnZXRTY2FsZSh7CiAgICAgICAgc2NhbGU6IHN0YXRlLnRyYW5zZm9ybWF0aW9uLnNjYWxlLAogICAgICAgIGRlbHRhU2NhbGU6IGRlbHRhU2NhbGUsCiAgICAgICAgbWluU2NhbGU6IG1pblNjYWxlLAogICAgICAgIG1heFNjYWxlOiBtYXhTY2FsZSwKICAgICAgICBzY2FsZVNlbnNpdGl2aXR5OiBzY2FsZVNlbnNpdGl2aXR5CiAgICAgIH0pLAogICAgICAgICAgX2dldFNjYWxlMiA9IF9zbGljZWRUb0FycmF5KF9nZXRTY2FsZSwgMiksCiAgICAgICAgICBzY2FsZSA9IF9nZXRTY2FsZTJbMF0sCiAgICAgICAgICBuZXdTY2FsZSA9IF9nZXRTY2FsZTJbMV07CgogICAgICB2YXIgb3JpZ2luWCA9IHggLSBsZWZ0OwogICAgICB2YXIgb3JpZ2luWSA9IHkgLSB0b3A7CiAgICAgIHZhciBuZXdPcmlnaW5YID0gb3JpZ2luWCAvIHNjYWxlOwogICAgICB2YXIgbmV3T3JpZ2luWSA9IG9yaWdpblkgLyBzY2FsZTsKICAgICAgdmFyIHRyYW5zbGF0ZSA9IGdldFRyYW5zbGF0ZSh7CiAgICAgICAgc2NhbGU6IHNjYWxlLAogICAgICAgIG1pblNjYWxlOiBtaW5TY2FsZSwKICAgICAgICBtYXhTY2FsZTogbWF4U2NhbGUKICAgICAgfSk7CiAgICAgIHZhciB0cmFuc2xhdGVYID0gdHJhbnNsYXRlKHsKICAgICAgICBwb3M6IG9yaWdpblgsCiAgICAgICAgcHJldlBvczogc3RhdGUudHJhbnNmb3JtYXRpb24ub3JpZ2luWCwKICAgICAgICB0cmFuc2xhdGU6IHN0YXRlLnRyYW5zZm9ybWF0aW9uLnRyYW5zbGF0ZVgKICAgICAgfSk7CiAgICAgIHZhciB0cmFuc2xhdGVZID0gdHJhbnNsYXRlKHsKICAgICAgICBwb3M6IG9yaWdpblksCiAgICAgICAgcHJldlBvczogc3RhdGUudHJhbnNmb3JtYXRpb24ub3JpZ2luWSwKICAgICAgICB0cmFuc2xhdGU6IHN0YXRlLnRyYW5zZm9ybWF0aW9uLnRyYW5zbGF0ZVkKICAgICAgfSk7CiAgICAgIHN0YXRlLmVsZW1lbnQuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gIiIuY29uY2F0KG5ld09yaWdpblgsICJweCAiKS5jb25jYXQobmV3T3JpZ2luWSwgInB4Iik7CiAgICAgIHN0YXRlLmVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gZ2V0TWF0cml4KHsKICAgICAgICBzY2FsZTogbmV3U2NhbGUsCiAgICAgICAgdHJhbnNsYXRlWDogdHJhbnNsYXRlWCwKICAgICAgICB0cmFuc2xhdGVZOiB0cmFuc2xhdGVZCiAgICAgIH0pOwogICAgICBzdGF0ZS50cmFuc2Zvcm1hdGlvbiA9IHsKICAgICAgICBvcmlnaW5YOiBuZXdPcmlnaW5YLAogICAgICAgIG9yaWdpblk6IG5ld09yaWdpblksCiAgICAgICAgdHJhbnNsYXRlWDogdHJhbnNsYXRlWCwKICAgICAgICB0cmFuc2xhdGVZOiB0cmFuc2xhdGVZLAogICAgICAgIHNjYWxlOiBuZXdTY2FsZQogICAgICB9OwogICAgICBzdGF0ZS50b0RlZmF1bHQgPSBmYWxzZTsKICAgIH0KICB9Owp9OwoKdmFyIG1ha2VUb0RlZmF1bHQgPSBmdW5jdGlvbiBtYWtlVG9EZWZhdWx0KHN0YXRlKSB7CiAgcmV0dXJuIHsKICAgIHRvRGVmYXVsdDogZnVuY3Rpb24gdG9EZWZhdWx0KCkgewogICAgICBzdGF0ZS5lbGVtZW50LnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9ICIwcHggMHB4IjsKICAgICAgc3RhdGUuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSBnZXRNYXRyaXgoewogICAgICAgIHNjYWxlOiBzdGF0ZS5kZWZhdWx0U2NhbGUsCiAgICAgICAgdHJhbnNsYXRlWDogMCwKICAgICAgICB0cmFuc2xhdGVZOiAwCiAgICAgIH0pOwogICAgICBzdGF0ZS50cmFuc2Zvcm1hdGlvbiA9IHsKICAgICAgICBvcmlnaW5YOiAwLAogICAgICAgIG9yaWdpblk6IDAsCiAgICAgICAgdHJhbnNsYXRlWDogMCwKICAgICAgICB0cmFuc2xhdGVZOiAwLAogICAgICAgIHNjYWxlOiBzdGF0ZS5kZWZhdWx0U2NhbGUKICAgICAgfTsKICAgICAgc3RhdGUudG9EZWZhdWx0ID0gdHJ1ZTsKICAgIH0KICB9Owp9OwoKdmFyIHJlbmRlcmVyID0gZnVuY3Rpb24gcmVuZGVyZXIoX3JlZjExKSB7CiAgdmFyIG1pblNjYWxlID0gX3JlZjExLm1pblNjYWxlLAogICAgICBtYXhTY2FsZSA9IF9yZWYxMS5tYXhTY2FsZSwKICAgICAgZWxlbWVudCA9IF9yZWYxMS5lbGVtZW50LAogICAgICBfcmVmMTEkc2NhbGVTZW5zaXRpdmkgPSBfcmVmMTEuc2NhbGVTZW5zaXRpdml0eSwKICAgICAgc2NhbGVTZW5zaXRpdml0eSA9IF9yZWYxMSRzY2FsZVNlbnNpdGl2aSA9PT0gdm9pZCAwID8gMTAgOiBfcmVmMTEkc2NhbGVTZW5zaXRpdmksCiAgICAgIF9yZWYxMSRkZWZhdWx0U2NhbGUgPSBfcmVmMTEuZGVmYXVsdFNjYWxlLAogICAgICBkZWZhdWx0U2NhbGUgPSBfcmVmMTEkZGVmYXVsdFNjYWxlID09PSB2b2lkIDAgPyAxIDogX3JlZjExJGRlZmF1bHRTY2FsZSwKICAgICAgY29udGFpbmVyRGltZW5zaW9uID0gX3JlZjExLmNvbnRhaW5lckRpbWVuc2lvbjsKICB2YXIgc3RhdGUgPSB7CiAgICBlbGVtZW50OiBlbGVtZW50LAogICAgbWluU2NhbGU6IG1pblNjYWxlLAogICAgbWF4U2NhbGU6IG1heFNjYWxlLAogICAgc2NhbGVTZW5zaXRpdml0eTogc2NhbGVTZW5zaXRpdml0eSwKICAgIGRlZmF1bHRTY2FsZTogZGVmYXVsdFNjYWxlLAogICAgY29udGFpbmVyRGltZW5zaW9uOiBjb250YWluZXJEaW1lbnNpb24sCiAgICB0cmFuc2Zvcm1hdGlvbjogewogICAgICBvcmlnaW5YOiAwLAogICAgICBvcmlnaW5ZOiAwLAogICAgICB0cmFuc2xhdGVYOiAwLAogICAgICB0cmFuc2xhdGVZOiAwLAogICAgICBzY2FsZTogMQogICAgfSwKICAgIHRvRGVmYXVsdDogZmFsc2UKICB9OwogIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBtYWtlWm9vbShzdGF0ZSksIG1ha2VQYW4oc3RhdGUpLCBtYWtlVG9EZWZhdWx0KHN0YXRlKSwgewogICAgaXNUb0RlZmF1bHQ6IGZ1bmN0aW9uIGlzVG9EZWZhdWx0KCkgewogICAgICByZXR1cm4gc3RhdGUudG9EZWZhdWx0OwogICAgfQogIH0pOwp9OwoKZXhwb3J0IGRlZmF1bHQgcmVuZGVyZXI7"},{"version":3,"sources":["C:/Users/matte/Desktop/papero/unseen.papero.tk/src/modules/renderer.js"],"names":["hasPositionChanged","pos","prevPos","valueInRange","minScale","maxScale","scale","getTranslate","translate","getScale","scaleSensitivity","deltaScale","newScale","Math","max","min","getMatrix","translateX","translateY","pan","state","originX","originY","controls","element","getBoundingClientRect","left","top","width","height","parentWidth","containerDimension","parentHeight","transformation","style","transform","toDefault","makePan","panBy","panNoControls","makeZoom","zoom","x","y","newOriginX","newOriginY","transformOrigin","makeToDefault","defaultScale","renderer","Object","assign","isToDefault"],"mappings":"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","sourcesContent":["const hasPositionChanged = ({ pos, prevPos }) => pos !== prevPos;\r\n\r\nconst valueInRange = ({ minScale, maxScale, scale }) => scale <= maxScale && scale >= minScale;\r\n\r\nconst getTranslate = ({ minScale, maxScale, scale }) => ({ pos, prevPos, translate }) =>\r\n    valueInRange({ minScale, maxScale, scale }) && hasPositionChanged({ pos, prevPos })\r\n        ? translate + (pos - prevPos * scale) * (1 - 1 / scale)\r\n        : translate;\r\n\r\nconst getScale = ({ scale, minScale, maxScale, scaleSensitivity, deltaScale }) => {\r\n    let newScale = scale + (deltaScale / (scaleSensitivity / scale));\r\n    newScale = Math.max(minScale, Math.min(newScale, maxScale));\r\n    return [scale, newScale];\r\n};\r\n\r\nconst getMatrix = ({ scale, translateX, translateY }) => `matrix(${scale}, 0, 0, ${scale}, ${translateX}, ${translateY})`;\r\n\r\nconst pan = ({ state, originX, originY, controls=true }) => {\r\n    let {left, top, width, height} = state.element.getBoundingClientRect();\r\n    let parentWidth = state.containerDimension.width;\r\n    let parentHeight = state.containerDimension.height;\r\n    const {minScale, maxScale, scale} = state;\r\n    const translate = getTranslate({minScale, maxScale, scale});\r\n    if( ( ( left+originX<=0 || originX<0 ) && ( left+width+originX>=parentWidth || originX>0 ) ) || !controls){\r\n        state.transformation.translateX += originX;\r\n    } else {\r\n        state.transformation.translateX = translate({pos: 0, prevPos: state.transformation.originX, translate: state.transformation.translateX});\r\n    }\r\n    if( ( ( top+originY<=0 || originY<0 ) && ( top+height+originY>=parentHeight || originY>0 ) ) || !controls) {\r\n        state.transformation.translateY += originY;\r\n    } else {\r\n        state.transformation.translateY = translate({pos: 0, prevPos: state.transformation.originY, translate: state.transformation.translateY});\r\n    }\r\n    state.element.style.transform = getMatrix({\r\n        scale: state.transformation.scale,\r\n        translateX: state.transformation.translateX,\r\n        translateY: state.transformation.translateY\r\n    });\r\n    state.toDefault = false;\r\n};\r\n\r\nconst makePan = (state) => ({\r\n    panBy: ({ originX, originY }) => pan({ state, originX, originY }),\r\n    panNoControls: ({ originX, originY }) => pan({ state, originX, originY, controls: false }),\r\n});\r\n\r\nconst makeZoom = (state) => ({\r\n    zoom: ({ x, y, deltaScale }) => {\r\n        const { left, top } = state.element.getBoundingClientRect();\r\n        const { minScale, maxScale, scaleSensitivity } = state;\r\n        const [ scale, newScale ] = getScale({ scale: state.transformation.scale, deltaScale, minScale, maxScale, scaleSensitivity });\r\n        const originX = x - left;\r\n        const originY = y - top;\r\n        const newOriginX = originX / scale;\r\n        const newOriginY = originY / scale;\r\n        const translate = getTranslate({ scale, minScale, maxScale });\r\n        const translateX = translate({ pos: originX, prevPos: state.transformation.originX, translate: state.transformation.translateX });\r\n        const translateY = translate({ pos: originY, prevPos: state.transformation.originY, translate: state.transformation.translateY });\r\n\r\n        state.element.style.transformOrigin = `${newOriginX}px ${newOriginY}px`;\r\n        state.element.style.transform = getMatrix({ scale: newScale, translateX, translateY });\r\n        state.transformation = { originX: newOriginX, originY: newOriginY, translateX, translateY, scale: newScale };\r\n        state.toDefault = false;\r\n    }\r\n});\r\n\r\nconst makeToDefault = (state) => ({\r\n   toDefault: () => {\r\n       state.element.style.transformOrigin = \"0px 0px\";\r\n       state.element.style.transform = getMatrix({\r\n           scale: state.defaultScale,\r\n           translateX: 0,\r\n           translateY: 0\r\n       });\r\n       state.transformation = {\r\n           originX: 0,\r\n           originY: 0,\r\n           translateX: 0,\r\n           translateY: 0,\r\n           scale: state.defaultScale\r\n       };\r\n       state.toDefault = true;\r\n   }\r\n});\r\n\r\nconst renderer = ({ minScale, maxScale, element, scaleSensitivity = 10, defaultScale = 1 , containerDimension}) => {\r\n    const state = {\r\n        element,\r\n        minScale,\r\n        maxScale,\r\n        scaleSensitivity,\r\n        defaultScale,\r\n        containerDimension,\r\n        transformation: {\r\n            originX: 0,\r\n            originY: 0,\r\n            translateX: 0,\r\n            translateY: 0,\r\n            scale: 1\r\n        },\r\n        toDefault: false\r\n    };\r\n    return Object.assign({}, makeZoom(state), makePan(state), makeToDefault(state), {isToDefault: ()=>state.toDefault});\r\n};\r\n\r\nexport default renderer"]}]}