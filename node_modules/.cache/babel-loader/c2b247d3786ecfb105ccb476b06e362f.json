{"remainingRequest":"/media/jacopo/VolumeDati/Documenti/papero.tk/unseen.papero.tk/node_modules/thread-loader/dist/cjs.js!/media/jacopo/VolumeDati/Documenti/papero.tk/unseen.papero.tk/node_modules/babel-loader/lib/index.js!/media/jacopo/VolumeDati/Documenti/papero.tk/unseen.papero.tk/node_modules/eslint-loader/index.js??ref--13-0!/media/jacopo/VolumeDati/Documenti/papero.tk/unseen.papero.tk/src/modules/renderer.js","dependencies":[{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/unseen.papero.tk/src/modules/renderer.js","mtime":1615323364857},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/unseen.papero.tk/node_modules/cache-loader/dist/cjs.js","mtime":1612540687717},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/unseen.papero.tk/node_modules/thread-loader/dist/cjs.js","mtime":1612540688605},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/unseen.papero.tk/node_modules/babel-loader/lib/index.js","mtime":1612540687689},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/unseen.papero.tk/node_modules/eslint-loader/index.js","mtime":1612540687937}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9tZWRpYS9qYWNvcG8vVm9sdW1lRGF0aS9Eb2N1bWVudGkvcGFwZXJvLnRrL3Vuc2Vlbi5wYXBlcm8udGsvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOwoKdmFyIGhhc1Bvc2l0aW9uQ2hhbmdlZCA9IGZ1bmN0aW9uIGhhc1Bvc2l0aW9uQ2hhbmdlZChfcmVmKSB7CiAgdmFyIHBvcyA9IF9yZWYucG9zLAogICAgICBwcmV2UG9zID0gX3JlZi5wcmV2UG9zOwogIHJldHVybiBwb3MgIT09IHByZXZQb3M7Cn07Cgp2YXIgdmFsdWVJblJhbmdlID0gZnVuY3Rpb24gdmFsdWVJblJhbmdlKF9yZWYyKSB7CiAgdmFyIG1pblNjYWxlID0gX3JlZjIubWluU2NhbGUsCiAgICAgIG1heFNjYWxlID0gX3JlZjIubWF4U2NhbGUsCiAgICAgIHNjYWxlID0gX3JlZjIuc2NhbGU7CiAgcmV0dXJuIHNjYWxlIDw9IG1heFNjYWxlICYmIHNjYWxlID49IG1pblNjYWxlOwp9OwoKdmFyIGdldFRyYW5zbGF0ZSA9IGZ1bmN0aW9uIGdldFRyYW5zbGF0ZShfcmVmMykgewogIHZhciBtaW5TY2FsZSA9IF9yZWYzLm1pblNjYWxlLAogICAgICBtYXhTY2FsZSA9IF9yZWYzLm1heFNjYWxlLAogICAgICBzY2FsZSA9IF9yZWYzLnNjYWxlOwogIHJldHVybiBmdW5jdGlvbiAoX3JlZjQpIHsKICAgIHZhciBwb3MgPSBfcmVmNC5wb3MsCiAgICAgICAgcHJldlBvcyA9IF9yZWY0LnByZXZQb3MsCiAgICAgICAgdHJhbnNsYXRlID0gX3JlZjQudHJhbnNsYXRlOwogICAgcmV0dXJuIHZhbHVlSW5SYW5nZSh7CiAgICAgIG1pblNjYWxlOiBtaW5TY2FsZSwKICAgICAgbWF4U2NhbGU6IG1heFNjYWxlLAogICAgICBzY2FsZTogc2NhbGUKICAgIH0pICYmIGhhc1Bvc2l0aW9uQ2hhbmdlZCh7CiAgICAgIHBvczogcG9zLAogICAgICBwcmV2UG9zOiBwcmV2UG9zCiAgICB9KSA/IHRyYW5zbGF0ZSArIChwb3MgLSBwcmV2UG9zICogc2NhbGUpICogKDEgLSAxIC8gc2NhbGUpIDogdHJhbnNsYXRlOwogIH07Cn07Cgp2YXIgZ2V0U2NhbGUgPSBmdW5jdGlvbiBnZXRTY2FsZShfcmVmNSkgewogIHZhciBzY2FsZSA9IF9yZWY1LnNjYWxlLAogICAgICBtaW5TY2FsZSA9IF9yZWY1Lm1pblNjYWxlLAogICAgICBtYXhTY2FsZSA9IF9yZWY1Lm1heFNjYWxlLAogICAgICBzY2FsZVNlbnNpdGl2aXR5ID0gX3JlZjUuc2NhbGVTZW5zaXRpdml0eSwKICAgICAgZGVsdGFTY2FsZSA9IF9yZWY1LmRlbHRhU2NhbGU7CiAgdmFyIG5ld1NjYWxlID0gc2NhbGUgKyBkZWx0YVNjYWxlIC8gKHNjYWxlU2Vuc2l0aXZpdHkgLyBzY2FsZSk7CiAgbmV3U2NhbGUgPSBNYXRoLm1heChtaW5TY2FsZSwgTWF0aC5taW4obmV3U2NhbGUsIG1heFNjYWxlKSk7CiAgcmV0dXJuIFtzY2FsZSwgbmV3U2NhbGVdOwp9OwoKdmFyIGdldE1hdHJpeCA9IGZ1bmN0aW9uIGdldE1hdHJpeChfcmVmNikgewogIHZhciBzY2FsZSA9IF9yZWY2LnNjYWxlLAogICAgICB0cmFuc2xhdGVYID0gX3JlZjYudHJhbnNsYXRlWCwKICAgICAgdHJhbnNsYXRlWSA9IF9yZWY2LnRyYW5zbGF0ZVk7CiAgcmV0dXJuICJtYXRyaXgoIi5jb25jYXQoc2NhbGUsICIsIDAsIDAsICIpLmNvbmNhdChzY2FsZSwgIiwgIikuY29uY2F0KHRyYW5zbGF0ZVgsICIsICIpLmNvbmNhdCh0cmFuc2xhdGVZLCAiKSIpOwp9OwoKdmFyIHBhbiA9IGZ1bmN0aW9uIHBhbihfcmVmNykgewogIHZhciBzdGF0ZSA9IF9yZWY3LnN0YXRlLAogICAgICBvcmlnaW5YID0gX3JlZjcub3JpZ2luWCwKICAgICAgb3JpZ2luWSA9IF9yZWY3Lm9yaWdpblksCiAgICAgIF9yZWY3JGNvbnRyb2xzID0gX3JlZjcuY29udHJvbHMsCiAgICAgIGNvbnRyb2xzID0gX3JlZjckY29udHJvbHMgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmNyRjb250cm9sczsKCiAgdmFyIF9zdGF0ZSRlbGVtZW50JGdldEJvdSA9IHN0YXRlLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksCiAgICAgIGxlZnQgPSBfc3RhdGUkZWxlbWVudCRnZXRCb3UubGVmdCwKICAgICAgdG9wID0gX3N0YXRlJGVsZW1lbnQkZ2V0Qm91LnRvcCwKICAgICAgd2lkdGggPSBfc3RhdGUkZWxlbWVudCRnZXRCb3Uud2lkdGgsCiAgICAgIGhlaWdodCA9IF9zdGF0ZSRlbGVtZW50JGdldEJvdS5oZWlnaHQ7CgogIHZhciBwYXJlbnRXaWR0aCA9IHN0YXRlLmNvbnRhaW5lckRpbWVuc2lvbi53aWR0aDsKICB2YXIgcGFyZW50SGVpZ2h0ID0gc3RhdGUuY29udGFpbmVyRGltZW5zaW9uLmhlaWdodDsKICB2YXIgbWluU2NhbGUgPSBzdGF0ZS5taW5TY2FsZSwKICAgICAgbWF4U2NhbGUgPSBzdGF0ZS5tYXhTY2FsZSwKICAgICAgc2NhbGUgPSBzdGF0ZS5zY2FsZTsKICB2YXIgdHJhbnNsYXRlID0gZ2V0VHJhbnNsYXRlKHsKICAgIG1pblNjYWxlOiBtaW5TY2FsZSwKICAgIG1heFNjYWxlOiBtYXhTY2FsZSwKICAgIHNjYWxlOiBzY2FsZQogIH0pOwoKICBpZiAoKGxlZnQgKyBvcmlnaW5YIDw9IDAgfHwgb3JpZ2luWCA8IDApICYmIChsZWZ0ICsgd2lkdGggKyBvcmlnaW5YID49IHBhcmVudFdpZHRoIHx8IG9yaWdpblggPiAwKSB8fCAhY29udHJvbHMpIHsKICAgIHN0YXRlLnRyYW5zZm9ybWF0aW9uLnRyYW5zbGF0ZVggKz0gb3JpZ2luWDsKICB9IGVsc2UgewogICAgc3RhdGUudHJhbnNmb3JtYXRpb24udHJhbnNsYXRlWCA9IHRyYW5zbGF0ZSh7CiAgICAgIHBvczogMCwKICAgICAgcHJldlBvczogc3RhdGUudHJhbnNmb3JtYXRpb24ub3JpZ2luWCwKICAgICAgdHJhbnNsYXRlOiBzdGF0ZS50cmFuc2Zvcm1hdGlvbi50cmFuc2xhdGVYCiAgICB9KTsKICB9CgogIGlmICgodG9wICsgb3JpZ2luWSA8PSAwIHx8IG9yaWdpblkgPCAwKSAmJiAodG9wICsgaGVpZ2h0ICsgb3JpZ2luWSA+PSBwYXJlbnRIZWlnaHQgfHwgb3JpZ2luWSA+IDApIHx8ICFjb250cm9scykgewogICAgc3RhdGUudHJhbnNmb3JtYXRpb24udHJhbnNsYXRlWSArPSBvcmlnaW5ZOwogIH0gZWxzZSB7CiAgICBzdGF0ZS50cmFuc2Zvcm1hdGlvbi50cmFuc2xhdGVZID0gdHJhbnNsYXRlKHsKICAgICAgcG9zOiAwLAogICAgICBwcmV2UG9zOiBzdGF0ZS50cmFuc2Zvcm1hdGlvbi5vcmlnaW5ZLAogICAgICB0cmFuc2xhdGU6IHN0YXRlLnRyYW5zZm9ybWF0aW9uLnRyYW5zbGF0ZVkKICAgIH0pOwogIH0KCiAgc3RhdGUuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSBnZXRNYXRyaXgoewogICAgc2NhbGU6IHN0YXRlLnRyYW5zZm9ybWF0aW9uLnNjYWxlLAogICAgdHJhbnNsYXRlWDogc3RhdGUudHJhbnNmb3JtYXRpb24udHJhbnNsYXRlWCwKICAgIHRyYW5zbGF0ZVk6IHN0YXRlLnRyYW5zZm9ybWF0aW9uLnRyYW5zbGF0ZVkKICB9KTsKfTsKCnZhciBtYWtlUGFuID0gZnVuY3Rpb24gbWFrZVBhbihzdGF0ZSkgewogIHJldHVybiB7CiAgICBwYW5CeTogZnVuY3Rpb24gcGFuQnkoX3JlZjgpIHsKICAgICAgdmFyIG9yaWdpblggPSBfcmVmOC5vcmlnaW5YLAogICAgICAgICAgb3JpZ2luWSA9IF9yZWY4Lm9yaWdpblk7CiAgICAgIHJldHVybiBwYW4oewogICAgICAgIHN0YXRlOiBzdGF0ZSwKICAgICAgICBvcmlnaW5YOiBvcmlnaW5YLAogICAgICAgIG9yaWdpblk6IG9yaWdpblkKICAgICAgfSk7CiAgICB9LAogICAgcGFuTm9Db250cm9sczogZnVuY3Rpb24gcGFuTm9Db250cm9scyhfcmVmOSkgewogICAgICB2YXIgb3JpZ2luWCA9IF9yZWY5Lm9yaWdpblgsCiAgICAgICAgICBvcmlnaW5ZID0gX3JlZjkub3JpZ2luWTsKICAgICAgcmV0dXJuIHBhbih7CiAgICAgICAgc3RhdGU6IHN0YXRlLAogICAgICAgIG9yaWdpblg6IG9yaWdpblgsCiAgICAgICAgb3JpZ2luWTogb3JpZ2luWSwKICAgICAgICBjb250cm9sczogZmFsc2UKICAgICAgfSk7CiAgICB9CiAgfTsKfTsKCnZhciBtYWtlWm9vbSA9IGZ1bmN0aW9uIG1ha2Vab29tKHN0YXRlKSB7CiAgcmV0dXJuIHsKICAgIHpvb206IGZ1bmN0aW9uIHpvb20oX3JlZjEwKSB7CiAgICAgIHZhciB4ID0gX3JlZjEwLngsCiAgICAgICAgICB5ID0gX3JlZjEwLnksCiAgICAgICAgICBkZWx0YVNjYWxlID0gX3JlZjEwLmRlbHRhU2NhbGU7CgogICAgICB2YXIgX3N0YXRlJGVsZW1lbnQkZ2V0Qm91MiA9IHN0YXRlLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksCiAgICAgICAgICBsZWZ0ID0gX3N0YXRlJGVsZW1lbnQkZ2V0Qm91Mi5sZWZ0LAogICAgICAgICAgdG9wID0gX3N0YXRlJGVsZW1lbnQkZ2V0Qm91Mi50b3A7CgogICAgICB2YXIgbWluU2NhbGUgPSBzdGF0ZS5taW5TY2FsZSwKICAgICAgICAgIG1heFNjYWxlID0gc3RhdGUubWF4U2NhbGUsCiAgICAgICAgICBzY2FsZVNlbnNpdGl2aXR5ID0gc3RhdGUuc2NhbGVTZW5zaXRpdml0eTsKCiAgICAgIHZhciBfZ2V0U2NhbGUgPSBnZXRTY2FsZSh7CiAgICAgICAgc2NhbGU6IHN0YXRlLnRyYW5zZm9ybWF0aW9uLnNjYWxlLAogICAgICAgIGRlbHRhU2NhbGU6IGRlbHRhU2NhbGUsCiAgICAgICAgbWluU2NhbGU6IG1pblNjYWxlLAogICAgICAgIG1heFNjYWxlOiBtYXhTY2FsZSwKICAgICAgICBzY2FsZVNlbnNpdGl2aXR5OiBzY2FsZVNlbnNpdGl2aXR5CiAgICAgIH0pLAogICAgICAgICAgX2dldFNjYWxlMiA9IF9zbGljZWRUb0FycmF5KF9nZXRTY2FsZSwgMiksCiAgICAgICAgICBzY2FsZSA9IF9nZXRTY2FsZTJbMF0sCiAgICAgICAgICBuZXdTY2FsZSA9IF9nZXRTY2FsZTJbMV07CgogICAgICB2YXIgb3JpZ2luWCA9IHggLSBsZWZ0OwogICAgICB2YXIgb3JpZ2luWSA9IHkgLSB0b3A7CiAgICAgIHZhciBuZXdPcmlnaW5YID0gb3JpZ2luWCAvIHNjYWxlOwogICAgICB2YXIgbmV3T3JpZ2luWSA9IG9yaWdpblkgLyBzY2FsZTsKICAgICAgdmFyIHRyYW5zbGF0ZSA9IGdldFRyYW5zbGF0ZSh7CiAgICAgICAgc2NhbGU6IHNjYWxlLAogICAgICAgIG1pblNjYWxlOiBtaW5TY2FsZSwKICAgICAgICBtYXhTY2FsZTogbWF4U2NhbGUKICAgICAgfSk7CiAgICAgIHZhciB0cmFuc2xhdGVYID0gdHJhbnNsYXRlKHsKICAgICAgICBwb3M6IG9yaWdpblgsCiAgICAgICAgcHJldlBvczogc3RhdGUudHJhbnNmb3JtYXRpb24ub3JpZ2luWCwKICAgICAgICB0cmFuc2xhdGU6IHN0YXRlLnRyYW5zZm9ybWF0aW9uLnRyYW5zbGF0ZVgKICAgICAgfSk7CiAgICAgIHZhciB0cmFuc2xhdGVZID0gdHJhbnNsYXRlKHsKICAgICAgICBwb3M6IG9yaWdpblksCiAgICAgICAgcHJldlBvczogc3RhdGUudHJhbnNmb3JtYXRpb24ub3JpZ2luWSwKICAgICAgICB0cmFuc2xhdGU6IHN0YXRlLnRyYW5zZm9ybWF0aW9uLnRyYW5zbGF0ZVkKICAgICAgfSk7CiAgICAgIHN0YXRlLmVsZW1lbnQuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gIiIuY29uY2F0KG5ld09yaWdpblgsICJweCAiKS5jb25jYXQobmV3T3JpZ2luWSwgInB4Iik7CiAgICAgIHN0YXRlLmVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gZ2V0TWF0cml4KHsKICAgICAgICBzY2FsZTogbmV3U2NhbGUsCiAgICAgICAgdHJhbnNsYXRlWDogdHJhbnNsYXRlWCwKICAgICAgICB0cmFuc2xhdGVZOiB0cmFuc2xhdGVZCiAgICAgIH0pOwogICAgICBzdGF0ZS50cmFuc2Zvcm1hdGlvbiA9IHsKICAgICAgICBvcmlnaW5YOiBuZXdPcmlnaW5YLAogICAgICAgIG9yaWdpblk6IG5ld09yaWdpblksCiAgICAgICAgdHJhbnNsYXRlWDogdHJhbnNsYXRlWCwKICAgICAgICB0cmFuc2xhdGVZOiB0cmFuc2xhdGVZLAogICAgICAgIHNjYWxlOiBuZXdTY2FsZQogICAgICB9OwogICAgfQogIH07Cn07Cgp2YXIgbWFrZVRvRGVmYXVsdCA9IGZ1bmN0aW9uIG1ha2VUb0RlZmF1bHQoc3RhdGUpIHsKICByZXR1cm4gewogICAgdG9EZWZhdWx0OiBmdW5jdGlvbiB0b0RlZmF1bHQoKSB7CiAgICAgIHN0YXRlLmVsZW1lbnQuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gIjBweCAwcHgiOwogICAgICBzdGF0ZS5lbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IGdldE1hdHJpeCh7CiAgICAgICAgc2NhbGU6IHN0YXRlLmRlZmF1bHRTY2FsZSwKICAgICAgICB0cmFuc2xhdGVYOiAwLAogICAgICAgIHRyYW5zbGF0ZVk6IDAKICAgICAgfSk7CiAgICAgIHN0YXRlLnRyYW5zZm9ybWF0aW9uID0gewogICAgICAgIG9yaWdpblg6IDAsCiAgICAgICAgb3JpZ2luWTogMCwKICAgICAgICB0cmFuc2xhdGVYOiAwLAogICAgICAgIHRyYW5zbGF0ZVk6IDAsCiAgICAgICAgc2NhbGU6IHN0YXRlLmRlZmF1bHRTY2FsZQogICAgICB9OwogICAgfQogIH07Cn07Cgp2YXIgcmVuZGVyZXIgPSBmdW5jdGlvbiByZW5kZXJlcihfcmVmMTEpIHsKICB2YXIgbWluU2NhbGUgPSBfcmVmMTEubWluU2NhbGUsCiAgICAgIG1heFNjYWxlID0gX3JlZjExLm1heFNjYWxlLAogICAgICBlbGVtZW50ID0gX3JlZjExLmVsZW1lbnQsCiAgICAgIF9yZWYxMSRzY2FsZVNlbnNpdGl2aSA9IF9yZWYxMS5zY2FsZVNlbnNpdGl2aXR5LAogICAgICBzY2FsZVNlbnNpdGl2aXR5ID0gX3JlZjExJHNjYWxlU2Vuc2l0aXZpID09PSB2b2lkIDAgPyAxMCA6IF9yZWYxMSRzY2FsZVNlbnNpdGl2aSwKICAgICAgX3JlZjExJGRlZmF1bHRTY2FsZSA9IF9yZWYxMS5kZWZhdWx0U2NhbGUsCiAgICAgIGRlZmF1bHRTY2FsZSA9IF9yZWYxMSRkZWZhdWx0U2NhbGUgPT09IHZvaWQgMCA/IDEgOiBfcmVmMTEkZGVmYXVsdFNjYWxlLAogICAgICBjb250YWluZXJEaW1lbnNpb24gPSBfcmVmMTEuY29udGFpbmVyRGltZW5zaW9uOwogIHZhciBzdGF0ZSA9IHsKICAgIGVsZW1lbnQ6IGVsZW1lbnQsCiAgICBtaW5TY2FsZTogbWluU2NhbGUsCiAgICBtYXhTY2FsZTogbWF4U2NhbGUsCiAgICBzY2FsZVNlbnNpdGl2aXR5OiBzY2FsZVNlbnNpdGl2aXR5LAogICAgZGVmYXVsdFNjYWxlOiBkZWZhdWx0U2NhbGUsCiAgICBjb250YWluZXJEaW1lbnNpb246IGNvbnRhaW5lckRpbWVuc2lvbiwKICAgIHRyYW5zZm9ybWF0aW9uOiB7CiAgICAgIG9yaWdpblg6IDAsCiAgICAgIG9yaWdpblk6IDAsCiAgICAgIHRyYW5zbGF0ZVg6IDAsCiAgICAgIHRyYW5zbGF0ZVk6IDAsCiAgICAgIHNjYWxlOiAxCiAgICB9CiAgfTsKICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgbWFrZVpvb20oc3RhdGUpLCBtYWtlUGFuKHN0YXRlKSwgbWFrZVRvRGVmYXVsdChzdGF0ZSkpOwp9OwoKZXhwb3J0IGRlZmF1bHQgcmVuZGVyZXI7"},{"version":3,"sources":["/media/jacopo/VolumeDati/Documenti/papero.tk/unseen.papero.tk/src/modules/renderer.js"],"names":["hasPositionChanged","pos","prevPos","valueInRange","minScale","maxScale","scale","getTranslate","translate","getScale","scaleSensitivity","deltaScale","newScale","Math","max","min","getMatrix","translateX","translateY","pan","state","originX","originY","controls","element","getBoundingClientRect","left","top","width","height","parentWidth","containerDimension","parentHeight","transformation","style","transform","makePan","panBy","panNoControls","makeZoom","zoom","x","y","newOriginX","newOriginY","transformOrigin","makeToDefault","toDefault","defaultScale","renderer","Object","assign"],"mappings":"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","sourcesContent":["const hasPositionChanged = ({ pos, prevPos }) => pos !== prevPos;\n\nconst valueInRange = ({ minScale, maxScale, scale }) => scale <= maxScale && scale >= minScale;\n\nconst getTranslate = ({ minScale, maxScale, scale }) => ({ pos, prevPos, translate }) =>\n    valueInRange({ minScale, maxScale, scale }) && hasPositionChanged({ pos, prevPos })\n        ? translate + (pos - prevPos * scale) * (1 - 1 / scale)\n        : translate;\n\nconst getScale = ({ scale, minScale, maxScale, scaleSensitivity, deltaScale }) => {\n    let newScale = scale + (deltaScale / (scaleSensitivity / scale));\n    newScale = Math.max(minScale, Math.min(newScale, maxScale));\n    return [scale, newScale];\n};\n\nconst getMatrix = ({ scale, translateX, translateY }) => `matrix(${scale}, 0, 0, ${scale}, ${translateX}, ${translateY})`;\n\nconst pan = ({ state, originX, originY, controls=true }) => {\n    let {left, top, width, height} = state.element.getBoundingClientRect();\n    let parentWidth = state.containerDimension.width;\n    let parentHeight = state.containerDimension.height;\n    const {minScale, maxScale, scale} = state;\n    const translate = getTranslate({minScale, maxScale, scale});\n    if( ( ( left+originX<=0 || originX<0 ) && ( left+width+originX>=parentWidth || originX>0 ) ) || !controls){\n        state.transformation.translateX += originX;\n    } else {\n        state.transformation.translateX = translate({pos: 0, prevPos: state.transformation.originX, translate: state.transformation.translateX});\n    }\n    if( ( ( top+originY<=0 || originY<0 ) && ( top+height+originY>=parentHeight || originY>0 ) ) || !controls) {\n        state.transformation.translateY += originY;\n    } else {\n        state.transformation.translateY = translate({pos: 0, prevPos: state.transformation.originY, translate: state.transformation.translateY});\n    }\n    state.element.style.transform = getMatrix({\n        scale: state.transformation.scale,\n        translateX: state.transformation.translateX,\n        translateY: state.transformation.translateY\n    });\n};\n\nconst makePan = (state) => ({\n    panBy: ({ originX, originY }) => pan({ state, originX, originY }),\n    panNoControls: ({ originX, originY }) => pan({ state, originX, originY, controls: false }),\n});\n\nconst makeZoom = (state) => ({\n    zoom: ({ x, y, deltaScale }) => {\n        const { left, top } = state.element.getBoundingClientRect();\n        const { minScale, maxScale, scaleSensitivity } = state;\n        const [ scale, newScale ] = getScale({ scale: state.transformation.scale, deltaScale, minScale, maxScale, scaleSensitivity });\n        const originX = x - left;\n        const originY = y - top;\n        const newOriginX = originX / scale;\n        const newOriginY = originY / scale;\n        const translate = getTranslate({ scale, minScale, maxScale });\n        const translateX = translate({ pos: originX, prevPos: state.transformation.originX, translate: state.transformation.translateX });\n        const translateY = translate({ pos: originY, prevPos: state.transformation.originY, translate: state.transformation.translateY });\n\n        state.element.style.transformOrigin = `${newOriginX}px ${newOriginY}px`;\n        state.element.style.transform = getMatrix({ scale: newScale, translateX, translateY });\n        state.transformation = { originX: newOriginX, originY: newOriginY, translateX, translateY, scale: newScale };\n    }\n});\n\nconst makeToDefault = (state) => ({\n   toDefault: () => {\n       state.element.style.transformOrigin = \"0px 0px\";\n       state.element.style.transform = getMatrix({\n           scale: state.defaultScale,\n           translateX: 0,\n           translateY: 0\n       });\n       state.transformation = {\n           originX: 0,\n           originY: 0,\n           translateX: 0,\n           translateY: 0,\n           scale: state.defaultScale\n       };\n   }\n});\n\nconst renderer = ({ minScale, maxScale, element, scaleSensitivity = 10, defaultScale = 1 , containerDimension}) => {\n    const state = {\n        element,\n        minScale,\n        maxScale,\n        scaleSensitivity,\n        defaultScale,\n        containerDimension,\n        transformation: {\n            originX: 0,\n            originY: 0,\n            translateX: 0,\n            translateY: 0,\n            scale: 1\n        },\n    };\n    return Object.assign({}, makeZoom(state), makePan(state), makeToDefault(state));\n};\n\nexport default renderer"]}]}