{"remainingRequest":"/media/jacopo/VolumeDati/Documenti/papero.tk/unseen.papero.tk/node_modules/babel-loader/lib/index.js!/media/jacopo/VolumeDati/Documenti/papero.tk/unseen.papero.tk/node_modules/eslint-loader/index.js??ref--13-0!/media/jacopo/VolumeDati/Documenti/papero.tk/unseen.papero.tk/src/constants/mapConstants.js","dependencies":[{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/unseen.papero.tk/src/constants/mapConstants.js","mtime":1613907400192},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/unseen.papero.tk/node_modules/cache-loader/dist/cjs.js","mtime":1612540687717},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/unseen.papero.tk/node_modules/babel-loader/lib/index.js","mtime":1612540687689},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/unseen.papero.tk/node_modules/eslint-loader/index.js","mtime":1612540687937}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubWF0aC5zaWduLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuYW5jaG9yLmpzIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvbWVkaWEvamFjb3BvL1ZvbHVtZURhdGkvRG9jdW1lbnRpL3BhcGVyby50ay91bnNlZW4ucGFwZXJvLnRrL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCAqIGFzIFBJWEkgZnJvbSAicGl4aS5qcyI7CnZhciB6b29tRnVuY3Rpb25CYXNlID0gMS4xOwp2YXIgbW91c2VXaGVlbFJlZHVjdGlvbkZhY3RvciA9IDEwMDsKdmFyIGtleVNjcm9sbFNwZWVkID0gNTsKdmFyIHRpbGVTaXplID0gNjQ7CnZhciBwYXRoVGlsZXNldFdpZHRoID0gMjsKdmFyIHBhdGhUaWxlc2V0SGVpZ2h0ID0gMTk7CnZhciBtYXAgPSB7CiAgd2lkdGg6IDYwLAogIGhlaWdodDogNDAsCiAgYmFja2dyb3VuZDogW1s3LCA3LCA3LCA3XSwgWzcsIDcsIDcsIDddLCBbNywgNywgNywgN10sIFs3LCA3LCA3LCA3XV0KfTsKCkFycmF5LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAoYXJyKSB7CiAgaWYgKCFhcnIpIHJldHVybiBmYWxzZTsKICBpZiAodGhpcy5sZW5ndGggIT09IGFyci5sZW5ndGgpIHJldHVybiBmYWxzZTsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7CiAgICBpZiAodGhpc1tpXSAhPT0gYXJyW2ldKSByZXR1cm4gZmFsc2U7CiAgfQoKICByZXR1cm4gdHJ1ZTsKfTsKCkFycmF5LnByb3RvdHlwZS5jb250YWluc0FycmF5ID0gZnVuY3Rpb24gKGFyciwgZnJvbSkgewogIGlmICghYXJyKSByZXR1cm4gZmFsc2U7CgogIGZvciAodmFyIGkgPSBmcm9tIHx8IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7CiAgICBpZiAodGhpc1tpXS5lcXVhbHMoYXJyKSkgcmV0dXJuIHRydWU7CiAgfQoKICByZXR1cm4gZmFsc2U7Cn07CgpmdW5jdGlvbiBnZXRDb250YWluZXJGcm9tUGF0aE9iamVjdChwYXRoLCBzdGF0aW9ucywgdGlsZVNpemUsIHRpbGVUZXh0dXJlcykgewogIHZhciBmcm9tID0gc3RhdGlvbnNbcGF0aC5mcm9tIC0gMV0ucG9pbnQ7CiAgdmFyIHRvID0gc3RhdGlvbnNbcGF0aC50byAtIDFdLnBvaW50OwoKICB2YXIgY3VycmVudFBvaW50ID0gX3RvQ29uc3VtYWJsZUFycmF5KGZyb20pOwoKICB2YXIgY3VycmVudERpcmVjdGlvbiA9IHBhdGguZGlyZWN0aW9uOwogIHZhciBtID0gTWF0aC5zaWduKCh0b1sxXSAtIGZyb21bMV0pIC8gKHRvWzBdIC0gZnJvbVswXSkpOwogIHZhciB0dXJuc0RvbmUgPSAwOwogIHZhciBjb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTsKCiAgd2hpbGUgKCFjdXJyZW50UG9pbnQuZXF1YWxzKHRvKSkgewogICAgdmFyIHNwcml0ZSA9IHZvaWQgMDsKICAgIGlmIChjdXJyZW50RGlyZWN0aW9uID09PSAwKSBjdXJyZW50UG9pbnRbMF0gKz0gbSA9PT0gMCA/IDEgOiBtO2Vsc2UgY3VycmVudFBvaW50WzFdKys7CiAgICBpZiAoY3VycmVudFBvaW50LmVxdWFscyh0bykpIGJyZWFrOwogICAgdmFyIGlzVHVybmluZ1BvaW50ID0gcGF0aC50dXJucy5jb250YWluc0FycmF5KGN1cnJlbnRQb2ludCwgdHVybnNEb25lKTsKCiAgICBpZiAoaXNUdXJuaW5nUG9pbnQpIHsKICAgICAgaWYgKHBhdGgudHlwZSA8IDMpIHsKICAgICAgICBpZiAobSA9PT0gMSkgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRpbGVUZXh0dXJlc1syICogMyAqIHBhdGgudHlwZSArIDIgKyAxICsgY3VycmVudERpcmVjdGlvbl0pO2Vsc2Ugc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRpbGVUZXh0dXJlc1syICogMyAqIHBhdGgudHlwZSArIDIgKyAzICogY3VycmVudERpcmVjdGlvbl0pOwogICAgICB9IGVsc2UgewogICAgICAgIHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0aWxlVGV4dHVyZXNbOCAqIHBhdGgudHlwZSAtIDYgKyAyICsgMiAqIChtICsgMSkgKyBjdXJyZW50RGlyZWN0aW9uXSk7CiAgICAgIH0KCiAgICAgIGN1cnJlbnREaXJlY3Rpb24gPSAxIC0gY3VycmVudERpcmVjdGlvbjsKICAgICAgdHVybnNEb25lKys7CiAgICB9IGVsc2UgewogICAgICBpZiAocGF0aC50eXBlIDwgMykgewogICAgICAgIHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0aWxlVGV4dHVyZXNbMiAqIDMgKiBwYXRoLnR5cGUgKyBjdXJyZW50RGlyZWN0aW9uXSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRpbGVUZXh0dXJlc1s4ICogcGF0aC50eXBlIC0gNiArIDIgKiAobSArIDEpICsgY3VycmVudERpcmVjdGlvbl0pOwogICAgICB9CiAgICB9CgogICAgc3ByaXRlLnggPSB0aWxlU2l6ZSAqIGN1cnJlbnRQb2ludFswXTsKICAgIHNwcml0ZS55ID0gdGlsZVNpemUgKiBjdXJyZW50UG9pbnRbMV07CiAgICBjb250YWluZXIuYWRkQ2hpbGQoc3ByaXRlKTsKICB9CgogIHJldHVybiBjb250YWluZXI7Cn0KCmZ1bmN0aW9uIGdldENvbnRhaW5lckZyb21TdGF0aW9ucyhzdGF0aW9ucywgdGlsZVNpemUsIHRpbGVUZXh0dXJlcykgewogIHZhciBjb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGF0aW9ucy5sZW5ndGg7IGkrKykgewogICAgdmFyIHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0aWxlVGV4dHVyZXNbMzQgKyBzdGF0aW9uc1tpXS50eXBlXSk7CiAgICBzcHJpdGUueCA9IHRpbGVTaXplICogc3RhdGlvbnNbaV0ucG9pbnRbMF07CiAgICBzcHJpdGUueSA9IHRpbGVTaXplICogc3RhdGlvbnNbaV0ucG9pbnRbMV07CiAgICB2YXIgY29sb3IgPSBzdGF0aW9uc1tpXS50eXBlID09PSAyID8gIndoaXRlIiA6ICJibGFjayI7CiAgICB2YXIgbGFiZWwgPSBuZXcgUElYSS5UZXh0KHN0YXRpb25zW2ldLm51bWJlciwgewogICAgICBmb250RmFtaWx5OiAic2Fucy1zZXJpZiIsCiAgICAgIGZvbnRXZWlnaHQ6ICJib2xkIiwKICAgICAgZmlsbDogY29sb3IKICAgIH0pOwogICAgbGFiZWwuYW5jaG9yLnggPSBsYWJlbC5hbmNob3IueSA9IDAuNTsKICAgIGxhYmVsLnggPSBzcHJpdGUud2lkdGggLyAyOwogICAgbGFiZWwueSA9IHNwcml0ZS5oZWlnaHQgLyAyOwogICAgc3ByaXRlLmFkZENoaWxkKGxhYmVsKTsKICAgIGNvbnRhaW5lci5hZGRDaGlsZChzcHJpdGUpOwogIH0KCiAgcmV0dXJuIGNvbnRhaW5lcjsKfQoKZnVuY3Rpb24gdmVydGljYWxTY3JvbGwobnVtYmVyLCBlbGVtZW50KSB7CiAgZWxlbWVudC5zY3JvbGxUb3AgKz0gbnVtYmVyOwp9CgpmdW5jdGlvbiBob3Jpem9udGFsU2Nyb2xsKG51bWJlciwgZWxlbWVudCkgewogIGVsZW1lbnQuc2Nyb2xsTGVmdCArPSBudW1iZXI7Cn0KCmZ1bmN0aW9uIGtleVByZXNzZWQoZXZlbnQpIHsKICB2YXIgZWxlbWVudENsYXNzID0gIi5tYXAtbWFuYWdlcl9fbWFpbi1wYW5lbCI7CgogIHN3aXRjaCAoZXZlbnQua2V5LnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSkgewogICAgY2FzZSAidyI6CiAgICAgIHZlcnRpY2FsU2Nyb2xsKC1rZXlTY3JvbGxTcGVlZCwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50Q2xhc3MpKTsKICAgICAgYnJlYWs7CgogICAgY2FzZSAiYXJyb3d1cCI6CiAgICAgIHZlcnRpY2FsU2Nyb2xsKC1rZXlTY3JvbGxTcGVlZCwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50Q2xhc3MpKTsKICAgICAgYnJlYWs7CgogICAgY2FzZSAiYSI6CiAgICAgIGhvcml6b250YWxTY3JvbGwoLWtleVNjcm9sbFNwZWVkLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW1lbnRDbGFzcykpOwogICAgICBicmVhazsKCiAgICBjYXNlICJhcnJvd2xlZnQiOgogICAgICBob3Jpem9udGFsU2Nyb2xsKC1rZXlTY3JvbGxTcGVlZCwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50Q2xhc3MpKTsKICAgICAgYnJlYWs7CgogICAgY2FzZSAicyI6CiAgICAgIHZlcnRpY2FsU2Nyb2xsKGtleVNjcm9sbFNwZWVkLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW1lbnRDbGFzcykpOwogICAgICBicmVhazsKCiAgICBjYXNlICJhcnJvd2Rvd24iOgogICAgICB2ZXJ0aWNhbFNjcm9sbChrZXlTY3JvbGxTcGVlZCwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50Q2xhc3MpKTsKICAgICAgYnJlYWs7CgogICAgY2FzZSAiZCI6CiAgICAgIGhvcml6b250YWxTY3JvbGwoa2V5U2Nyb2xsU3BlZWQsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbWVudENsYXNzKSk7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgImFycm93cmlnaHQiOgogICAgICBob3Jpem9udGFsU2Nyb2xsKGtleVNjcm9sbFNwZWVkLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW1lbnRDbGFzcykpOwogICAgICBicmVhazsKICB9Cn0KCmV4cG9ydCB7IHpvb21GdW5jdGlvbkJhc2UsIG1vdXNlV2hlZWxSZWR1Y3Rpb25GYWN0b3IsIGtleVNjcm9sbFNwZWVkLCB0aWxlU2l6ZSwgcGF0aFRpbGVzZXRXaWR0aCwgcGF0aFRpbGVzZXRIZWlnaHQsIG1hcCwgZ2V0Q29udGFpbmVyRnJvbVBhdGhPYmplY3QsIGdldENvbnRhaW5lckZyb21TdGF0aW9ucywgdmVydGljYWxTY3JvbGwsIGhvcml6b250YWxTY3JvbGwsIGtleVByZXNzZWQgfTs="},{"version":3,"sources":["/media/jacopo/VolumeDati/Documenti/papero.tk/unseen.papero.tk/src/constants/mapConstants.js"],"names":["PIXI","zoomFunctionBase","mouseWheelReductionFactor","keyScrollSpeed","tileSize","pathTilesetWidth","pathTilesetHeight","map","width","height","background","Array","prototype","equals","arr","length","i","containsArray","from","getContainerFromPathObject","path","stations","tileTextures","point","to","currentPoint","currentDirection","direction","m","Math","sign","turnsDone","container","Container","sprite","isTurningPoint","turns","type","Sprite","x","y","addChild","getContainerFromStations","color","label","Text","number","fontFamily","fontWeight","fill","anchor","verticalScroll","element","scrollTop","horizontalScroll","scrollLeft","keyPressed","event","elementClass","key","toString","toLowerCase","document","querySelector"],"mappings":"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","sourcesContent":["import * as PIXI from \"pixi.js\";\n\nconst zoomFunctionBase = 1.1;\nconst mouseWheelReductionFactor = 100;\nconst keyScrollSpeed = 5;\nconst tileSize = 64;\nconst pathTilesetWidth = 2;\nconst pathTilesetHeight = 19;\nconst map = {\n    width: 60,\n    height: 40,\n    background: [\n        [7, 7, 7, 7],\n        [7, 7, 7, 7],\n        [7, 7, 7, 7],\n        [7, 7, 7, 7]\n    ]\n};\n\nArray.prototype.equals = function(arr){\n    if(!arr) return false;\n    if(this.length !== arr.length) return false;\n    for(let i = 0; i < this.length; i++){\n        if(this[i] !== arr[i]) return false;\n    }\n    return true;\n}\n\nArray.prototype.containsArray = function (arr, from){\n    if(!arr) return false;\n    for (let i = from || 0; i < this.length; i++){\n        if(this[i].equals(arr)) return true;\n    }\n    return false;\n}\n\nfunction getContainerFromPathObject(path, stations, tileSize, tileTextures){\n    let from = stations[path.from-1].point;\n    let to = stations[path.to-1].point;\n    let currentPoint = [...from];\n    let currentDirection = path.direction;\n    let m = Math.sign( ( to[1]-from[1] ) / ( to[0]-from[0]) );\n    let turnsDone = 0;\n    let container = new PIXI.Container();\n    while(!currentPoint.equals(to)){\n        let sprite;\n        if(currentDirection===0) currentPoint[0] += (m===0) ? 1 : m;\n        else currentPoint[1]++;\n        if(currentPoint.equals((to))) break;\n        let isTurningPoint = path.turns.containsArray(currentPoint, turnsDone);\n        if (isTurningPoint) {\n            if(path.type < 3) {\n                if (m === 1) sprite = new PIXI.Sprite(tileTextures[2 * 3 * path.type + 2 + 1 + currentDirection]);\n                else sprite = new PIXI.Sprite(tileTextures[2 * 3 * path.type + 2 + 3 * currentDirection]);\n            } else {\n                sprite = new PIXI.Sprite(tileTextures[8 * path.type - 6 + 2 + 2*(m+1) + currentDirection]);\n            }\n            currentDirection = 1 - currentDirection;\n            turnsDone++;\n        } else {\n            if(path.type < 3) {\n                sprite = new PIXI.Sprite(tileTextures[2 * 3 * path.type + currentDirection]);\n            } else {\n                sprite = new PIXI.Sprite(tileTextures[8 * path.type - 6 + 2*(m+1) + currentDirection]);\n            }\n\n        }\n        sprite.x = tileSize * currentPoint[0];\n        sprite.y = tileSize * currentPoint[1];\n        container.addChild(sprite);\n    }\n    return container;\n}\n\nfunction getContainerFromStations(stations, tileSize, tileTextures){\n    let container = new PIXI.Container();\n    for(let i = 0; i < stations.length; i++){\n        let sprite = new PIXI.Sprite(tileTextures[34+stations[i].type]);\n        sprite.x = tileSize * stations[i].point[0];\n        sprite.y = tileSize * stations[i].point[1];\n        let color = (stations[i].type === 2) ? \"white\" : \"black\";\n        let label = new PIXI.Text(stations[i].number, {fontFamily: \"sans-serif\", fontWeight: \"bold\", fill: color});\n        label.anchor.x = label.anchor.y = 0.5;\n        label.x = sprite.width / 2;\n        label.y = sprite.height / 2;\n        sprite.addChild(label);\n        container.addChild(sprite);\n    }\n    return container;\n}\n\nfunction verticalScroll(number, element) {\n    element.scrollTop += number;\n}\n\nfunction horizontalScroll(number, element) {\n    element.scrollLeft += number;\n}\n\nfunction keyPressed(event) {\n    let elementClass = \".map-manager__main-panel\";\n    switch (event.key.toString().toLowerCase()){\n        case \"w\":\n            verticalScroll(-keyScrollSpeed, document.querySelector(elementClass));\n            break;\n        case \"arrowup\":\n            verticalScroll(-keyScrollSpeed, document.querySelector(elementClass));\n            break;\n        case \"a\":\n            horizontalScroll(-keyScrollSpeed, document.querySelector(elementClass));\n            break;\n        case \"arrowleft\":\n            horizontalScroll(-keyScrollSpeed, document.querySelector(elementClass));\n            break;\n        case \"s\":\n            verticalScroll(keyScrollSpeed, document.querySelector(elementClass));\n            break;\n        case \"arrowdown\":\n            verticalScroll(keyScrollSpeed, document.querySelector(elementClass));\n            break;\n        case \"d\":\n            horizontalScroll(keyScrollSpeed, document.querySelector(elementClass));\n            break;\n        case \"arrowright\":\n            horizontalScroll(keyScrollSpeed, document.querySelector(elementClass));\n            break;\n    }\n}\n\nexport {\n    zoomFunctionBase,\n    mouseWheelReductionFactor,\n    keyScrollSpeed,\n    tileSize,\n    pathTilesetWidth,\n    pathTilesetHeight,\n    map,\n    getContainerFromPathObject,\n    getContainerFromStations,\n    verticalScroll,\n    horizontalScroll,\n    keyPressed\n}"]}]}