(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["home"],{1360:function(e,t,n){"use strict";n("962c")},"4d63":function(e,t,n){var a=n("83ab"),c=n("da84"),o=n("94ca"),r=n("7156"),i=n("9bf2").f,u=n("241c").f,s=n("44e7"),l=n("ad6d"),m=n("9f7f"),d=n("6eeb"),p=n("d039"),b=n("69f3").set,g=n("2626"),f=n("b622"),h=f("match"),O=c.RegExp,j=O.prototype,v=/a/g,_=/a/g,w=new O(v)!==v,k=m.UNSUPPORTED_Y,x=a&&o("RegExp",!w||k||p((function(){return _[h]=!1,O(v)!=v||O(_)==_||"/a/i"!=O(v,"i")})));if(x){var C=function(e,t){var n,a=this instanceof C,c=s(e),o=void 0===t;if(!a&&c&&e.constructor===C&&o)return e;w?c&&!o&&(e=e.source):e instanceof C&&(o&&(t=l.call(e)),e=e.source),k&&(n=!!t&&t.indexOf("y")>-1,n&&(t=t.replace(/y/g,"")));var i=r(w?new O(e,t):O(e,t),a?this:j,C);return k&&n&&b(i,{sticky:n}),i},G=function(e){e in C||i(C,e,{configurable:!0,get:function(){return O[e]},set:function(t){O[e]=t}})},T=u(O),y=0;while(T.length>y)G(T[y++]);j.constructor=C,C.prototype=j,d(c,"RegExp",C)}g("RegExp")},"4ff5":function(e,t,n){"use strict";n("7bbb")},"7bbb":function(e,t,n){},8383:function(e,t,n){},9263:function(e,t,n){"use strict";var a=n("ad6d"),c=n("9f7f"),o=RegExp.prototype.exec,r=String.prototype.replace,i=o,u=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),s=c.UNSUPPORTED_Y||c.BROKEN_CARET,l=void 0!==/()??/.exec("")[1],m=u||l||s;m&&(i=function(e){var t,n,c,i,m=this,d=s&&m.sticky,p=a.call(m),b=m.source,g=0,f=e;return d&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),f=String(e).slice(m.lastIndex),m.lastIndex>0&&(!m.multiline||m.multiline&&"\n"!==e[m.lastIndex-1])&&(b="(?: "+b+")",f=" "+f,g++),n=new RegExp("^(?:"+b+")",p)),l&&(n=new RegExp("^"+b+"$(?!\\s)",p)),u&&(t=m.lastIndex),c=o.call(d?n:m,f),d?c?(c.input=c.input.slice(g),c[0]=c[0].slice(g),c.index=m.lastIndex,m.lastIndex+=c[0].length):m.lastIndex=0:u&&c&&(m.lastIndex=m.global?c.index+c[0].length:t),l&&c&&c.length>1&&r.call(c[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(c[i]=void 0)})),c}),e.exports=i},"962c":function(e,t,n){},"9f7f":function(e,t,n){"use strict";var a=n("d039");function c(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=a((function(){var e=c("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=a((function(){var e=c("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ac1f:function(e,t,n){"use strict";var a=n("23e7"),c=n("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==c},{exec:c})},ac5b:function(e,t,n){},b88d:function(e,t,n){},bb51:function(e,t,n){"use strict";n.r(t);var a=n("7a23"),c={class:"main-panel"};function o(e,t,o,r,i,u){var s=Object(a["A"])("Header"),l=Object(a["A"])("GameHistory"),m=Object(a["A"])("GameButtons"),d=Object(a["A"])("UserHamburgerMenu");return Object(a["s"])(),Object(a["e"])("div",c,[Object(a["h"])(s),Object(a["h"])(l,{games:i.games},null,8,["games"]),Object(a["h"])(m),Object(a["h"])("div",{class:["hamburger-menu__wrapper",{hidden:!i.showHamburgerMenu}]},[Object(a["h"])(d,{src:n("c749"),show:i.showHamburgerMenu,onToggleShow:t[1]||(t[1]=function(e){return i.showHamburgerMenu=e})},null,8,["src","show"])],2)])}n("d3b7");var r=Object(a["M"])("data-v-4b03d35c");Object(a["v"])("data-v-4b03d35c");var i={class:"header__main-panel"},u=Object(a["h"])("h1",null,"Unseen",-1);Object(a["t"])();var s=r((function(e,t,n,c,o,r){return Object(a["s"])(),Object(a["e"])("div",i,[u])})),l={name:"Header"};n("dc00");l.render=s,l.__scopeId="data-v-4b03d35c";var m=l,d=Object(a["M"])("data-v-f463a726");Object(a["v"])("data-v-f463a726");var p={class:"manage-new-game__main-class"},b={class:"game-info__wrapper"},g=Object(a["h"])("div",{class:"back-arrow"},null,-1),f=Object(a["h"])("button",null,"Join",-1),h={class:"game-info__wrapper"},O=Object(a["h"])("div",{class:"back-arrow"},null,-1),j=Object(a["h"])("button",null,"Create",-1);Object(a["t"])();var v=d((function(e,t,n,c,o,r){return Object(a["s"])(),Object(a["e"])("div",p,[null===o.choice?(Object(a["s"])(),Object(a["e"])("button",{key:0,onClick:t[1]||(t[1]=function(e){return o.choice="join"})},"Join game")):Object(a["f"])("",!0),null===o.choice?(Object(a["s"])(),Object(a["e"])("button",{key:1,onClick:t[2]||(t[2]=function(e){return o.choice="create"})},"Create game")):Object(a["f"])("",!0),Object(a["K"])(Object(a["h"])("div",b,[Object(a["h"])("form",{onSubmit:t[6]||(t[6]=Object(a["L"])((function(){return r.joinGame&&r.joinGame.apply(r,arguments)}),["prevent"]))},[Object(a["h"])("div",{class:"back-arrow-wrapper",onClick:t[3]||(t[3]=function(e){return o.choice=null})},[g]),Object(a["K"])(Object(a["h"])("input",{placeholder:"Insert game name","onUpdate:modelValue":t[4]||(t[4]=function(e){return o.gameToJoin=e}),onInput:t[5]||(t[5]=function(e){return r.checkInput(o.gameToJoin,!0)})},null,544),[[a["G"],o.gameToJoin]]),f],32)],512),[[a["H"],"join"===o.choice]]),Object(a["K"])(Object(a["h"])("div",h,[Object(a["h"])("form",{onSubmit:t[10]||(t[10]=Object(a["L"])((function(){return r.createGame&&r.createGame.apply(r,arguments)}),["prevent"]))},[Object(a["h"])("div",{class:"back-arrow-wrapper",onClick:t[7]||(t[7]=function(e){return o.choice=null})},[O]),Object(a["K"])(Object(a["h"])("input",{placeholder:"Insert game name","onUpdate:modelValue":t[8]||(t[8]=function(e){return o.gameToCreate=e}),onInput:t[9]||(t[9]=function(e){return r.checkInput(o.gameToCreate,!1)})},null,544),[[a["G"],o.gameToCreate]]),j],32)],512),[[a["H"],"create"===o.choice]]),o.showPopup?(Object(a["s"])(),Object(a["e"])("div",{key:2,class:"game-buttons__popup-background",onClick:t[14]||(t[14]=function(e){return o.showPopup=!1})},[Object(a["h"])("div",{class:"game-buttons__popup",onClick:t[13]||(t[13]=Object(a["L"])((function(){}),["stop"]))},[Object(a["h"])("h1",null,Object(a["E"])(o.popupMessage),1),Object(a["h"])("div",null,[Object(a["h"])("button",{onClick:t[11]||(t[11]=function(e){return r.redirectToGame(o.popupGame)})},Object(a["E"])(o.popupConfirmButton),1),Object(a["h"])("button",{onClick:t[12]||(t[12]=function(e){return o.showPopup=!1})},"Cancel")])])])):Object(a["f"])("",!0)])})),_=(n("4d63"),n("ac1f"),n("25f0"),n("6c02")),w=n("e6fd"),k=n("bc3a"),x=n.n(k),C={name:"GameButtons",data:function(){return{router:Object(_["d"])(),choice:null,gameToJoin:null,gameToCreate:null,showPopup:!1,popupMessage:"",popupConfirmButton:"",popupGame:null}},methods:{joinGame:function(){var e=this;this.gameToJoin&&x.a.get(w["f"],{params:{game_id:this.gameToJoin}}).then((function(t){t.data?e.router.push({name:"Game",params:{gameId:e.gameToJoin}}):(e.popupMessage="This game does not exist",e.popupConfirmButton="Create it now",e.popupGame=e.gameToJoin,e.showPopup=!0)}))},createGame:function(){var e=this;this.gameToCreate&&x.a.get(w["f"],{params:{game_id:this.gameToCreate}}).then((function(t){t.data?(e.popupMessage="This game already exists",e.popupConfirmButton="Join it now",e.popupGame=e.gameToCreate,e.showPopup=!0):e.router.push({name:"Game",params:{gameId:e.gameToCreate}})}))},redirectToGame:function(e){this.router.push({name:"Game",params:{gameId:e}})},checkInput:function(e,t){var n=RegExp("[$&+,:;=?@#|'<>.-^*()%!àèéìòù°\"/£ç§{}¹²³¼½¬\\s]","g");if(n.test(e)){var a=e.replaceAll(n,"");t?this.gameToJoin=a:this.gameToCreate=a}}}};n("f94e");C.render=v,C.__scopeId="data-v-f463a726";var G=C,T=Object(a["M"])("data-v-167f808f");Object(a["v"])("data-v-167f808f");var y={class:"my-games__main-panel"},I={key:0};Object(a["t"])();var E=T((function(e,t,n,c,o,r){var i=Object(a["A"])("Game");return Object(a["s"])(),Object(a["e"])("div",y,[n.games&&n.games.length>0?(Object(a["s"])(),Object(a["e"])("span",I,"Active games")):Object(a["f"])("",!0),(Object(a["s"])(!0),Object(a["e"])(a["a"],null,Object(a["z"])(n.games,(function(e){return Object(a["s"])(),Object(a["e"])(i,{key:e.game_id,game:e},null,8,["game"])})),128))])})),R=Object(a["M"])("data-v-67fc6596");Object(a["v"])("data-v-67fc6596");var H={class:"game__not-clicked-main-panel"},J={class:"game__date-container"},M={key:0,class:"game__clicked-main-panel"};Object(a["t"])();var U=R((function(e,t,n,c,o,r){return Object(a["s"])(),Object(a["e"])("div",{class:"game__main-panel",onClick:t[3]||(t[3]=function(){return r.toggleClicked&&r.toggleClicked.apply(r,arguments)})},[Object(a["h"])("div",H,[Object(a["h"])("div",{class:"name-container",id:n.game.game_id+"container"},[Object(a["h"])("h1",{id:n.game.game_id+"name",class:{overflows:o.overflows}},Object(a["E"])(n.game.game_id),11,["id"])],8,["id"]),Object(a["h"])("div",J,Object(a["E"])(n.game.date),1)]),o.clicked?(Object(a["s"])(),Object(a["e"])("div",M,[Object(a["h"])("button",{onClick:t[1]||(t[1]=Object(a["L"])((function(){return r.redirectToGame&&r.redirectToGame.apply(r,arguments)}),["stop"]))},"Join"),Object(a["h"])("button",{onClick:t[2]||(t[2]=Object(a["L"])((function(){return r.quitGame&&r.quitGame.apply(r,arguments)}),["stop"]))},"Quit")])):Object(a["f"])("",!0)])})),P={name:"Game",props:{game:{type:Object,required:!0}},data:function(){return{overflows:!1,router:Object(_["d"])(),clicked:!1}},methods:{toggleClicked:function(){this.clicked=!this.clicked},redirectToGame:function(){this.router.push({name:"Game",params:{gameId:this.game.game_id}})},quitGame:function(){var e=this;x.a.post(w["i"],{game_id:this.game.game_id}).then((function(){e.router.go(0)}))}},mounted:function(){var e=document.getElementById(this.game.game_id+"name"),t=document.getElementById(this.game.game_id+"container");e&&(this.overflows=t.clientWidth<e.scrollWidth)}};n("4ff5");P.render=U,P.__scopeId="data-v-67fc6596";var B=P,A={name:"GameHistory",components:{Game:B},props:{games:{required:!0}}};n("d7cc");A.render=E,A.__scopeId="data-v-167f808f";var S=A,L=n("4360"),K=Object(a["i"])((function(){return n.e("userHamburgerMenu").then(n.bind(null,"5d86"))})),q={name:"Home",components:{UserHamburgerMenu:K,GameButtons:G,GameHistory:S,Header:m},data:function(){return{games:null,showHamburgerMenu:!1}},mounted:function(){var e=this;x.a.get(w["e"]).then((function(t){e.games=t.data}))},beforeRouteEnter:function(e,t,n){""===L["a"].state.username&&-1===L["a"].state.logged?x.a.get(w["g"]).then((function(e){e.data?(L["a"].dispatch("setLogged",e.data.google_signed_in),L["a"].dispatch("setUsername",decodeURIComponent(e.data.username)),n()):(L["a"].dispatch("setUsername",null),L["a"].dispatch("setLogged",!1),n())})).catch((function(){location.href=location.origin+"/error?from="+location.pathname})):n()}};n("1360");q.render=o;t["default"]=q},d7cc:function(e,t,n){"use strict";n("b88d")},dc00:function(e,t,n){"use strict";n("8383")},f94e:function(e,t,n){"use strict";n("ac5b")}}]);
//# sourceMappingURL=home.ea9de9fa.js.map