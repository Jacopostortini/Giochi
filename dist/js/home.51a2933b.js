(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["home"],{1047:function(e,t,a){"use strict";a("985b")},"129e":function(e,t,a){"use strict";a("5e68")},"27ed":function(e,t,a){},"5e68":function(e,t,a){},8383:function(e,t,a){},"985b":function(e,t,a){},a296:function(e,t,a){"use strict";a("ba89")},a3e8:function(e,t,a){"use strict";a("27ed")},ba89:function(e,t,a){},bb51:function(e,t,a){"use strict";a.r(t);var n=a("7a23"),c={class:"main-panel"};function o(e,t,o,i,r,u){var s=Object(n["B"])("Header"),m=Object(n["B"])("GameHistory"),d=Object(n["B"])("GameButtons"),l=Object(n["B"])("UserHamburgerMenu");return Object(n["t"])(),Object(n["e"])("div",c,[Object(n["i"])(s),Object(n["i"])(m,{games:r.games},null,8,["games"]),Object(n["i"])(d),Object(n["i"])(l,{src:a("c749"),show:r.showHamburgerMenu,onToggleShow:t[1]||(t[1]=function(e){return r.showHamburgerMenu=e})},null,8,["src","show"])])}a("d3b7");var i=Object(n["N"])("data-v-4b03d35c");Object(n["w"])("data-v-4b03d35c");var r={class:"header__main-panel"},u=Object(n["i"])("h1",null,"Unseen",-1);Object(n["u"])();var s=i((function(e,t,a,c,o,i){return Object(n["t"])(),Object(n["e"])("div",r,[u])})),m={name:"Header"};a("dc00");m.render=s,m.__scopeId="data-v-4b03d35c";var d=m,l=Object(n["N"])("data-v-9889323a");Object(n["w"])("data-v-9889323a");var p={class:"manage-new-game__main-class"},b={class:"game-info__wrapper"},g=Object(n["i"])("div",{class:"back-arrow"},null,-1),j=Object(n["i"])("button",null,"Join",-1),O={class:"game-info__wrapper"},f=Object(n["i"])("div",{class:"back-arrow"},null,-1),h=Object(n["i"])("button",null,"Create",-1);Object(n["u"])();var v=l((function(e,t,a,c,o,i){return Object(n["t"])(),Object(n["e"])("div",p,[null===o.choice?(Object(n["t"])(),Object(n["e"])("button",{key:0,onClick:t[1]||(t[1]=function(e){return o.choice="join"})},"Join game")):Object(n["f"])("",!0),null===o.choice?(Object(n["t"])(),Object(n["e"])("button",{key:1,onClick:t[2]||(t[2]=function(e){return o.choice="create"})},"Create game")):Object(n["f"])("",!0),Object(n["L"])(Object(n["i"])("div",b,[Object(n["i"])("form",{onSubmit:t[6]||(t[6]=Object(n["M"])((function(){return i.joinGame&&i.joinGame.apply(i,arguments)}),["prevent"]))},[Object(n["i"])("div",{class:"back-arrow-wrapper",onClick:t[3]||(t[3]=function(e){return o.choice=null})},[g]),Object(n["L"])(Object(n["i"])("input",{placeholder:"Insert game name","onUpdate:modelValue":t[4]||(t[4]=function(e){return o.gameToJoin=e}),onInput:t[5]||(t[5]=function(e){return i.checkInput(o.gameToJoin,!0)})},null,544),[[n["H"],o.gameToJoin]]),j],32)],512),[[n["I"],"join"===o.choice]]),Object(n["L"])(Object(n["i"])("div",O,[Object(n["i"])("form",{onSubmit:t[10]||(t[10]=Object(n["M"])((function(){return i.createGame&&i.createGame.apply(i,arguments)}),["prevent"]))},[Object(n["i"])("div",{class:"back-arrow-wrapper",onClick:t[7]||(t[7]=function(e){return o.choice=null})},[f]),Object(n["L"])(Object(n["i"])("input",{placeholder:"Insert game name","onUpdate:modelValue":t[8]||(t[8]=function(e){return o.gameToCreate=e}),onInput:t[9]||(t[9]=function(e){return i.checkInput(o.gameToCreate,!1)})},null,544),[[n["H"],o.gameToCreate]]),h],32)],512),[[n["I"],"create"===o.choice]]),o.showPopup?(Object(n["t"])(),Object(n["e"])("div",{key:2,class:"game-buttons__popup-background",onClick:t[14]||(t[14]=function(e){return o.showPopup=!1})},[Object(n["i"])("div",{class:"game-buttons__popup",onClick:t[13]||(t[13]=Object(n["M"])((function(){}),["stop"]))},[Object(n["i"])("h1",null,Object(n["F"])(o.popupMessage),1),Object(n["i"])("div",null,[Object(n["i"])("button",{onClick:t[11]||(t[11]=function(e){return i.redirectToGame(o.popupGame)})},Object(n["F"])(o.popupConfirmButton),1),Object(n["i"])("button",{onClick:t[12]||(t[12]=function(e){return o.showPopup=!1})},"Cancel")])])])):Object(n["f"])("",!0)])})),_=(a("4d63"),a("ac1f"),a("25f0"),a("6c02")),w=a("e6fd"),C=a("bc3a"),k=a.n(C),G={name:"GameButtons",data:function(){return{router:Object(_["d"])(),choice:null,gameToJoin:null,gameToCreate:null,showPopup:!1,popupMessage:"",popupConfirmButton:"",popupGame:null}},methods:{joinGame:function(){var e=this;this.gameToJoin&&k.a.get(w["c"].getGameStatusUrl,{params:{game_id:this.gameToJoin.toLowerCase()}}).then((function(t){t.data?e.router.push({name:"Game",params:{gameId:e.gameToJoin.toLowerCase()}}):(e.popupMessage="This game does not exist",e.popupConfirmButton="Create it now",e.popupGame=e.gameToJoin,e.showPopup=!0)}))},createGame:function(){var e=this;this.gameToCreate&&k.a.get(w["c"].getGameStatusUrl,{params:{game_id:this.gameToCreate.toLowerCase()}}).then((function(t){t.data?(e.popupMessage="This game already exists",e.popupConfirmButton="Join it now",e.popupGame=e.gameToCreate,e.showPopup=!0):e.router.push({name:"Game",params:{gameId:e.gameToCreate.toLowerCase()}})}))},redirectToGame:function(e){this.router.push({name:"Game",params:{gameId:e.toLowerCase()}})},checkInput:function(e,t){var a=RegExp("[^a-zA-Z0-9]","g"),n=e;a.test(e)&&(n=e.replaceAll(a,"")),t?this.gameToJoin=n.toUpperCase():this.gameToCreate=n.toUpperCase()}}};a("a296");G.render=v,G.__scopeId="data-v-9889323a";var T=G,I=Object(n["N"])("data-v-e86a8f0a");Object(n["w"])("data-v-e86a8f0a");var y={class:"my-games__main-panel"},U={key:0};Object(n["u"])();var H=I((function(e,t,a,c,o,i){var r=Object(n["B"])("Game");return Object(n["t"])(),Object(n["e"])("div",y,[a.games&&a.games.length>0?(Object(n["t"])(),Object(n["e"])("span",U,"Active games")):Object(n["f"])("",!0),(Object(n["t"])(!0),Object(n["e"])(n["a"],null,Object(n["A"])(a.games,(function(e){return Object(n["t"])(),Object(n["e"])(r,{key:e.game_id,game:e},null,8,["game"])})),128))])})),J=Object(n["N"])("data-v-d441af54");Object(n["w"])("data-v-d441af54");var M={class:"game__not-clicked-main-panel"},B={class:"game__date-container"},L={key:0,class:"game__clicked-main-panel"};Object(n["u"])();var q=J((function(e,t,a,c,o,i){return Object(n["t"])(),Object(n["e"])("div",{class:"game__main-panel",onClick:t[3]||(t[3]=function(){return i.toggleClicked&&i.toggleClicked.apply(i,arguments)})},[Object(n["i"])("div",M,[Object(n["i"])("div",{class:"name-container",id:a.game.game_id+"container"},[Object(n["i"])("h1",{id:a.game.game_id+"name",class:{overflows:o.overflows}},Object(n["F"])(a.game.game_id.toUpperCase()),11,["id"])],8,["id"]),Object(n["i"])("div",B,Object(n["F"])(a.game.date),1)]),o.clicked?(Object(n["t"])(),Object(n["e"])("div",L,[Object(n["i"])("button",{onClick:t[1]||(t[1]=Object(n["M"])((function(){return i.redirectToGame&&i.redirectToGame.apply(i,arguments)}),["stop"]))},"Join"),Object(n["i"])("button",{onClick:t[2]||(t[2]=Object(n["M"])((function(){return i.quitGame&&i.quitGame.apply(i,arguments)}),["stop"]))},"Quit")])):Object(n["f"])("",!0)])})),P={name:"Game",props:{game:{type:Object,required:!0}},data:function(){return{overflows:!1,router:Object(_["d"])(),clicked:!1}},methods:{toggleClicked:function(){this.clicked=!this.clicked},redirectToGame:function(){this.router.push({name:"Game",params:{gameId:this.game.game_id}})},quitGame:function(){var e=this;k.a.post(w["c"].quitGameUrl,{game_id:this.game.game_id}).then((function(){e.router.go(0)}))}},mounted:function(){var e=document.getElementById(this.game.game_id+"name"),t=document.getElementById(this.game.game_id+"container");e&&(this.overflows=t.clientWidth<e.scrollWidth)}};a("129e");P.render=q,P.__scopeId="data-v-d441af54";var A=P,S={name:"GameHistory",components:{Game:A},props:{games:{required:!0}}};a("1047");S.render=H,S.__scopeId="data-v-e86a8f0a";var E=S,F=a("4360"),N=Object(n["j"])((function(){return a.e("userHamburgerMenu").then(a.bind(null,"5d86"))})),x={name:"Home",components:{UserHamburgerMenu:N,GameButtons:T,GameHistory:E,Header:d},data:function(){return{games:null,showHamburgerMenu:!1}},mounted:function(){var e=this;k.a.get(w["c"].getAllGamesUrl).then((function(t){e.games=t.data}))},beforeRouteEnter:function(e,t,a){""===F["a"].state.username&&-1===F["a"].state.logged?k.a.get(w["c"].getLoginInfoUrl).then((function(e){e.data?(F["a"].dispatch("setLogged",e.data.google_signed_in),F["a"].dispatch("setUsername",decodeURIComponent(e.data.username)),a()):(F["a"].dispatch("setUsername",null),F["a"].dispatch("setLogged",!1),a())})).catch((function(){location.href=location.origin+"/error?from="+location.pathname})):a()}};a("a3e8");x.render=o;t["default"]=x},dc00:function(e,t,a){"use strict";a("8383")}}]);
//# sourceMappingURL=home.51a2933b.js.map